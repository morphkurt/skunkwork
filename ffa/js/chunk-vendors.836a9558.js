(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(e,t,n){var i=n("b622"),r=i("toStringTag"),a={};a[r]="z",e.exports="[object z]"===String(a)},"012b":function(e,t,n){"use strict";var i=n("4329"),r=n("194a"),a=n("ed93"),o=n("2e9f"),s=n("fea5"),u=function(e,t){var n,i,c,l=0,d=[],f=[],h=null,p=null,m=!0;t=t||{},u.prototype.init.call(this),this.push=function(t){a.collectDtsInfo(e,t),"undefined"===typeof e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],s.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||i||(i=t.data,e.pps=[t.data]),d.push(t)},this.processNals_=function(n){var i;d=f.concat(d);while(d.length){if("access_unit_delimiter_rbsp"===d[0].nalUnitType)break;d.shift()}if(0!==d.length){var s=o.groupNalsIntoFrames(d);if(s.length)if(f=s[s.length-1],n&&(s.pop(),s.duration-=f.duration,s.nalCount-=f.length,s.byteLength-=f.byteLength),s.length){if(this.trigger("timelineStartInfo",e.timelineStartInfo),m){if(c=o.groupFramesIntoGops(s),!c[0][0].keyFrame){if(c=o.extendFirstKeyFrame(c),!c[0][0].keyFrame)return d=[].concat.apply([],s).concat(f),void(f=[]);s=[].concat.apply([],c),s.duration=c.duration}m=!1}for(null===h&&(h=s[0].pts,p=h),p+=s.duration,this.trigger("timingInfo",{start:h,end:p}),i=0;i<s.length;i++){var u=s[i];e.samples=o.generateSampleTableForFrame(u);var g=r.mdat(o.concatenateNalDataForFrame(u));a.clearDtsInfo(e),a.collectDtsInfo(e,u),e.baseMediaDecodeTime=a.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps);var v=r.moof(l,[e]);l++,e.initSegment=r.initSegment([e]);var y=new Uint8Array(v.byteLength+g.byteLength);y.set(v),y.set(g,v.byteLength),this.trigger("data",{track:e,boxes:y,sequence:l,videoFrameDts:u.dts,videoFramePts:u.pts})}d=[]}else d=[]}},this.resetTimingAndConfig_=function(){n=void 0,i=void 0,h=null,p=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),f=[],d=[],m=!0,this.trigger("reset")}};u.prototype=new i,e.exports=u},"0366":function(e,t,n){var i=n("1c0b");e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},"06cf":function(e,t,n){var i=n("83ab"),r=n("d1e7"),a=n("5c6c"),o=n("fc6a"),s=n("c04e"),u=n("5135"),c=n("0cfb"),l=Object.getOwnPropertyDescriptor;t.f=i?l:function(e,t){if(e=o(e),t=s(t,!0),c)try{return l(e,t)}catch(n){}if(u(e,t))return a(!r.f.call(e,t),e[t])}},"0ccb":function(e,t,n){var i=n("50c4"),r=n("1148"),a=n("1d80"),o=Math.ceil,s=function(e){return function(t,n,s){var u,c,l=String(a(t)),d=l.length,f=void 0===s?" ":String(s),h=i(n);return h<=d||""==f?l:(u=h-d,c=r.call(f,o(u/f.length)),c.length>u&&(c=c.slice(0,u)),e?l+c:c+l)}};e.exports={start:s(!1),end:s(!0)}},"0cfb":function(e,t,n){var i=n("83ab"),r=n("d039"),a=n("cc12");e.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0d3b":function(e,t,n){var i=n("d039"),r=n("b622"),a=n("c430"),o=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t["delete"]("b"),n+=i+e})),a&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},"0ea2":function(e,t,n){"use strict";var i,r,a,o=n("4329"),s=n("4e69"),u=n("ae75"),c=n("256f").TimestampRolloverStream,l=188,d=71;i=function(){var e=new Uint8Array(l),t=0;i.prototype.init.call(this),this.push=function(n){var i,r=0,a=l;t?(i=new Uint8Array(n.byteLength+t),i.set(e.subarray(0,t)),i.set(n,t),t=0):i=n;while(a<i.byteLength)i[r]!==d||i[a]!==d?(r++,a++):(this.trigger("data",i.subarray(r,a)),r+=l,a+=l);r<i.byteLength&&(e.set(i.subarray(r),0),t=i.byteLength-r)},this.flush=function(){t===l&&e[0]===d&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}},i.prototype=new o,r=function(){var e,t,n,i;r.prototype.init.call(this),i=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,i){var r=0;i.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===i.type?t(e.subarray(r),i):n(e.subarray(r),i)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],i.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=i.pmtPid},n=function(e,t){var n,r,a,o;if(1&e[5]){i.programMapTable={video:null,audio:null,"timed-metadata":{}},n=(15&e[1])<<8|e[2],r=3+n-4,a=(15&e[10])<<8|e[11],o=12+a;while(o<r){var s=e[o],c=(31&e[o+1])<<8|e[o+2];s===u.H264_STREAM_TYPE&&null===i.programMapTable.video?i.programMapTable.video=c:s===u.ADTS_STREAM_TYPE&&null===i.programMapTable.audio?i.programMapTable.audio=c:s===u.METADATA_STREAM_TYPE&&(i.programMapTable["timed-metadata"][c]=s),o+=5+((15&e[o+3])<<8|e[o+4])}t.programMapTable=i.programMapTable}},this.push=function(t){var n={},i=4;if(n.payloadUnitStartIndicator=!!(64&t[1]),n.pid=31&t[1],n.pid<<=8,n.pid|=t[2],(48&t[3])>>>4>1&&(i+=t[i]+1),0===n.pid)n.type="pat",e(t.subarray(i),n),this.trigger("data",n);else if(n.pid===this.pmtPid){n.type="pmt",e(t.subarray(i),n),this.trigger("data",n);while(this.packetsWaitingForPmt.length)this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,i,n]):this.processPes_(t,i,n)},this.processPes_=function(e,t,n){n.pid===this.programMapTable.video?n.streamType=u.H264_STREAM_TYPE:n.pid===this.programMapTable.audio?n.streamType=u.ADTS_STREAM_TYPE:n.streamType=this.programMapTable["timed-metadata"][n.pid],n.type="pes",n.data=e.subarray(t),this.trigger("data",n)}},r.prototype=new o,r.STREAM_TYPES={h264:27,adts:15},a=function(){var e,t=this,n={data:[],size:0},i={data:[],size:0},r={data:[],size:0},o=function(e,t){var n;t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!==(4&e[6]),n=e[7],192&n&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&n&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8])},s=function(e,n,i){var r,a=new Uint8Array(e.size),s={type:n},u=0,c=0,l=!1;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,u=0;u<e.data.length;u++)r=e.data[u],a.set(r.data,c),c+=r.data.byteLength;o(a,s),l="video"===n||s.packetLength<=e.size,(i||l)&&(e.size=0,e.data.length=0),l&&t.trigger("data",s)}};a.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var e,t;switch(a.streamType){case u.H264_STREAM_TYPE:e=n,t="video";break;case u.ADTS_STREAM_TYPE:e=i,t="audio";break;case u.METADATA_STREAM_TYPE:e=r,t="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(a),e.size+=a.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};e=a.programMapTable,null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}})[a.type]()},this.reset=function(){n.size=0,n.data.length=0,i.size=0,i.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(n,"video"),s(i,"audio"),s(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}},a.prototype=new o;var f={PAT_PID:0,MP2T_PACKET_LENGTH:l,TransportPacketStream:i,TransportParseStream:r,ElementaryStream:a,TimestampRolloverStream:c,CaptionStream:s.CaptionStream,Cea608Stream:s.Cea608Stream,MetadataStream:n("5bc0")};for(var h in u)u.hasOwnProperty(h)&&(f[h]=u[h]);e.exports=f},1148:function(e,t,n){"use strict";var i=n("a691"),r=n("1d80");e.exports="".repeat||function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},1276:function(e,t,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),u=n("8aa5"),c=n("50c4"),l=n("14c3"),d=n("9263"),f=n("d039"),h=[].push,p=Math.min,m=4294967295,g=!f((function(){return!RegExp(m,"y")}));i("split",2,(function(e,t,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(o(this)),a=void 0===n?m:n>>>0;if(0===a)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,a);var s,u,c,l=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),p=0,g=new RegExp(e.source,f+"g");while(s=d.call(g,i)){if(u=g.lastIndex,u>p&&(l.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&h.apply(l,s.slice(1)),c=s[0].length,p=u,l.length>=a))break;g.lastIndex===s.index&&g.lastIndex++}return p===i.length?!c&&g.test("")||l.push(""):l.push(i.slice(p)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=o(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,r,n):i.call(String(r),t,n)},function(e,r){var o=n(i,e,this,r,i!==t);if(o.done)return o.value;var d=a(e),f=String(this),h=s(d,RegExp),v=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),b=new h(g?d:"^(?:"+d.source+")",y),w=void 0===r?m:r>>>0;if(0===w)return[];if(0===f.length)return null===l(b,f)?[f]:[];var T=0,S=0,x=[];while(S<f.length){b.lastIndex=g?S:0;var k,E=l(b,g?f:f.slice(S));if(null===E||(k=p(c(b.lastIndex+(g?0:S)),f.length))===T)S=u(f,S,v);else{if(x.push(f.slice(T,S)),x.length===w)return x;for(var A=1;A<=E.length-1;A++)if(x.push(E[A]),x.length===w)return x;S=T=k}}return x.push(f.slice(T)),x}]}),!g)},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13a3":function(e,t,n){var i=n("7e10"),r=n("36c6"),a=function(e){var t,n,i=0;for(t=0;t<e.length;t++)n=e[t],i+=n.data.byteLength;return i},o=function(e,t,n,a){var o,s,u,c,l=0,d=0,f=0,h=0;if(t.length&&(o=r.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),l=Math.ceil(r.ONE_SECOND_IN_TS/(e.samplerate/1024)),n&&a&&(d=o-Math.max(n,a),f=Math.floor(d/l),h=f*l),!(f<1||h>r.ONE_SECOND_IN_TS/2))){for(s=i()[e.samplerate],s||(s=t[0].data),u=0;u<f;u++)c=t[0],t.splice(0,0,{data:s,dts:c.dts-l,pts:c.pts-l});e.baseMediaDecodeTime-=Math.floor(r.videoTsToAudioTs(h,e.samplerate))}},s=function(e,t,n){return t.minSegmentDts>=n?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=n&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},u=function(e){var t,n,i=[];for(t=0;t<e.length;t++)n=e[t],i.push({size:n.data.byteLength,duration:1024});return i},c=function(e){var t,n,i=0,r=new Uint8Array(a(e));for(t=0;t<e.length;t++)n=e[t],r.set(n.data,i),i+=n.data.byteLength;return r};e.exports={prefixWithSilence:o,trimAdtsFramesByEarliestDts:s,generateSampleTable:u,concatenateFrameData:c}},"14c3":function(e,t,n){var i=n("c6b6"),r=n("9263");e.exports=function(e,t){var n=e.exec;if("function"===typeof n){var a=n.call(e,t);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},"15f9":function(e,t,n){var i=n("7fe1").toUnsigned,r=n("8eff"),a=function(e,t){var n,o,s,u,c,l=[];if(!t.length)return null;for(n=0;n<e.byteLength;)o=i(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),s=r(e.subarray(n+4,n+8)),u=o>1?n+o:e.byteLength,s===t[0]&&(1===t.length?l.push(e.subarray(n+8,u)):(c=a(e.subarray(n+8,u),t.slice(1)),c.length&&(l=l.concat(c)))),n=u;return l};e.exports=a},"194a":function(e,t,n){"use strict";var i,r,a,o,s,u,c,l,d,f,h,p,m,g,v,y,b,w,T,S,x,k,E,A,_,C,I,M,P,D,O,R,N,L,U,j,F=Math.pow(2,32)-1;(function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!==typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);A=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),_=new Uint8Array([0,0,0,1]),I=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),M=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),P={video:I,audio:M},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),O=new Uint8Array([0,0,0,0,0,0,0,0]),N=new Uint8Array([0,0,0,0,0,0,0,0]),L=N,U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),j=N,D=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),i=function(e){var t,n,i,r=[],a=0;for(t=1;t<arguments.length;t++)r.push(arguments[t]);t=r.length;while(t--)a+=r[t].byteLength;for(n=new Uint8Array(a+8),i=new DataView(n.buffer,n.byteOffset,n.byteLength),i.setUint32(0,n.byteLength),n.set(e,4),t=0,a=8;t<r.length;t++)n.set(r[t],a),a+=r[t].byteLength;return n},r=function(){return i(E.dinf,i(E.dref,R))},a=function(e){return i(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},o=function(){return i(E.ftyp,A,_,A,C)},y=function(e){return i(E.hdlr,P[e])},s=function(e){return i(E.mdat,e)},v=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),i(E.mdhd,t)},g=function(e){return i(E.mdia,v(e),y(e.type),c(e))},u=function(e){return i(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},c=function(e){return i(E.minf,"video"===e.type?i(E.vmhd,D):i(E.smhd,O),r(),w(e))},l=function(e,t){var n=[],r=t.length;while(r--)n[r]=S(t[r]);return i.apply(null,[E.moof,u(e)].concat(n))},d=function(e){var t=e.length,n=[];while(t--)n[t]=p(e[t]);return i.apply(null,[E.moov,h(4294967295)].concat(n).concat(f(e)))},f=function(e){var t=e.length,n=[];while(t--)n[t]=x(e[t]);return i.apply(null,[E.mvex].concat(n))},h=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(E.mvhd,t)},b=function(e){var t,n,r=e.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,a[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return i(E.sdtp,a)},w=function(e){return i(E.stbl,T(e),i(E.stts,j),i(E.stsc,L),i(E.stsz,U),i(E.stco,N))},function(){var e,t;T=function(n){return i(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===n.type?e(n):t(n))},e=function(e){var t,n,r=e.sps||[],a=e.pps||[],o=[],s=[];for(t=0;t<r.length;t++)o.push((65280&r[t].byteLength)>>>8),o.push(255&r[t].byteLength),o=o.concat(Array.prototype.slice.call(r[t]));for(t=0;t<a.length;t++)s.push((65280&a[t].byteLength)>>>8),s.push(255&a[t].byteLength),s=s.concat(Array.prototype.slice.call(a[t]));if(n=[E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],o,[a.length],s))),i(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var u=e.sarRatio[0],c=e.sarRatio[1];n.push(i(E.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return i.apply(null,n)},t=function(e){return i(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),a(e))}}(),m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return i(E.tkhd,t)},S=function(e){var t,n,r,a,o,s,u;return t=i(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/(F+1)),u=Math.floor(e.baseMediaDecodeTime%(F+1)),n=i(E.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,u>>>24&255,u>>>16&255,u>>>8&255,255&u])),o=92,"audio"===e.type?(r=k(e,o),i(E.traf,t,n,r)):(a=b(e),r=k(e,a.length+o),i(E.traf,t,n,r,a))},p=function(e){return e.duration=e.duration||4294967295,i(E.trak,m(e),g(e))},x=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),i(E.trex,t)},function(){var e,t,n;n=function(e,t){var n=0,i=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(n=1),void 0!==e[0].size&&(i=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,n|i|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},t=function(e,t){var r,a,o,s,u,c;for(s=e.samples||[],t+=20+16*s.length,o=n(s,t),a=new Uint8Array(o.length+16*s.length),a.set(o),r=o.length,c=0;c<s.length;c++)u=s[c],a[r++]=(4278190080&u.duration)>>>24,a[r++]=(16711680&u.duration)>>>16,a[r++]=(65280&u.duration)>>>8,a[r++]=255&u.duration,a[r++]=(4278190080&u.size)>>>24,a[r++]=(16711680&u.size)>>>16,a[r++]=(65280&u.size)>>>8,a[r++]=255&u.size,a[r++]=u.flags.isLeading<<2|u.flags.dependsOn,a[r++]=u.flags.isDependedOn<<6|u.flags.hasRedundancy<<4|u.flags.paddingValue<<1|u.flags.isNonSyncSample,a[r++]=61440&u.flags.degradationPriority,a[r++]=15&u.flags.degradationPriority,a[r++]=(4278190080&u.compositionTimeOffset)>>>24,a[r++]=(16711680&u.compositionTimeOffset)>>>16,a[r++]=(65280&u.compositionTimeOffset)>>>8,a[r++]=255&u.compositionTimeOffset;return i(E.trun,a)},e=function(e,t){var r,a,o,s,u,c;for(s=e.samples||[],t+=20+8*s.length,o=n(s,t),r=new Uint8Array(o.length+8*s.length),r.set(o),a=o.length,c=0;c<s.length;c++)u=s[c],r[a++]=(4278190080&u.duration)>>>24,r[a++]=(16711680&u.duration)>>>16,r[a++]=(65280&u.duration)>>>8,r[a++]=255&u.duration,r[a++]=(4278190080&u.size)>>>24,r[a++]=(16711680&u.size)>>>16,r[a++]=(65280&u.size)>>>8,r[a++]=255&u.size;return i(E.trun,r)},k=function(n,i){return"audio"===n.type?e(n,i):t(n,i)}}(),e.exports={ftyp:o,mdat:s,moof:l,moov:d,initSegment:function(e){var t,n=o(),i=d(e);return t=new Uint8Array(n.byteLength+i.byteLength),t.set(n),t.set(i,n.byteLength),t}}},"19aa":function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},"1be4":function(e,t,n){var i=n("d066");e.exports=i("document","documentElement")},"1c05":function(e,t,n){"use strict";var i=n("4329"),r=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};r.prototype=new i,r.prototype.flush=function(e){var t,n,i,r,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,i=0;i<this.pendingCaptions.length;i++)n=this.pendingCaptions[i],n.startTime=n.startPts-r,n.startTime/=9e4,n.endTime=n.endPts-r,n.endTime/=9e4,a.captionStreams[n.stream]=!0,a.captions.push(n);for(i=0;i<this.pendingMetadata.length;i++)t=this.pendingMetadata[i],t.cueTime=t.pts-r,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},e.exports=r},"1c0b":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},"1c7e":function(e,t,n){var i=n("b622"),r=i("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(u){}return n}},"1cdc":function(e,t,n){var i=n("342f");e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"1d80":function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},"1da1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7");function i(e,t,n,i,r,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(e){i(o,r,a,s,u,"next",e)}function u(e){i(o,r,a,s,u,"throw",e)}s(void 0)}))}}},"1dde":function(e,t,n){var i=n("d039"),r=n("b622"),a=n("2d00"),o=r("species");e.exports=function(e){return a>=51||!i((function(){var t=[],n=t.constructor={};return n[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){var i=n("825a"),r=n("e95a"),a=n("50c4"),o=n("0366"),s=n("35a1"),u=n("9bdd"),c=function(e,t){this.stopped=e,this.result=t},l=e.exports=function(e,t,n,l,d){var f,h,p,m,g,v,y,b=o(t,n,l?2:1);if(d)f=e;else{if(h=s(e),"function"!=typeof h)throw TypeError("Target is not iterable");if(r(h)){for(p=0,m=a(e.length);m>p;p++)if(g=l?b(i(y=e[p])[0],y[1]):b(e[p]),g&&g instanceof c)return g;return new c(!1)}f=h.call(e)}v=f.next;while(!(y=v.call(f)).done)if(g=u(f,b,y.value,l),"object"==typeof g&&g&&g instanceof c)return g;return new c(!1)};l.stop=function(e){return new c(!0,e)}},"23cb":function(e,t,n){var i=n("a691"),r=Math.max,a=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):a(n,t)}},"23e7":function(e,t,n){var i=n("da84"),r=n("06cf").f,a=n("9112"),o=n("6eeb"),s=n("ce4e"),u=n("e893"),c=n("94ca");e.exports=function(e,t){var n,l,d,f,h,p,m=e.target,g=e.global,v=e.stat;if(l=g?i:v?i[m]||s(m,{}):(i[m]||{}).prototype,l)for(d in t){if(h=t[d],e.noTargetGet?(p=r(l,d),f=p&&p.value):f=l[d],n=c(g?d:m+(v?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof h===typeof f)continue;u(h,f)}(e.sham||f&&f.sham)&&a(h,"sham",!0),o(l,d,h,e)}}},"241c":function(e,t,n){var i=n("ca84"),r=n("7839"),a=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,a)}},"256f":function(e,t,n){"use strict";var i=n("4329"),r=8589934592,a=4294967296,o="shared",s=function(e,t){var n=1;e>t&&(n=-1);while(Math.abs(t-e)>a)e+=n*r;return e},u=function(e){var t,n;u.prototype.init.call(this),this.type_=e||o,this.push=function(e){this.type_!==o&&e.type!==this.type_||(void 0===n&&(n=e.dts),e.dts=s(e.dts,n),e.pts=s(e.pts,n),t=e.dts,this.trigger("data",e))},this.flush=function(){n=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};u.prototype=new i,e.exports={TimestampRolloverStream:u,handleRollover:s}},"25f0":function(e,t,n){"use strict";var i=n("6eeb"),r=n("825a"),a=n("d039"),o=n("ad6d"),s="toString",u=RegExp.prototype,c=u[s],l=a((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(l||d)&&i(RegExp.prototype,s,(function(){var e=r(this),t=String(e.source),n=e.flags,i=String(void 0===n&&e instanceof RegExp&&!("flags"in u)?o.call(e):n);return"/"+t+"/"+i}),{unsafe:!0})},2626:function(e,t,n){"use strict";var i=n("d066"),r=n("9bf2"),a=n("b622"),o=n("83ab"),s=a("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},2806:function(e,t,n){"use strict";var i,r,a,o,s,u,c=n("7fe1").toUnsigned,l=n("7fe1").toHexString,d=n("15f9"),f=n("8eff"),h=n("caac"),p=n("8a2d"),m=n("dbdc");i=function(e){var t={},n=d(e,["moov","trak"]);return n.reduce((function(e,t){var n,i,r,a,o;return n=d(t,["tkhd"])[0],n?(i=n[0],r=0===i?12:20,a=c(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]),o=d(t,["mdia","mdhd"])[0],o?(i=o[0],r=0===i?12:20,e[a]=c(o[r]<<24|o[r+1]<<16|o[r+2]<<8|o[r+3]),e):null):null}),t)},r=function(e,t){var n,i,r;return n=d(t,["moof","traf"]),i=[].concat.apply([],n.map((function(t){return d(t,["tfhd"]).map((function(n){var i,r,a;return i=c(n[4]<<24|n[5]<<16|n[6]<<8|n[7]),r=e[i]||9e4,a=d(t,["tfdt"]).map((function(e){var t,n;return t=e[0],n=c(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),1===t&&(n*=Math.pow(2,32),n+=c(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),n}))[0],a=a||1/0,a/r}))}))),r=Math.min.apply(null,i),isFinite(r)?r:0},a=function(e,t){var n,i=d(t,["moof","traf"]),r=0,a=0;if(i&&i.length){var o=d(i[0],["tfhd"])[0],s=d(i[0],["trun"])[0],u=d(i[0],["tfdt"])[0];if(o){var c=h(o);n=c.trackId}if(u){var l=m(u);r=l.baseMediaDecodeTime}if(s){var f=p(s);f.samples&&f.samples.length&&(a=f.samples[0].compositionTimeOffset||0)}}var g=e[n]||9e4;return(r+a)/g},o=function(e){var t=d(e,["moov","trak"]),n=[];return t.forEach((function(e){var t=d(e,["mdia","hdlr"]),i=d(e,["tkhd"]);t.forEach((function(e,t){var r,a,o,s=f(e.subarray(8,12)),u=i[t];"vide"===s&&(r=new DataView(u.buffer,u.byteOffset,u.byteLength),a=r.getUint8(0),o=0===a?r.getUint32(12):r.getUint32(20),n.push(o))}))})),n},u=function(e){var t=e[0],n=0===t?12:20;return c(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3])},s=function(e){var t=d(e,["moov","trak"]),n=[];return t.forEach((function(e){var t,i,r={},a=d(e,["tkhd"])[0];a&&(t=new DataView(a.buffer,a.byteOffset,a.byteLength),i=t.getUint8(0),r.id=0===i?t.getUint32(12):t.getUint32(20));var o=d(e,["mdia","hdlr"])[0];if(o){var s=f(o.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var c=d(e,["mdia","minf","stbl","stsd"])[0];if(c){var h=c.subarray(8);r.codec=f(h.subarray(4,8));var p,m,g=d(h,[r.codec])[0];g&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(p=g.subarray(78),m=f(p.subarray(4,8)),"avcC"===m&&p.length>11?(r.codec+=".",r.codec+=l(p[9]),r.codec+=l(p[10]),r.codec+=l(p[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(p=g.subarray(28),m=f(p.subarray(4,8)),"esds"===m&&p.length>20&&0!==p[19]?(r.codec+="."+l(p[19]),r.codec+="."+l(p[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var v=d(e,["mdia","mdhd"])[0];v&&(r.timescale=u(v)),n.push(r)})),n},e.exports={findBox:d,parseType:f,timescale:i,startTime:r,compositionStartTime:a,videoTrackIds:o,tracks:s,getTimescaleFromMediaHeader:u}},2877:function(e,t,n){"use strict";function i(e,t,n,i,r,a,o,s){var u,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(u=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=u):r&&(u=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(e,t){return u.call(t),l(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,u):[u]}return{exports:e,options:c}}n.d(t,"a",(function(){return i}))},"28e5":function(e,t,n){e.exports={generator:n("194a"),probe:n("2806"),Transmuxer:n("300a").Transmuxer,AudioSegmentStream:n("300a").AudioSegmentStream,VideoSegmentStream:n("300a").VideoSegmentStream,CaptionParser:n("a8e0")}},"2b0e":function(e,t,n){"use strict";(function(e){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(e){return void 0===e||null===e}function r(e){return void 0!==e&&null!==e}function a(e){return!0===e}function o(e){return!1===e}function s(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function u(e){return null!==e&&"object"===typeof e}var c=Object.prototype.toString;function l(e){return"[object Object]"===c.call(e)}function d(e){return"[object RegExp]"===c.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function h(e){return r(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function p(e){return null==e?"":Array.isArray(e)||l(e)&&e.toString===c?JSON.stringify(e,null,2):String(e)}function m(e){var t=parseFloat(e);return isNaN(t)?e:t}function g(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}g("slot,component",!0);var v=g("key,ref,slot,slot-scope,is");function y(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(e,t){return b.call(e,t)}function T(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}var S=/-(\w)/g,x=T((function(e){return e.replace(S,(function(e,t){return t?t.toUpperCase():""}))})),k=T((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),E=/\B([A-Z])/g,A=T((function(e){return e.replace(E,"-$1").toLowerCase()}));function _(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function C(e,t){return e.bind(t)}var I=Function.prototype.bind?C:_;function M(e,t){t=t||0;var n=e.length-t,i=new Array(n);while(n--)i[n]=e[n+t];return i}function P(e,t){for(var n in t)e[n]=t[n];return e}function D(e){for(var t={},n=0;n<e.length;n++)e[n]&&P(t,e[n]);return t}function O(e,t,n){}var R=function(e,t,n){return!1},N=function(e){return e};function L(e,t){if(e===t)return!0;var n=u(e),i=u(t);if(!n||!i)return!n&&!i&&String(e)===String(t);try{var r=Array.isArray(e),a=Array.isArray(t);if(r&&a)return e.length===t.length&&e.every((function(e,n){return L(e,t[n])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(r||a)return!1;var o=Object.keys(e),s=Object.keys(t);return o.length===s.length&&o.every((function(n){return L(e[n],t[n])}))}catch(c){return!1}}function U(e,t){for(var n=0;n<e.length;n++)if(L(e[n],t))return n;return-1}function j(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var F="data-server-rendered",B=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],H={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:R,isReservedAttr:R,isUnknownElement:R,getTagNamespace:O,parsePlatformTagName:N,mustUseProp:R,async:!0,_lifecycleHooks:V},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function z(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function $(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var G=new RegExp("[^"+q.source+".$_\\d]");function K(e){if(!G.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}var W,X="__proto__"in{},Y="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Q=J&&WXEnvironment.platform.toLowerCase(),Z=Y&&window.navigator.userAgent.toLowerCase(),ee=Z&&/msie|trident/.test(Z),te=Z&&Z.indexOf("msie 9.0")>0,ne=Z&&Z.indexOf("edge/")>0,ie=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===Q),re=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),ae={}.watch,oe=!1;if(Y)try{var se={};Object.defineProperty(se,"passive",{get:function(){oe=!0}}),window.addEventListener("test-passive",null,se)}catch(xo){}var ue=function(){return void 0===W&&(W=!Y&&!J&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),W},ce=Y&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function le(e){return"function"===typeof e&&/native code/.test(e.toString())}var de,fe="undefined"!==typeof Symbol&&le(Symbol)&&"undefined"!==typeof Reflect&&le(Reflect.ownKeys);de="undefined"!==typeof Set&&le(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var he=O,pe=0,me=function(){this.id=pe++,this.subs=[]};me.prototype.addSub=function(e){this.subs.push(e)},me.prototype.removeSub=function(e){y(this.subs,e)},me.prototype.depend=function(){me.target&&me.target.addDep(this)},me.prototype.notify=function(){var e=this.subs.slice();for(var t=0,n=e.length;t<n;t++)e[t].update()},me.target=null;var ge=[];function ve(e){ge.push(e),me.target=e}function ye(){ge.pop(),me.target=ge[ge.length-1]}var be=function(e,t,n,i,r,a,o,s){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},we={child:{configurable:!0}};we.child.get=function(){return this.componentInstance},Object.defineProperties(be.prototype,we);var Te=function(e){void 0===e&&(e="");var t=new be;return t.text=e,t.isComment=!0,t};function Se(e){return new be(void 0,void 0,void 0,String(e))}function xe(e){var t=new be(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ke=Array.prototype,Ee=Object.create(ke),Ae=["push","pop","shift","unshift","splice","sort","reverse"];Ae.forEach((function(e){var t=ke[e];$(Ee,e,(function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,a=t.apply(this,n),o=this.__ob__;switch(e){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),a}))}));var _e=Object.getOwnPropertyNames(Ee),Ce=!0;function Ie(e){Ce=e}var Me=function(e){this.value=e,this.dep=new me,this.vmCount=0,$(e,"__ob__",this),Array.isArray(e)?(X?Pe(e,Ee):De(e,Ee,_e),this.observeArray(e)):this.walk(e)};function Pe(e,t){e.__proto__=t}function De(e,t,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];$(e,a,t[a])}}function Oe(e,t){var n;if(u(e)&&!(e instanceof be))return w(e,"__ob__")&&e.__ob__ instanceof Me?n=e.__ob__:Ce&&!ue()&&(Array.isArray(e)||l(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Me(e)),t&&n&&n.vmCount++,n}function Re(e,t,n,i,r){var a=new me,o=Object.getOwnPropertyDescriptor(e,t);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set;s&&!u||2!==arguments.length||(n=e[t]);var c=!r&&Oe(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return me.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(t)&&Ue(t))),t},set:function(t){var i=s?s.call(e):n;t===i||t!==t&&i!==i||s&&!u||(u?u.call(e,t):n=t,c=!r&&Oe(t),a.notify())}})}}function Ne(e,t,n){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var i=e.__ob__;return e._isVue||i&&i.vmCount?n:i?(Re(i.value,t,n),i.dep.notify(),n):(e[t]=n,n)}function Le(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||w(e,t)&&(delete e[t],n&&n.dep.notify())}}function Ue(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Ue(t)}Me.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)Re(e,t[n])},Me.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)Oe(e[t])};var je=H.optionMergeStrategies;function Fe(e,t){if(!t)return e;for(var n,i,r,a=fe?Reflect.ownKeys(t):Object.keys(t),o=0;o<a.length;o++)n=a[o],"__ob__"!==n&&(i=e[n],r=t[n],w(e,n)?i!==r&&l(i)&&l(r)&&Fe(i,r):Ne(e,n,r));return e}function Be(e,t,n){return n?function(){var i="function"===typeof t?t.call(n,n):t,r="function"===typeof e?e.call(n,n):e;return i?Fe(i,r):r}:t?e?function(){return Fe("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Ve(e,t){var n=t?e?e.concat(t):Array.isArray(t)?t:[t]:e;return n?He(n):n}function He(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}function qe(e,t,n,i){var r=Object.create(e||null);return t?P(r,t):r}je.data=function(e,t,n){return n?Be(e,t,n):t&&"function"!==typeof t?e:Be(e,t)},V.forEach((function(e){je[e]=Ve})),B.forEach((function(e){je[e+"s"]=qe})),je.watch=function(e,t,n,i){if(e===ae&&(e=void 0),t===ae&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var r={};for(var a in P(r,e),t){var o=r[a],s=t[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},je.props=je.methods=je.inject=je.computed=function(e,t,n,i){if(!e)return t;var r=Object.create(null);return P(r,e),t&&P(r,t),r},je.provide=Be;var ze=function(e,t){return void 0===t?e:t};function $e(e,t){var n=e.props;if(n){var i,r,a,o={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(a=x(r),o[a]={type:null})}else if(l(n))for(var s in n)r=n[s],a=x(s),o[a]=l(r)?r:{type:r};else 0;e.props=o}}function Ge(e,t){var n=e.inject;if(n){var i=e.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var a in n){var o=n[a];i[a]=l(o)?P({from:a},o):{from:o}}else 0}}function Ke(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"===typeof i&&(t[n]={bind:i,update:i})}}function We(e,t,n){if("function"===typeof t&&(t=t.options),$e(t,n),Ge(t,n),Ke(t),!t._base&&(t.extends&&(e=We(e,t.extends,n)),t.mixins))for(var i=0,r=t.mixins.length;i<r;i++)e=We(e,t.mixins[i],n);var a,o={};for(a in e)s(a);for(a in t)w(e,a)||s(a);function s(i){var r=je[i]||ze;o[i]=r(e[i],t[i],n,i)}return o}function Xe(e,t,n,i){if("string"===typeof n){var r=e[t];if(w(r,n))return r[n];var a=x(n);if(w(r,a))return r[a];var o=k(a);if(w(r,o))return r[o];var s=r[n]||r[a]||r[o];return s}}function Ye(e,t,n,i){var r=t[e],a=!w(n,e),o=n[e],s=et(Boolean,r.type);if(s>-1)if(a&&!w(r,"default"))o=!1;else if(""===o||o===A(e)){var u=et(String,r.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=Je(i,r,e);var c=Ce;Ie(!0),Oe(o),Ie(c)}return o}function Je(e,t,n){if(w(t,"default")){var i=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n]?e._props[n]:"function"===typeof i&&"Function"!==Qe(t.type)?i.call(e):i}}function Qe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Ze(e,t){return Qe(e)===Qe(t)}function et(e,t){if(!Array.isArray(t))return Ze(t,e)?0:-1;for(var n=0,i=t.length;n<i;n++)if(Ze(t[n],e))return n;return-1}function tt(e,t,n){ve();try{if(t){var i=t;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var o=!1===r[a].call(i,e,t,n);if(o)return}catch(xo){it(xo,i,"errorCaptured hook")}}}it(e,t,n)}finally{ye()}}function nt(e,t,n,i,r){var a;try{a=n?e.apply(t,n):e.call(t),a&&!a._isVue&&h(a)&&!a._handled&&(a.catch((function(e){return tt(e,i,r+" (Promise/async)")})),a._handled=!0)}catch(xo){tt(xo,i,r)}return a}function it(e,t,n){if(H.errorHandler)try{return H.errorHandler.call(null,e,t,n)}catch(xo){xo!==e&&rt(xo,null,"config.errorHandler")}rt(e,t,n)}function rt(e,t,n){if(!Y&&!J||"undefined"===typeof console)throw e;console.error(e)}var at,ot=!1,st=[],ut=!1;function ct(){ut=!1;var e=st.slice(0);st.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!==typeof Promise&&le(Promise)){var lt=Promise.resolve();at=function(){lt.then(ct),ie&&setTimeout(O)},ot=!0}else if(ee||"undefined"===typeof MutationObserver||!le(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())at="undefined"!==typeof setImmediate&&le(setImmediate)?function(){setImmediate(ct)}:function(){setTimeout(ct,0)};else{var dt=1,ft=new MutationObserver(ct),ht=document.createTextNode(String(dt));ft.observe(ht,{characterData:!0}),at=function(){dt=(dt+1)%2,ht.data=String(dt)},ot=!0}function pt(e,t){var n;if(st.push((function(){if(e)try{e.call(t)}catch(xo){tt(xo,t,"nextTick")}else n&&n(t)})),ut||(ut=!0,at()),!e&&"undefined"!==typeof Promise)return new Promise((function(e){n=e}))}var mt=new de;function gt(e){vt(e,mt),mt.clear()}function vt(e,t){var n,i,r=Array.isArray(e);if(!(!r&&!u(e)||Object.isFrozen(e)||e instanceof be)){if(e.__ob__){var a=e.__ob__.dep.id;if(t.has(a))return;t.add(a)}if(r){n=e.length;while(n--)vt(e[n],t)}else{i=Object.keys(e),n=i.length;while(n--)vt(e[i[n]],t)}}}var yt=T((function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var n="~"===e.charAt(0);e=n?e.slice(1):e;var i="!"===e.charAt(0);return e=i?e.slice(1):e,{name:e,once:n,capture:i,passive:t}}));function bt(e,t){function n(){var e=arguments,i=n.fns;if(!Array.isArray(i))return nt(i,null,arguments,t,"v-on handler");for(var r=i.slice(),a=0;a<r.length;a++)nt(r[a],null,e,t,"v-on handler")}return n.fns=e,n}function wt(e,t,n,r,o,s){var u,c,l,d;for(u in e)c=e[u],l=t[u],d=yt(u),i(c)||(i(l)?(i(c.fns)&&(c=e[u]=bt(c,s)),a(d.once)&&(c=e[u]=o(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==l&&(l.fns=c,e[u]=l));for(u in t)i(e[u])&&(d=yt(u),r(d.name,t[u],d.capture))}function Tt(e,t,n){var o;e instanceof be&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function u(){n.apply(this,arguments),y(o.fns,u)}i(s)?o=bt([u]):r(s.fns)&&a(s.merged)?(o=s,o.fns.push(u)):o=bt([s,u]),o.merged=!0,e[t]=o}function St(e,t,n){var a=t.options.props;if(!i(a)){var o={},s=e.attrs,u=e.props;if(r(s)||r(u))for(var c in a){var l=A(c);xt(o,u,c,l,!0)||xt(o,s,c,l,!1)}return o}}function xt(e,t,n,i,a){if(r(t)){if(w(t,n))return e[n]=t[n],a||delete t[n],!0;if(w(t,i))return e[n]=t[i],a||delete t[i],!0}return!1}function kt(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function Et(e){return s(e)?[Se(e)]:Array.isArray(e)?_t(e):void 0}function At(e){return r(e)&&r(e.text)&&o(e.isComment)}function _t(e,t){var n,o,u,c,l=[];for(n=0;n<e.length;n++)o=e[n],i(o)||"boolean"===typeof o||(u=l.length-1,c=l[u],Array.isArray(o)?o.length>0&&(o=_t(o,(t||"")+"_"+n),At(o[0])&&At(c)&&(l[u]=Se(c.text+o[0].text),o.shift()),l.push.apply(l,o)):s(o)?At(c)?l[u]=Se(c.text+o):""!==o&&l.push(Se(o)):At(o)&&At(c)?l[u]=Se(c.text+o.text):(a(e._isVList)&&r(o.tag)&&i(o.key)&&r(t)&&(o.key="__vlist"+t+"_"+n+"__"),l.push(o)));return l}function Ct(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function It(e){var t=Mt(e.$options.inject,e);t&&(Ie(!1),Object.keys(t).forEach((function(n){Re(e,n,t[n])})),Ie(!0))}function Mt(e,t){if(e){for(var n=Object.create(null),i=fe?Reflect.ownKeys(e):Object.keys(e),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){var o=e[a].from,s=t;while(s){if(s._provided&&w(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in e[a]){var u=e[a].default;n[a]="function"===typeof u?u.call(t):u}else 0}}return n}}function Pt(e,t){if(!e||!e.length)return{};for(var n={},i=0,r=e.length;i<r;i++){var a=e[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==t&&a.fnContext!==t||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var c in n)n[c].every(Dt)&&delete n[c];return n}function Dt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Ot(e,t,i){var r,a=Object.keys(t).length>0,o=e?!!e.$stable:!a,s=e&&e.$key;if(e){if(e._normalized)return e._normalized;if(o&&i&&i!==n&&s===i.$key&&!a&&!i.$hasNormal)return i;for(var u in r={},e)e[u]&&"$"!==u[0]&&(r[u]=Rt(t,u,e[u]))}else r={};for(var c in t)c in r||(r[c]=Nt(t,c));return e&&Object.isExtensible(e)&&(e._normalized=r),$(r,"$stable",o),$(r,"$key",s),$(r,"$hasNormal",a),r}function Rt(e,t,n){var i=function(){var e=arguments.length?n.apply(null,arguments):n({});return e=e&&"object"===typeof e&&!Array.isArray(e)?[e]:Et(e),e&&(0===e.length||1===e.length&&e[0].isComment)?void 0:e};return n.proxy&&Object.defineProperty(e,t,{get:i,enumerable:!0,configurable:!0}),i}function Nt(e,t){return function(){return e[t]}}function Lt(e,t){var n,i,a,o,s;if(Array.isArray(e)||"string"===typeof e)for(n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=t(e[i],i);else if("number"===typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(u(e))if(fe&&e[Symbol.iterator]){n=[];var c=e[Symbol.iterator](),l=c.next();while(!l.done)n.push(t(l.value,n.length)),l=c.next()}else for(o=Object.keys(e),n=new Array(o.length),i=0,a=o.length;i<a;i++)s=o[i],n[i]=t(e[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function Ut(e,t,n,i){var r,a=this.$scopedSlots[e];a?(n=n||{},i&&(n=P(P({},i),n)),r=a(n)||t):r=this.$slots[e]||t;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function jt(e){return Xe(this.$options,"filters",e,!0)||N}function Ft(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Bt(e,t,n,i,r){var a=H.keyCodes[t]||n;return r&&i&&!H.keyCodes[t]?Ft(r,i):a?Ft(a,e):i?A(i)!==t:void 0}function Vt(e,t,n,i,r){if(n)if(u(n)){var a;Array.isArray(n)&&(n=D(n));var o=function(o){if("class"===o||"style"===o||v(o))a=e;else{var s=e.attrs&&e.attrs.type;a=i||H.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var u=x(o),c=A(o);if(!(u in a)&&!(c in a)&&(a[o]=n[o],r)){var l=e.on||(e.on={});l["update:"+o]=function(e){n[o]=e}}};for(var s in n)o(s)}else;return e}function Ht(e,t){var n=this._staticTrees||(this._staticTrees=[]),i=n[e];return i&&!t||(i=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),zt(i,"__static__"+e,!1)),i}function qt(e,t,n){return zt(e,"__once__"+t+(n?"_"+n:""),!0),e}function zt(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!==typeof e[i]&&$t(e[i],t+"_"+i,n);else $t(e,t,n)}function $t(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Gt(e,t){if(t)if(l(t)){var n=e.on=e.on?P({},e.on):{};for(var i in t){var r=n[i],a=t[i];n[i]=r?[].concat(r,a):a}}else;return e}function Kt(e,t,n,i){t=t||{$stable:!n};for(var r=0;r<e.length;r++){var a=e[r];Array.isArray(a)?Kt(a,t,n):a&&(a.proxy&&(a.fn.proxy=!0),t[a.key]=a.fn)}return i&&(t.$key=i),t}function Wt(e,t){for(var n=0;n<t.length;n+=2){var i=t[n];"string"===typeof i&&i&&(e[t[n]]=t[n+1])}return e}function Xt(e,t){return"string"===typeof e?t+e:e}function Yt(e){e._o=qt,e._n=m,e._s=p,e._l=Lt,e._t=Ut,e._q=L,e._i=U,e._m=Ht,e._f=jt,e._k=Bt,e._b=Vt,e._v=Se,e._e=Te,e._u=Kt,e._g=Gt,e._d=Wt,e._p=Xt}function Jt(e,t,i,r,o){var s,u=this,c=o.options;w(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var l=a(c._compiled),d=!l;this.data=e,this.props=t,this.children=i,this.parent=r,this.listeners=e.on||n,this.injections=Mt(c.inject,r),this.slots=function(){return u.$slots||Ot(e.scopedSlots,u.$slots=Pt(i,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ot(e.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Ot(e.scopedSlots,this.$slots)),c._scopeId?this._c=function(e,t,n,i){var a=dn(s,e,t,n,i,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=r),a}:this._c=function(e,t,n,i){return dn(s,e,t,n,i,d)}}function Qt(e,t,i,a,o){var s=e.options,u={},c=s.props;if(r(c))for(var l in c)u[l]=Ye(l,c,t||n);else r(i.attrs)&&en(u,i.attrs),r(i.props)&&en(u,i.props);var d=new Jt(i,u,o,a,e),f=s.render.call(null,d._c,d);if(f instanceof be)return Zt(f,i,d.parent,s,d);if(Array.isArray(f)){for(var h=Et(f)||[],p=new Array(h.length),m=0;m<h.length;m++)p[m]=Zt(h[m],i,d.parent,s,d);return p}}function Zt(e,t,n,i,r){var a=xe(e);return a.fnContext=n,a.fnOptions=i,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function en(e,t){for(var n in t)e[x(n)]=t[n]}Yt(Jt.prototype);var tn={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var n=e;tn.prepatch(n,n)}else{var i=e.componentInstance=an(e,Mn);i.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var n=t.componentOptions,i=t.componentInstance=e.componentInstance;Nn(i,n.propsData,n.listeners,t,n.children)},insert:function(e){var t=e.context,n=e.componentInstance;n._isMounted||(n._isMounted=!0,Fn(n,"mounted")),e.data.keepAlive&&(t._isMounted?Qn(n):Un(n,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?jn(t,!0):t.$destroy())}},nn=Object.keys(tn);function rn(e,t,n,o,s){if(!i(e)){var c=n.$options._base;if(u(e)&&(e=c.extend(e)),"function"===typeof e){var l;if(i(e.cid)&&(l=e,e=Tn(l,c),void 0===e))return wn(l,t,n,o,s);t=t||{},Ti(e),r(t.model)&&un(e.options,t);var d=St(t,e,s);if(a(e.options.functional))return Qt(e,d,t,n,o);var f=t.on;if(t.on=t.nativeOn,a(e.options.abstract)){var h=t.slot;t={},h&&(t.slot=h)}on(t);var p=e.options.name||s,m=new be("vue-component-"+e.cid+(p?"-"+p:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:d,listeners:f,tag:s,children:o},l);return m}}}function an(e,t){var n={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new e.componentOptions.Ctor(n)}function on(e){for(var t=e.hook||(e.hook={}),n=0;n<nn.length;n++){var i=nn[n],r=t[i],a=tn[i];r===a||r&&r._merged||(t[i]=r?sn(a,r):a)}}function sn(e,t){var n=function(n,i){e(n,i),t(n,i)};return n._merged=!0,n}function un(e,t){var n=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[n]=t.model.value;var a=t.on||(t.on={}),o=a[i],s=t.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[i]=[s].concat(o)):a[i]=s}var cn=1,ln=2;function dn(e,t,n,i,r,o){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),a(o)&&(r=ln),fn(e,t,n,i,r)}function fn(e,t,n,i,a){if(r(n)&&r(n.__ob__))return Te();if(r(n)&&r(n.is)&&(t=n.is),!t)return Te();var o,s,u;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),a===ln?i=Et(i):a===cn&&(i=kt(i)),"string"===typeof t)?(s=e.$vnode&&e.$vnode.ns||H.getTagNamespace(t),o=H.isReservedTag(t)?new be(H.parsePlatformTagName(t),n,i,void 0,void 0,e):n&&n.pre||!r(u=Xe(e.$options,"components",t))?new be(t,n,i,void 0,void 0,e):rn(u,n,e,i,t)):o=rn(t,n,e,i);return Array.isArray(o)?o:r(o)?(r(s)&&hn(o,s),r(n)&&pn(n),o):Te()}function hn(e,t,n){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,n=!0),r(e.children))for(var o=0,s=e.children.length;o<s;o++){var u=e.children[o];r(u.tag)&&(i(u.ns)||a(n)&&"svg"!==u.tag)&&hn(u,t,n)}}function pn(e){u(e.style)&&gt(e.style),u(e.class)&&gt(e.class)}function mn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,i=e.$vnode=t._parentVnode,r=i&&i.context;e.$slots=Pt(t._renderChildren,r),e.$scopedSlots=n,e._c=function(t,n,i,r){return dn(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return dn(e,t,n,i,r,!0)};var a=i&&i.data;Re(e,"$attrs",a&&a.attrs||n,null,!0),Re(e,"$listeners",t._parentListeners||n,null,!0)}var gn,vn=null;function yn(e){Yt(e.prototype),e.prototype.$nextTick=function(e){return pt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,r=n._parentVnode;r&&(t.$scopedSlots=Ot(r.data.scopedSlots,t.$slots,t.$scopedSlots)),t.$vnode=r;try{vn=t,e=i.call(t._renderProxy,t.$createElement)}catch(xo){tt(xo,t,"render"),e=t._vnode}finally{vn=null}return Array.isArray(e)&&1===e.length&&(e=e[0]),e instanceof be||(e=Te()),e.parent=r,e}}function bn(e,t){return(e.__esModule||fe&&"Module"===e[Symbol.toStringTag])&&(e=e.default),u(e)?t.extend(e):e}function wn(e,t,n,i,r){var a=Te();return a.asyncFactory=e,a.asyncMeta={data:t,context:n,children:i,tag:r},a}function Tn(e,t){if(a(e.error)&&r(e.errorComp))return e.errorComp;if(r(e.resolved))return e.resolved;var n=vn;if(n&&r(e.owners)&&-1===e.owners.indexOf(n)&&e.owners.push(n),a(e.loading)&&r(e.loadingComp))return e.loadingComp;if(n&&!r(e.owners)){var o=e.owners=[n],s=!0,c=null,l=null;n.$on("hook:destroyed",(function(){return y(o,n)}));var d=function(e){for(var t=0,n=o.length;t<n;t++)o[t].$forceUpdate();e&&(o.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},f=j((function(n){e.resolved=bn(n,t),s?o.length=0:d(!0)})),p=j((function(t){r(e.errorComp)&&(e.error=!0,d(!0))})),m=e(f,p);return u(m)&&(h(m)?i(e.resolved)&&m.then(f,p):h(m.component)&&(m.component.then(f,p),r(m.error)&&(e.errorComp=bn(m.error,t)),r(m.loading)&&(e.loadingComp=bn(m.loading,t),0===m.delay?e.loading=!0:c=setTimeout((function(){c=null,i(e.resolved)&&i(e.error)&&(e.loading=!0,d(!1))}),m.delay||200)),r(m.timeout)&&(l=setTimeout((function(){l=null,i(e.resolved)&&p(null)}),m.timeout)))),s=!1,e.loading?e.loadingComp:e.resolved}}function Sn(e){return e.isComment&&e.asyncFactory}function xn(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(r(n)&&(r(n.componentOptions)||Sn(n)))return n}}function kn(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Cn(e,t)}function En(e,t){gn.$on(e,t)}function An(e,t){gn.$off(e,t)}function _n(e,t){var n=gn;return function i(){var r=t.apply(null,arguments);null!==r&&n.$off(e,i)}}function Cn(e,t,n){gn=e,wt(t,n||{},En,An,_n,e),gn=void 0}function In(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;if(Array.isArray(e))for(var r=0,a=e.length;r<a;r++)i.$on(e[r],n);else(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var n=this;function i(){n.$off(e,i),t.apply(n,arguments)}return i.fn=t,n.$on(e,i),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var i=0,r=e.length;i<r;i++)n.$off(e[i],t);return n}var a,o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;var s=o.length;while(s--)if(a=o[s],a===t||a.fn===t){o.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?M(n):n;for(var i=M(arguments,1),r='event handler for "'+e+'"',a=0,o=n.length;a<o;a++)nt(n[a],t,i,t,r)}return t}}var Mn=null;function Pn(e){var t=Mn;return Mn=e,function(){Mn=t}}function Dn(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function On(e){e.prototype._update=function(e,t){var n=this,i=n.$el,r=n._vnode,a=Pn(n);n._vnode=e,n.$el=r?n.__patch__(r,e):n.__patch__(n.$el,e,t,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Fn(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||y(t.$children,e),e._watcher&&e._watcher.teardown();var n=e._watchers.length;while(n--)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),Fn(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Rn(e,t,n){var i;return e.$el=t,e.$options.render||(e.$options.render=Te),Fn(e,"beforeMount"),i=function(){e._update(e._render(),n)},new ni(e,i,O,{before:function(){e._isMounted&&!e._isDestroyed&&Fn(e,"beforeUpdate")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,Fn(e,"mounted")),e}function Nn(e,t,i,r,a){var o=r.data.scopedSlots,s=e.$scopedSlots,u=!!(o&&!o.$stable||s!==n&&!s.$stable||o&&e.$scopedSlots.$key!==o.$key),c=!!(a||e.$options._renderChildren||u);if(e.$options._parentVnode=r,e.$vnode=r,e._vnode&&(e._vnode.parent=r),e.$options._renderChildren=a,e.$attrs=r.data.attrs||n,e.$listeners=i||n,t&&e.$options.props){Ie(!1);for(var l=e._props,d=e.$options._propKeys||[],f=0;f<d.length;f++){var h=d[f],p=e.$options.props;l[h]=Ye(h,p,t,e)}Ie(!0),e.$options.propsData=t}i=i||n;var m=e.$options._parentListeners;e.$options._parentListeners=i,Cn(e,i,m),c&&(e.$slots=Pt(a,r.context),e.$forceUpdate())}function Ln(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function Un(e,t){if(t){if(e._directInactive=!1,Ln(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)Un(e.$children[n]);Fn(e,"activated")}}function jn(e,t){if((!t||(e._directInactive=!0,!Ln(e)))&&!e._inactive){e._inactive=!0;for(var n=0;n<e.$children.length;n++)jn(e.$children[n]);Fn(e,"deactivated")}}function Fn(e,t){ve();var n=e.$options[t],i=t+" hook";if(n)for(var r=0,a=n.length;r<a;r++)nt(n[r],e,null,e,i);e._hasHookEvent&&e.$emit("hook:"+t),ye()}var Bn=[],Vn=[],Hn={},qn=!1,zn=!1,$n=0;function Gn(){$n=Bn.length=Vn.length=0,Hn={},qn=zn=!1}var Kn=0,Wn=Date.now;if(Y&&!ee){var Xn=window.performance;Xn&&"function"===typeof Xn.now&&Wn()>document.createEvent("Event").timeStamp&&(Wn=function(){return Xn.now()})}function Yn(){var e,t;for(Kn=Wn(),zn=!0,Bn.sort((function(e,t){return e.id-t.id})),$n=0;$n<Bn.length;$n++)e=Bn[$n],e.before&&e.before(),t=e.id,Hn[t]=null,e.run();var n=Vn.slice(),i=Bn.slice();Gn(),Zn(n),Jn(i),ce&&H.devtools&&ce.emit("flush")}function Jn(e){var t=e.length;while(t--){var n=e[t],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Fn(i,"updated")}}function Qn(e){e._inactive=!1,Vn.push(e)}function Zn(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,Un(e[t],!0)}function ei(e){var t=e.id;if(null==Hn[t]){if(Hn[t]=!0,zn){var n=Bn.length-1;while(n>$n&&Bn[n].id>e.id)n--;Bn.splice(n+1,0,e)}else Bn.push(e);qn||(qn=!0,pt(Yn))}}var ti=0,ni=function(e,t,n,i,r){this.vm=e,r&&(e._watcher=this),e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ti,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new de,this.newDepIds=new de,this.expression="","function"===typeof t?this.getter=t:(this.getter=K(t),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};ni.prototype.get=function(){var e;ve(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(xo){if(!this.user)throw xo;tt(xo,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&gt(e),ye(),this.cleanupDeps()}return e},ni.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},ni.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ni.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ei(this)},ni.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||u(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(xo){tt(xo,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},ni.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ni.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},ni.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var ii={enumerable:!0,configurable:!0,get:O,set:O};function ri(e,t,n){ii.get=function(){return this[t][n]},ii.set=function(e){this[t][n]=e},Object.defineProperty(e,n,ii)}function ai(e){e._watchers=[];var t=e.$options;t.props&&oi(e,t.props),t.methods&&pi(e,t.methods),t.data?si(e):Oe(e._data={},!0),t.computed&&li(e,t.computed),t.watch&&t.watch!==ae&&mi(e,t.watch)}function oi(e,t){var n=e.$options.propsData||{},i=e._props={},r=e.$options._propKeys=[],a=!e.$parent;a||Ie(!1);var o=function(a){r.push(a);var o=Ye(a,t,n,e);Re(i,a,o),a in e||ri(e,"_props",a)};for(var s in t)o(s);Ie(!0)}function si(e){var t=e.$options.data;t=e._data="function"===typeof t?ui(t,e):t||{},l(t)||(t={});var n=Object.keys(t),i=e.$options.props,r=(e.$options.methods,n.length);while(r--){var a=n[r];0,i&&w(i,a)||z(a)||ri(e,"_data",a)}Oe(t,!0)}function ui(e,t){ve();try{return e.call(t,t)}catch(xo){return tt(xo,t,"data()"),{}}finally{ye()}}var ci={lazy:!0};function li(e,t){var n=e._computedWatchers=Object.create(null),i=ue();for(var r in t){var a=t[r],o="function"===typeof a?a:a.get;0,i||(n[r]=new ni(e,o||O,O,ci)),r in e||di(e,r,a)}}function di(e,t,n){var i=!ue();"function"===typeof n?(ii.get=i?fi(t):hi(n),ii.set=O):(ii.get=n.get?i&&!1!==n.cache?fi(t):hi(n.get):O,ii.set=n.set||O),Object.defineProperty(e,t,ii)}function fi(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),me.target&&t.depend(),t.value}}function hi(e){return function(){return e.call(this,this)}}function pi(e,t){e.$options.props;for(var n in t)e[n]="function"!==typeof t[n]?O:I(t[n],e)}function mi(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)gi(e,n,i[r]);else gi(e,n,i)}}function gi(e,t,n,i){return l(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=e[n]),e.$watch(t,n,i)}function vi(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",n),e.prototype.$set=Ne,e.prototype.$delete=Le,e.prototype.$watch=function(e,t,n){var i=this;if(l(t))return gi(i,e,t,n);n=n||{},n.user=!0;var r=new ni(i,e,t,n);if(n.immediate)try{t.call(i,r.value)}catch(a){tt(a,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var yi=0;function bi(e){e.prototype._init=function(e){var t=this;t._uid=yi++,t._isVue=!0,e&&e._isComponent?wi(t,e):t.$options=We(Ti(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Dn(t),kn(t),mn(t),Fn(t,"beforeCreate"),It(t),ai(t),Ct(t),Fn(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function wi(e,t){var n=e.$options=Object.create(e.constructor.options),i=t._parentVnode;n.parent=t.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function Ti(e){var t=e.options;if(e.super){var n=Ti(e.super),i=e.superOptions;if(n!==i){e.superOptions=n;var r=Si(e);r&&P(e.extendOptions,r),t=e.options=We(n,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function Si(e){var t,n=e.options,i=e.sealedOptions;for(var r in n)n[r]!==i[r]&&(t||(t={}),t[r]=n[r]);return t}function xi(e){this._init(e)}function ki(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=M(arguments,1);return n.unshift(this),"function"===typeof e.install?e.install.apply(e,n):"function"===typeof e&&e.apply(null,n),t.push(e),this}}function Ei(e){e.mixin=function(e){return this.options=We(this.options,e),this}}function Ai(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var a=e.name||n.options.name;var o=function(e){this._init(e)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=t++,o.options=We(n.options,e),o["super"]=n,o.options.props&&_i(o),o.options.computed&&Ci(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,B.forEach((function(e){o[e]=n[e]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=e,o.sealedOptions=P({},o.options),r[i]=o,o}}function _i(e){var t=e.options.props;for(var n in t)ri(e.prototype,"_props",n)}function Ci(e){var t=e.options.computed;for(var n in t)di(e.prototype,n,t[n])}function Ii(e){B.forEach((function(t){e[t]=function(e,n){return n?("component"===t&&l(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"===typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}}))}function Mi(e){return e&&(e.Ctor.options.name||e.tag)}function Pi(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!d(e)&&e.test(t)}function Di(e,t){var n=e.cache,i=e.keys,r=e._vnode;for(var a in n){var o=n[a];if(o){var s=Mi(o.componentOptions);s&&!t(s)&&Oi(n,a,i,r)}}}function Oi(e,t,n,i){var r=e[t];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),e[t]=null,y(n,t)}bi(xi),vi(xi),In(xi),On(xi),yn(xi);var Ri=[String,RegExp,Array],Ni={name:"keep-alive",abstract:!0,props:{include:Ri,exclude:Ri,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)Oi(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",(function(t){Di(e,(function(e){return Pi(t,e)}))})),this.$watch("exclude",(function(t){Di(e,(function(e){return!Pi(t,e)}))}))},render:function(){var e=this.$slots.default,t=xn(e),n=t&&t.componentOptions;if(n){var i=Mi(n),r=this,a=r.include,o=r.exclude;if(a&&(!i||!Pi(a,i))||o&&i&&Pi(o,i))return t;var s=this,u=s.cache,c=s.keys,l=null==t.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):t.key;u[l]?(t.componentInstance=u[l].componentInstance,y(c,l),c.push(l)):(u[l]=t,c.push(l),this.max&&c.length>parseInt(this.max)&&Oi(u,c[0],c,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Li={KeepAlive:Ni};function Ui(e){var t={get:function(){return H}};Object.defineProperty(e,"config",t),e.util={warn:he,extend:P,mergeOptions:We,defineReactive:Re},e.set=Ne,e.delete=Le,e.nextTick=pt,e.observable=function(e){return Oe(e),e},e.options=Object.create(null),B.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,P(e.options.components,Li),ki(e),Ei(e),Ai(e),Ii(e)}Ui(xi),Object.defineProperty(xi.prototype,"$isServer",{get:ue}),Object.defineProperty(xi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xi,"FunctionalRenderContext",{value:Jt}),xi.version="2.6.12";var ji=g("style,class"),Fi=g("input,textarea,option,select,progress"),Bi=function(e,t,n){return"value"===n&&Fi(e)&&"button"!==t||"selected"===n&&"option"===e||"checked"===n&&"input"===e||"muted"===n&&"video"===e},Vi=g("contenteditable,draggable,spellcheck"),Hi=g("events,caret,typing,plaintext-only"),qi=function(e,t){return Wi(t)||"false"===t?"false":"contenteditable"===e&&Hi(t)?t:"true"},zi=g("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),$i="http://www.w3.org/1999/xlink",Gi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ki=function(e){return Gi(e)?e.slice(6,e.length):""},Wi=function(e){return null==e||!1===e};function Xi(e){var t=e.data,n=e,i=e;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(t=Yi(i.data,t));while(r(n=n.parent))n&&n.data&&(t=Yi(t,n.data));return Ji(t.staticClass,t.class)}function Yi(e,t){return{staticClass:Qi(e.staticClass,t.staticClass),class:r(e.class)?[e.class,t.class]:t.class}}function Ji(e,t){return r(e)||r(t)?Qi(e,Zi(t)):""}function Qi(e,t){return e?t?e+" "+t:e:t||""}function Zi(e){return Array.isArray(e)?er(e):u(e)?tr(e):"string"===typeof e?e:""}function er(e){for(var t,n="",i=0,a=e.length;i<a;i++)r(t=Zi(e[i]))&&""!==t&&(n&&(n+=" "),n+=t);return n}function tr(e){var t="";for(var n in e)e[n]&&(t&&(t+=" "),t+=n);return t}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ir=g("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=g("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ar=function(e){return ir(e)||rr(e)};function or(e){return rr(e)?"svg":"math"===e?"math":void 0}var sr=Object.create(null);function ur(e){if(!Y)return!0;if(ar(e))return!1;if(e=e.toLowerCase(),null!=sr[e])return sr[e];var t=document.createElement(e);return e.indexOf("-")>-1?sr[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:sr[e]=/HTMLUnknownElement/.test(t.toString())}var cr=g("text,number,password,search,email,tel,url");function lr(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function dr(e,t){var n=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function fr(e,t){return document.createElementNS(nr[e],t)}function hr(e){return document.createTextNode(e)}function pr(e){return document.createComment(e)}function mr(e,t,n){e.insertBefore(t,n)}function gr(e,t){e.removeChild(t)}function vr(e,t){e.appendChild(t)}function yr(e){return e.parentNode}function br(e){return e.nextSibling}function wr(e){return e.tagName}function Tr(e,t){e.textContent=t}function Sr(e,t){e.setAttribute(t,"")}var xr=Object.freeze({createElement:dr,createElementNS:fr,createTextNode:hr,createComment:pr,insertBefore:mr,removeChild:gr,appendChild:vr,parentNode:yr,nextSibling:br,tagName:wr,setTextContent:Tr,setStyleScope:Sr}),kr={create:function(e,t){Er(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Er(e,!0),Er(t))},destroy:function(e){Er(e,!0)}};function Er(e,t){var n=e.data.ref;if(r(n)){var i=e.context,a=e.componentInstance||e.elm,o=i.$refs;t?Array.isArray(o[n])?y(o[n],a):o[n]===a&&(o[n]=void 0):e.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}var Ar=new be("",{},[]),_r=["create","activate","update","remove","destroy"];function Cr(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&r(e.data)===r(t.data)&&Ir(e,t)||a(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&i(t.asyncFactory.error))}function Ir(e,t){if("input"!==e.tag)return!0;var n,i=r(n=e.data)&&r(n=n.attrs)&&n.type,a=r(n=t.data)&&r(n=n.attrs)&&n.type;return i===a||cr(i)&&cr(a)}function Mr(e,t,n){var i,a,o={};for(i=t;i<=n;++i)a=e[i].key,r(a)&&(o[a]=i);return o}function Pr(e){var t,n,o={},u=e.modules,c=e.nodeOps;for(t=0;t<_r.length;++t)for(o[_r[t]]=[],n=0;n<u.length;++n)r(u[n][_r[t]])&&o[_r[t]].push(u[n][_r[t]]);function l(e){return new be(c.tagName(e).toLowerCase(),{},[],void 0,e)}function d(e,t){function n(){0===--n.listeners&&f(e)}return n.listeners=t,n}function f(e){var t=c.parentNode(e);r(t)&&c.removeChild(t,e)}function h(e,t,n,i,o,s,u){if(r(e.elm)&&r(s)&&(e=s[u]=xe(e)),e.isRootInsert=!o,!p(e,t,n,i)){var l=e.data,d=e.children,f=e.tag;r(f)?(e.elm=e.ns?c.createElementNS(e.ns,f):c.createElement(f,e),S(e),b(e,d,t),r(l)&&T(e,t),y(n,e.elm,i)):a(e.isComment)?(e.elm=c.createComment(e.text),y(n,e.elm,i)):(e.elm=c.createTextNode(e.text),y(n,e.elm,i))}}function p(e,t,n,i){var o=e.data;if(r(o)){var s=r(e.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(e,!1),r(e.componentInstance))return m(e,t),y(n,e.elm,i),a(s)&&v(e,t,n,i),!0}}function m(e,t){r(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,w(e)?(T(e,t),S(e)):(Er(e),t.push(e))}function v(e,t,n,i){var a,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,r(a=s.data)&&r(a=a.transition)){for(a=0;a<o.activate.length;++a)o.activate[a](Ar,s);t.push(s);break}y(n,e.elm,i)}function y(e,t,n){r(e)&&(r(n)?c.parentNode(n)===e&&c.insertBefore(e,t,n):c.appendChild(e,t))}function b(e,t,n){if(Array.isArray(t)){0;for(var i=0;i<t.length;++i)h(t[i],n,e.elm,null,!0,t,i)}else s(e.text)&&c.appendChild(e.elm,c.createTextNode(String(e.text)))}function w(e){while(e.componentInstance)e=e.componentInstance._vnode;return r(e.tag)}function T(e,n){for(var i=0;i<o.create.length;++i)o.create[i](Ar,e);t=e.data.hook,r(t)&&(r(t.create)&&t.create(Ar,e),r(t.insert)&&n.push(e))}function S(e){var t;if(r(t=e.fnScopeId))c.setStyleScope(e.elm,t);else{var n=e;while(n)r(t=n.context)&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t),n=n.parent}r(t=Mn)&&t!==e.context&&t!==e.fnContext&&r(t=t.$options._scopeId)&&c.setStyleScope(e.elm,t)}function x(e,t,n,i,r,a){for(;i<=r;++i)h(n[i],a,e,t,!1,n,i)}function k(e){var t,n,i=e.data;if(r(i))for(r(t=i.hook)&&r(t=t.destroy)&&t(e),t=0;t<o.destroy.length;++t)o.destroy[t](e);if(r(t=e.children))for(n=0;n<e.children.length;++n)k(e.children[n])}function E(e,t,n){for(;t<=n;++t){var i=e[t];r(i)&&(r(i.tag)?(A(i),k(i)):f(i.elm))}}function A(e,t){if(r(t)||r(e.data)){var n,i=o.remove.length+1;for(r(t)?t.listeners+=i:t=d(e.elm,i),r(n=e.componentInstance)&&r(n=n._vnode)&&r(n.data)&&A(n,t),n=0;n<o.remove.length;++n)o.remove[n](e,t);r(n=e.data.hook)&&r(n=n.remove)?n(e,t):t()}else f(e.elm)}function _(e,t,n,a,o){var s,u,l,d,f=0,p=0,m=t.length-1,g=t[0],v=t[m],y=n.length-1,b=n[0],w=n[y],T=!o;while(f<=m&&p<=y)i(g)?g=t[++f]:i(v)?v=t[--m]:Cr(g,b)?(I(g,b,a,n,p),g=t[++f],b=n[++p]):Cr(v,w)?(I(v,w,a,n,y),v=t[--m],w=n[--y]):Cr(g,w)?(I(g,w,a,n,y),T&&c.insertBefore(e,g.elm,c.nextSibling(v.elm)),g=t[++f],w=n[--y]):Cr(v,b)?(I(v,b,a,n,p),T&&c.insertBefore(e,v.elm,g.elm),v=t[--m],b=n[++p]):(i(s)&&(s=Mr(t,f,m)),u=r(b.key)?s[b.key]:C(b,t,f,m),i(u)?h(b,a,e,g.elm,!1,n,p):(l=t[u],Cr(l,b)?(I(l,b,a,n,p),t[u]=void 0,T&&c.insertBefore(e,l.elm,g.elm)):h(b,a,e,g.elm,!1,n,p)),b=n[++p]);f>m?(d=i(n[y+1])?null:n[y+1].elm,x(e,d,n,p,y,a)):p>y&&E(t,f,m)}function C(e,t,n,i){for(var a=n;a<i;a++){var o=t[a];if(r(o)&&Cr(e,o))return a}}function I(e,t,n,s,u,l){if(e!==t){r(t.elm)&&r(s)&&(t=s[u]=xe(t));var d=t.elm=e.elm;if(a(e.isAsyncPlaceholder))r(t.asyncFactory.resolved)?D(e.elm,t,n):t.isAsyncPlaceholder=!0;else if(a(t.isStatic)&&a(e.isStatic)&&t.key===e.key&&(a(t.isCloned)||a(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,h=t.data;r(h)&&r(f=h.hook)&&r(f=f.prepatch)&&f(e,t);var p=e.children,m=t.children;if(r(h)&&w(t)){for(f=0;f<o.update.length;++f)o.update[f](e,t);r(f=h.hook)&&r(f=f.update)&&f(e,t)}i(t.text)?r(p)&&r(m)?p!==m&&_(d,p,m,n,l):r(m)?(r(e.text)&&c.setTextContent(d,""),x(d,null,m,0,m.length-1,n)):r(p)?E(p,0,p.length-1):r(e.text)&&c.setTextContent(d,""):e.text!==t.text&&c.setTextContent(d,t.text),r(h)&&r(f=h.hook)&&r(f=f.postpatch)&&f(e,t)}}}function M(e,t,n){if(a(n)&&r(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var P=g("attrs,class,staticClass,staticStyle,key");function D(e,t,n,i){var o,s=t.tag,u=t.data,c=t.children;if(i=i||u&&u.pre,t.elm=e,a(t.isComment)&&r(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(o=u.hook)&&r(o=o.init)&&o(t,!0),r(o=t.componentInstance)))return m(t,n),!0;if(r(s)){if(r(c))if(e.hasChildNodes())if(r(o=u)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==e.innerHTML)return!1}else{for(var l=!0,d=e.firstChild,f=0;f<c.length;f++){if(!d||!D(d,c[f],n,i)){l=!1;break}d=d.nextSibling}if(!l||d)return!1}else b(t,c,n);if(r(u)){var h=!1;for(var p in u)if(!P(p)){h=!0,T(t,n);break}!h&&u["class"]&&gt(u["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,n,s){if(!i(t)){var u=!1,d=[];if(i(e))u=!0,h(t,d);else{var f=r(e.nodeType);if(!f&&Cr(e,t))I(e,t,d,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(F)&&(e.removeAttribute(F),n=!0),a(n)&&D(e,t,d))return M(t,d,!0),e;e=l(e)}var p=e.elm,m=c.parentNode(p);if(h(t,d,p._leaveCb?null:m,c.nextSibling(p)),r(t.parent)){var g=t.parent,v=w(t);while(g){for(var y=0;y<o.destroy.length;++y)o.destroy[y](g);if(g.elm=t.elm,v){for(var b=0;b<o.create.length;++b)o.create[b](Ar,g);var T=g.data.hook.insert;if(T.merged)for(var S=1;S<T.fns.length;S++)T.fns[S]()}else Er(g);g=g.parent}}r(m)?E([e],0,0):r(e.tag)&&k(e)}}return M(t,d,u),t.elm}r(e)&&k(e)}}var Dr={create:Or,update:Or,destroy:function(e){Or(e,Ar)}};function Or(e,t){(e.data.directives||t.data.directives)&&Rr(e,t)}function Rr(e,t){var n,i,r,a=e===Ar,o=t===Ar,s=Lr(e.data.directives,e.context),u=Lr(t.data.directives,t.context),c=[],l=[];for(n in u)i=s[n],r=u[n],i?(r.oldValue=i.value,r.oldArg=i.arg,jr(r,"update",t,e),r.def&&r.def.componentUpdated&&l.push(r)):(jr(r,"bind",t,e),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)jr(c[n],"inserted",t,e)};a?Tt(t,"insert",d):d()}if(l.length&&Tt(t,"postpatch",(function(){for(var n=0;n<l.length;n++)jr(l[n],"componentUpdated",t,e)})),!a)for(n in s)u[n]||jr(s[n],"unbind",e,e,o)}var Nr=Object.create(null);function Lr(e,t){var n,i,r=Object.create(null);if(!e)return r;for(n=0;n<e.length;n++)i=e[n],i.modifiers||(i.modifiers=Nr),r[Ur(i)]=i,i.def=Xe(t.$options,"directives",i.name,!0);return r}function Ur(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function jr(e,t,n,i,r){var a=e.def&&e.def[t];if(a)try{a(n.elm,e,n,i,r)}catch(xo){tt(xo,n.context,"directive "+e.name+" "+t+" hook")}}var Fr=[kr,Dr];function Br(e,t){var n=t.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(e.data.attrs)||!i(t.data.attrs))){var a,o,s,u=t.elm,c=e.data.attrs||{},l=t.data.attrs||{};for(a in r(l.__ob__)&&(l=t.data.attrs=P({},l)),l)o=l[a],s=c[a],s!==o&&Vr(u,a,o);for(a in(ee||ne)&&l.value!==c.value&&Vr(u,"value",l.value),c)i(l[a])&&(Gi(a)?u.removeAttributeNS($i,Ki(a)):Vi(a)||u.removeAttribute(a))}}function Vr(e,t,n){e.tagName.indexOf("-")>-1?Hr(e,t,n):zi(t)?Wi(n)?e.removeAttribute(t):(n="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,n)):Vi(t)?e.setAttribute(t,qi(t,n)):Gi(t)?Wi(n)?e.removeAttributeNS($i,Ki(t)):e.setAttributeNS($i,t,n):Hr(e,t,n)}function Hr(e,t,n){if(Wi(n))e.removeAttribute(t);else{if(ee&&!te&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==n&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,n)}}var qr={create:Br,update:Br};function zr(e,t){var n=t.elm,a=t.data,o=e.data;if(!(i(a.staticClass)&&i(a.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=Xi(t),u=n._transitionClasses;r(u)&&(s=Qi(s,Zi(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var $r,Gr={create:zr,update:zr},Kr="__r",Wr="__c";function Xr(e){if(r(e[Kr])){var t=ee?"change":"input";e[t]=[].concat(e[Kr],e[t]||[]),delete e[Kr]}r(e[Wr])&&(e.change=[].concat(e[Wr],e.change||[]),delete e[Wr])}function Yr(e,t,n){var i=$r;return function r(){var a=t.apply(null,arguments);null!==a&&Zr(e,r,n,i)}}var Jr=ot&&!(re&&Number(re[1])<=53);function Qr(e,t,n,i){if(Jr){var r=Kn,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=r||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}$r.addEventListener(e,t,oe?{capture:n,passive:i}:n)}function Zr(e,t,n,i){(i||$r).removeEventListener(e,t._wrapper||t,n)}function ea(e,t){if(!i(e.data.on)||!i(t.data.on)){var n=t.data.on||{},r=e.data.on||{};$r=t.elm,Xr(n),wt(n,r,Qr,Zr,Yr,t.context),$r=void 0}}var ta,na={create:ea,update:ea};function ia(e,t){if(!i(e.data.domProps)||!i(t.data.domProps)){var n,a,o=t.elm,s=e.data.domProps||{},u=t.data.domProps||{};for(n in r(u.__ob__)&&(u=t.data.domProps=P({},u)),s)n in u||(o[n]="");for(n in u){if(a=u[n],"textContent"===n||"innerHTML"===n){if(t.children&&(t.children.length=0),a===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=a;var c=i(a)?"":String(a);ra(o,c)&&(o.value=c)}else if("innerHTML"===n&&rr(o.tagName)&&i(o.innerHTML)){ta=ta||document.createElement("div"),ta.innerHTML="<svg>"+a+"</svg>";var l=ta.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(l.firstChild)o.appendChild(l.firstChild)}else if(a!==s[n])try{o[n]=a}catch(xo){}}}}function ra(e,t){return!e.composing&&("OPTION"===e.tagName||aa(e,t)||oa(e,t))}function aa(e,t){var n=!0;try{n=document.activeElement!==e}catch(xo){}return n&&e.value!==t}function oa(e,t){var n=e.value,i=e._vModifiers;if(r(i)){if(i.number)return m(n)!==m(t);if(i.trim)return n.trim()!==t.trim()}return n!==t}var sa={create:ia,update:ia},ua=T((function(e){var t={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach((function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}));function ca(e){var t=la(e.style);return e.staticStyle?P(e.staticStyle,t):t}function la(e){return Array.isArray(e)?D(e):"string"===typeof e?ua(e):e}function da(e,t){var n,i={};if(t){var r=e;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=ca(r.data))&&P(i,n)}(n=ca(e.data))&&P(i,n);var a=e;while(a=a.parent)a.data&&(n=ca(a.data))&&P(i,n);return i}var fa,ha=/^--/,pa=/\s*!important$/,ma=function(e,t,n){if(ha.test(t))e.style.setProperty(t,n);else if(pa.test(n))e.style.setProperty(A(t),n.replace(pa,""),"important");else{var i=va(t);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)e.style[i]=n[r];else e.style[i]=n}},ga=["Webkit","Moz","ms"],va=T((function(e){if(fa=fa||document.createElement("div").style,e=x(e),"filter"!==e&&e in fa)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<ga.length;n++){var i=ga[n]+t;if(i in fa)return i}}));function ya(e,t){var n=t.data,a=e.data;if(!(i(n.staticStyle)&&i(n.style)&&i(a.staticStyle)&&i(a.style))){var o,s,u=t.elm,c=a.staticStyle,l=a.normalizedStyle||a.style||{},d=c||l,f=la(t.data.style)||{};t.data.normalizedStyle=r(f.__ob__)?P({},f):f;var h=da(t,!0);for(s in d)i(h[s])&&ma(u,s,"");for(s in h)o=h[s],o!==d[s]&&ma(u,s,null==o?"":o)}}var ba={create:ya,update:ya},wa=/\s+/;function Ta(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wa).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function Sa(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(wa).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var n=" "+(e.getAttribute("class")||"")+" ",i=" "+t+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?e.setAttribute("class",n):e.removeAttribute("class")}}function xa(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&P(t,ka(e.name||"v")),P(t,e),t}return"string"===typeof e?ka(e):void 0}}var ka=T((function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}})),Ea=Y&&!te,Aa="transition",_a="animation",Ca="transition",Ia="transitionend",Ma="animation",Pa="animationend";Ea&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ca="WebkitTransition",Ia="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ma="WebkitAnimation",Pa="webkitAnimationEnd"));var Da=Y?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function Oa(e){Da((function(){Da(e)}))}function Ra(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Ta(e,t))}function Na(e,t){e._transitionClasses&&y(e._transitionClasses,t),Sa(e,t)}function La(e,t,n){var i=ja(e,t),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s=r===Aa?Ia:Pa,u=0,c=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++u>=o&&c()};setTimeout((function(){u<o&&c()}),a+1),e.addEventListener(s,l)}var Ua=/\b(transform|all)(,|$)/;function ja(e,t){var n,i=window.getComputedStyle(e),r=(i[Ca+"Delay"]||"").split(", "),a=(i[Ca+"Duration"]||"").split(", "),o=Fa(r,a),s=(i[Ma+"Delay"]||"").split(", "),u=(i[Ma+"Duration"]||"").split(", "),c=Fa(s,u),l=0,d=0;t===Aa?o>0&&(n=Aa,l=o,d=a.length):t===_a?c>0&&(n=_a,l=c,d=u.length):(l=Math.max(o,c),n=l>0?o>c?Aa:_a:null,d=n?n===Aa?a.length:u.length:0);var f=n===Aa&&Ua.test(i[Ca+"Property"]);return{type:n,timeout:l,propCount:d,hasTransform:f}}function Fa(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map((function(t,n){return Ba(t)+Ba(e[n])})))}function Ba(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Va(e,t){var n=e.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=xa(e.data.transition);if(!i(a)&&!r(n._enterCb)&&1===n.nodeType){var o=a.css,s=a.type,c=a.enterClass,l=a.enterToClass,d=a.enterActiveClass,f=a.appearClass,h=a.appearToClass,p=a.appearActiveClass,g=a.beforeEnter,v=a.enter,y=a.afterEnter,b=a.enterCancelled,w=a.beforeAppear,T=a.appear,S=a.afterAppear,x=a.appearCancelled,k=a.duration,E=Mn,A=Mn.$vnode;while(A&&A.parent)E=A.context,A=A.parent;var _=!E._isMounted||!e.isRootInsert;if(!_||T||""===T){var C=_&&f?f:c,I=_&&p?p:d,M=_&&h?h:l,P=_&&w||g,D=_&&"function"===typeof T?T:v,O=_&&S||y,R=_&&x||b,N=m(u(k)?k.enter:k);0;var L=!1!==o&&!te,U=za(D),F=n._enterCb=j((function(){L&&(Na(n,M),Na(n,I)),F.cancelled?(L&&Na(n,C),R&&R(n)):O&&O(n),n._enterCb=null}));e.data.show||Tt(e,"insert",(function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),D&&D(n,F)})),P&&P(n),L&&(Ra(n,C),Ra(n,I),Oa((function(){Na(n,C),F.cancelled||(Ra(n,M),U||(qa(N)?setTimeout(F,N):La(n,s,F)))}))),e.data.show&&(t&&t(),D&&D(n,F)),L||U||F()}}}function Ha(e,t){var n=e.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var a=xa(e.data.transition);if(i(a)||1!==n.nodeType)return t();if(!r(n._leaveCb)){var o=a.css,s=a.type,c=a.leaveClass,l=a.leaveToClass,d=a.leaveActiveClass,f=a.beforeLeave,h=a.leave,p=a.afterLeave,g=a.leaveCancelled,v=a.delayLeave,y=a.duration,b=!1!==o&&!te,w=za(h),T=m(u(y)?y.leave:y);0;var S=n._leaveCb=j((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[e.key]=null),b&&(Na(n,l),Na(n,d)),S.cancelled?(b&&Na(n,c),g&&g(n)):(t(),p&&p(n)),n._leaveCb=null}));v?v(x):x()}function x(){S.cancelled||(!e.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[e.key]=e),f&&f(n),b&&(Ra(n,c),Ra(n,d),Oa((function(){Na(n,c),S.cancelled||(Ra(n,l),w||(qa(T)?setTimeout(S,T):La(n,s,S)))}))),h&&h(n,S),b||w||S())}}function qa(e){return"number"===typeof e&&!isNaN(e)}function za(e){if(i(e))return!1;var t=e.fns;return r(t)?za(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function $a(e,t){!0!==t.data.show&&Va(t)}var Ga=Y?{create:$a,activate:$a,remove:function(e,t){!0!==e.data.show?Ha(e,t):t()}}:{},Ka=[qr,Gr,na,sa,ba,Ga],Wa=Ka.concat(Fr),Xa=Pr({nodeOps:xr,modules:Wa});te&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&io(e,"input")}));var Ya={inserted:function(e,t,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?Tt(n,"postpatch",(function(){Ya.componentUpdated(e,t,n)})):Ja(e,t,n.context),e._vOptions=[].map.call(e.options,eo)):("textarea"===n.tag||cr(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",to),e.addEventListener("compositionend",no),e.addEventListener("change",no),te&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){Ja(e,t,n.context);var i=e._vOptions,r=e._vOptions=[].map.call(e.options,eo);if(r.some((function(e,t){return!L(e,i[t])}))){var a=e.multiple?t.value.some((function(e){return Za(e,r)})):t.value!==t.oldValue&&Za(t.value,r);a&&io(e,"change")}}}};function Ja(e,t,n){Qa(e,t,n),(ee||ne)&&setTimeout((function(){Qa(e,t,n)}),0)}function Qa(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,u=e.options.length;s<u;s++)if(o=e.options[s],r)a=U(i,eo(o))>-1,o.selected!==a&&(o.selected=a);else if(L(eo(o),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function Za(e,t){return t.every((function(t){return!L(t,e)}))}function eo(e){return"_value"in e?e._value:e.value}function to(e){e.target.composing=!0}function no(e){e.target.composing&&(e.target.composing=!1,io(e.target,"input"))}function io(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ro(e){return!e.componentInstance||e.data&&e.data.transition?e:ro(e.componentInstance._vnode)}var ao={bind:function(e,t,n){var i=t.value;n=ro(n);var r=n.data&&n.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r?(n.data.show=!0,Va(n,(function(){e.style.display=a}))):e.style.display=i?a:"none"},update:function(e,t,n){var i=t.value,r=t.oldValue;if(!i!==!r){n=ro(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,i?Va(n,(function(){e.style.display=e.__vOriginalDisplay})):Ha(n,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},oo={model:Ya,show:ao},so={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function uo(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?uo(xn(t.children)):e}function co(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var a in r)t[x(a)]=r[a];return t}function lo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function fo(e){while(e=e.parent)if(e.data.transition)return!0}function ho(e,t){return t.key===e.key&&t.tag===e.tag}var po=function(e){return e.tag||Sn(e)},mo=function(e){return"show"===e.name},go={name:"transition",props:so,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(po),n.length)){0;var i=this.mode;0;var r=n[0];if(fo(this.$vnode))return r;var a=uo(r);if(!a)return r;if(this._leaving)return lo(e,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var u=(a.data||(a.data={})).transition=co(this),c=this._vnode,l=uo(c);if(a.data.directives&&a.data.directives.some(mo)&&(a.data.show=!0),l&&l.data&&!ho(a,l)&&!Sn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var d=l.data.transition=P({},u);if("out-in"===i)return this._leaving=!0,Tt(d,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),lo(e,r);if("in-out"===i){if(Sn(a))return c;var f,h=function(){f()};Tt(u,"afterEnter",h),Tt(u,"enterCancelled",h),Tt(d,"delayLeave",(function(e){f=e}))}}return r}}},vo=P({tag:String,moveClass:String},so);delete vo.mode;var yo={props:vo,beforeMount:function(){var e=this,t=this._update;this._update=function(n,i){var r=Pn(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,r(),t.call(e,n,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=co(this),s=0;s<r.length;s++){var u=r[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(i){for(var c=[],l=[],d=0;d<i.length;d++){var f=i[d];f.data.transition=o,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=e(t,null,c),this.removed=l}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(bo),e.forEach(wo),e.forEach(To),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var n=e.elm,i=n.style;Ra(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Ia,n._moveCb=function e(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Ia,e),n._moveCb=null,Na(n,t))})}})))},methods:{hasMove:function(e,t){if(!Ea)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){Sa(n,e)})),Ta(n,t),n.style.display="none",this.$el.appendChild(n);var i=ja(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function bo(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function wo(e){e.data.newPos=e.elm.getBoundingClientRect()}function To(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}var So={Transition:go,TransitionGroup:yo};xi.config.mustUseProp=Bi,xi.config.isReservedTag=ar,xi.config.isReservedAttr=ji,xi.config.getTagNamespace=or,xi.config.isUnknownElement=ur,P(xi.options.directives,oo),P(xi.options.components,So),xi.prototype.__patch__=Y?Xa:O,xi.prototype.$mount=function(e,t){return e=e&&Y?lr(e):void 0,Rn(this,e,t)},Y&&setTimeout((function(){H.devtools&&ce&&ce.emit("init",xi)}),0),t["a"]=xi}).call(this,n("c8ba"))},"2b3d":function(e,t,n){"use strict";n("3ca3");var i,r=n("23e7"),a=n("83ab"),o=n("0d3b"),s=n("da84"),u=n("37e8"),c=n("6eeb"),l=n("19aa"),d=n("5135"),f=n("60da"),h=n("4df4"),p=n("6547").codeAt,m=n("5fb2"),g=n("d44e"),v=n("9861"),y=n("69f3"),b=s.URL,w=v.URLSearchParams,T=v.getState,S=y.set,x=y.getterFor("URL"),k=Math.floor,E=Math.pow,A="Invalid authority",_="Invalid scheme",C="Invalid host",I="Invalid port",M=/[A-Za-z]/,P=/[\d+-.A-Za-z]/,D=/\d/,O=/^(0x|0X)/,R=/^[0-7]+$/,N=/^\d+$/,L=/^[\dA-Fa-f]+$/,U=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,F=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,B=/[\u0009\u000A\u000D]/g,V=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return C;if(n=q(t.slice(1,-1)),!n)return C;e.host=n}else if(Q(e)){if(t=m(t),U.test(t))return C;if(n=H(t),null===n)return C;e.host=n}else{if(j.test(t))return C;for(n="",i=h(t),r=0;r<i.length;r++)n+=Y(i[r],G);e.host=n}},H=function(e){var t,n,i,r,a,o,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),t=u.length,t>4)return e;for(n=[],i=0;i<t;i++){if(r=u[i],""==r)return e;if(a=10,r.length>1&&"0"==r.charAt(0)&&(a=O.test(r)?16:8,r=r.slice(8==a?1:2)),""===r)o=0;else{if(!(10==a?N:8==a?R:L).test(r))return e;o=parseInt(r,a)}n.push(o)}for(i=0;i<t;i++)if(o=n[i],i==t-1){if(o>=E(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*E(256,3-i);return s},q=function(e){var t,n,i,r,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return e.charAt(d)};if(":"==f()){if(":"!=e.charAt(1))return;d+=2,c++,l=c}while(f()){if(8==c)return;if(":"!=f()){t=n=0;while(n<4&&L.test(f()))t=16*t+parseInt(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;i=0;while(f()){if(r=null,i>0){if(!("."==f()&&i<4))return;d++}if(!D.test(f()))return;while(D.test(f())){if(a=parseInt(f(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;d++}u[c]=256*u[c]+r,i++,2!=i&&4!=i||c++}if(4!=i)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,c++,l=c}}if(null!==l){o=c-l,c=7;while(0!=c&&o>0)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s}else if(8!=c)return;return u},z=function(e){for(var t=null,n=1,i=null,r=0,a=0;a<8;a++)0!==e[a]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(t=i,n=r),t},$=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=k(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=z(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},G={},K=f({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),W=f({},K,{"#":1,"?":1,"{":1,"}":1}),X=f({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Y=function(e,t){var n=p(e,0);return n>32&&n<127&&!d(t,e)?e:encodeURIComponent(e)},J={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Q=function(e){return d(J,e.scheme)},Z=function(e){return""!=e.username||""!=e.password},ee=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},te=function(e,t){var n;return 2==e.length&&M.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},ne=function(e){var t;return e.length>1&&te(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ie=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&te(t[0],!0)||t.pop()},re=function(e){return"."===e||"%2e"===e.toLowerCase()},ae=function(e){return e=e.toLowerCase(),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},oe={},se={},ue={},ce={},le={},de={},fe={},he={},pe={},me={},ge={},ve={},ye={},be={},we={},Te={},Se={},xe={},ke={},Ee={},Ae={},_e=function(e,t,n,r){var a,o,s,u,c=n||oe,l=0,f="",p=!1,m=!1,g=!1;n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(F,"")),t=t.replace(B,""),a=h(t);while(l<=a.length){switch(o=a[l],c){case oe:if(!o||!M.test(o)){if(n)return _;c=ue;continue}f+=o.toLowerCase(),c=se;break;case se:if(o&&(P.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return _;f="",c=ue,l=0;continue}if(n&&(Q(e)!=d(J,f)||"file"==f&&(Z(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(Q(e)&&J[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?c=be:Q(e)&&r&&r.scheme==e.scheme?c=ce:Q(e)?c=he:"/"==a[l+1]?(c=le,l++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ke)}break;case ue:if(!r||r.cannotBeABaseURL&&"#"!=o)return _;if(r.cannotBeABaseURL&&"#"==o){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,c=Ae;break}c="file"==r.scheme?be:de;continue;case ce:if("/"!=o||"/"!=a[l+1]){c=de;continue}c=pe,l++;break;case le:if("/"==o){c=me;break}c=xe;continue;case de:if(e.scheme=r.scheme,o==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==o||"\\"==o&&Q(e))c=fe;else if("?"==o)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",c=Ee;else{if("#"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),c=xe;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Ae}break;case fe:if(!Q(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,c=xe;continue}c=me}else c=pe;break;case he:if(c=pe,"/"!=o||"/"!=f.charAt(l+1))continue;l++;break;case pe:if("/"!=o&&"\\"!=o){c=me;continue}break;case me:if("@"==o){p&&(f="%40"+f),p=!0,s=h(f);for(var v=0;v<s.length;v++){var y=s[v];if(":"!=y||g){var b=Y(y,X);g?e.password+=b:e.username+=b}else g=!0}f=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(p&&""==f)return A;l-=h(f).length+1,f="",c=ge}else f+=o;break;case ge:case ve:if(n&&"file"==e.scheme){c=Te;continue}if(":"!=o||m){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)){if(Q(e)&&""==f)return C;if(n&&""==f&&(Z(e)||null!==e.port))return;if(u=V(e,f),u)return u;if(f="",c=Se,n)return;continue}"["==o?m=!0:"]"==o&&(m=!1),f+=o}else{if(""==f)return C;if(u=V(e,f),u)return u;if(f="",c=ye,n==ve)return}break;case ye:if(!D.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&Q(e)||n){if(""!=f){var w=parseInt(f,10);if(w>65535)return I;e.port=Q(e)&&w===J[e.scheme]?null:w,f=""}if(n)return;c=Se;continue}return I}f+=o;break;case be:if(e.scheme="file","/"==o||"\\"==o)c=we;else{if(!r||"file"!=r.scheme){c=xe;continue}if(o==i)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==o)e.host=r.host,e.path=r.path.slice(),e.query="",c=Ee;else{if("#"!=o){ne(a.slice(l).join(""))||(e.host=r.host,e.path=r.path.slice(),ie(e)),c=xe;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",c=Ae}}break;case we:if("/"==o||"\\"==o){c=Te;break}r&&"file"==r.scheme&&!ne(a.slice(l).join(""))&&(te(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),c=xe;continue;case Te:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&te(f))c=xe;else if(""==f){if(e.host="",n)return;c=Se}else{if(u=V(e,f),u)return u;if("localhost"==e.host&&(e.host=""),n)return;f="",c=Se}continue}f+=o;break;case Se:if(Q(e)){if(c=xe,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(c=xe,"/"!=o))continue}else e.fragment="",c=Ae;else e.query="",c=Ee;break;case xe:if(o==i||"/"==o||"\\"==o&&Q(e)||!n&&("?"==o||"#"==o)){if(ae(f)?(ie(e),"/"==o||"\\"==o&&Q(e)||e.path.push("")):re(f)?"/"==o||"\\"==o&&Q(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&te(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==i||"?"==o||"#"==o))while(e.path.length>1&&""===e.path[0])e.path.shift();"?"==o?(e.query="",c=Ee):"#"==o&&(e.fragment="",c=Ae)}else f+=Y(o,W);break;case ke:"?"==o?(e.query="",c=Ee):"#"==o?(e.fragment="",c=Ae):o!=i&&(e.path[0]+=Y(o,G));break;case Ee:n||"#"!=o?o!=i&&("'"==o&&Q(e)?e.query+="%27":e.query+="#"==o?"%23":Y(o,G)):(e.fragment="",c=Ae);break;case Ae:o!=i&&(e.fragment+=Y(o,K));break}l++}},Ce=function(e){var t,n,i=l(this,Ce,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(e),s=S(i,{type:"URL"});if(void 0!==r)if(r instanceof Ce)t=x(r);else if(n=_e(t={},String(r)),n)throw TypeError(n);if(n=_e(s,o,null,t),n)throw TypeError(n);var u=s.searchParams=new w,c=T(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},a||(i.href=Me.call(i),i.origin=Pe.call(i),i.protocol=De.call(i),i.username=Oe.call(i),i.password=Re.call(i),i.host=Ne.call(i),i.hostname=Le.call(i),i.port=Ue.call(i),i.pathname=je.call(i),i.search=Fe.call(i),i.searchParams=Be.call(i),i.hash=Ve.call(i))},Ie=Ce.prototype,Me=function(){var e=x(this),t=e.scheme,n=e.username,i=e.password,r=e.host,a=e.port,o=e.path,s=e.query,u=e.fragment,c=t+":";return null!==r?(c+="//",Z(e)&&(c+=n+(i?":"+i:"")+"@"),c+=$(r),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Pe=function(){var e=x(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&Q(e)?t+"://"+$(e.host)+(null!==n?":"+n:""):"null"},De=function(){return x(this).scheme+":"},Oe=function(){return x(this).username},Re=function(){return x(this).password},Ne=function(){var e=x(this),t=e.host,n=e.port;return null===t?"":null===n?$(t):$(t)+":"+n},Le=function(){var e=x(this).host;return null===e?"":$(e)},Ue=function(){var e=x(this).port;return null===e?"":String(e)},je=function(){var e=x(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=x(this).query;return e?"?"+e:""},Be=function(){return x(this).searchParams},Ve=function(){var e=x(this).fragment;return e?"#"+e:""},He=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(a&&u(Ie,{href:He(Me,(function(e){var t=x(this),n=String(e),i=_e(t,n);if(i)throw TypeError(i);T(t.searchParams).updateSearchParams(t.query)})),origin:He(Pe),protocol:He(De,(function(e){var t=x(this);_e(t,String(e)+":",oe)})),username:He(Oe,(function(e){var t=x(this),n=h(String(e));if(!ee(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=Y(n[i],X)}})),password:He(Re,(function(e){var t=x(this),n=h(String(e));if(!ee(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=Y(n[i],X)}})),host:He(Ne,(function(e){var t=x(this);t.cannotBeABaseURL||_e(t,String(e),ge)})),hostname:He(Le,(function(e){var t=x(this);t.cannotBeABaseURL||_e(t,String(e),ve)})),port:He(Ue,(function(e){var t=x(this);ee(t)||(e=String(e),""==e?t.port=null:_e(t,e,ye))})),pathname:He(je,(function(e){var t=x(this);t.cannotBeABaseURL||(t.path=[],_e(t,e+"",Se))})),search:He(Fe,(function(e){var t=x(this);e=String(e),""==e?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",_e(t,e,Ee)),T(t.searchParams).updateSearchParams(t.query)})),searchParams:He(Be),hash:He(Ve,(function(e){var t=x(this);e=String(e),""!=e?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",_e(t,e,Ae)):t.fragment=null}))}),c(Ie,"toJSON",(function(){return Me.call(this)}),{enumerable:!0}),c(Ie,"toString",(function(){return Me.call(this)}),{enumerable:!0}),b){var qe=b.createObjectURL,ze=b.revokeObjectURL;qe&&c(Ce,"createObjectURL",(function(e){return qe.apply(b,arguments)})),ze&&c(Ce,"revokeObjectURL",(function(e){return ze.apply(b,arguments)}))}g(Ce,"URL"),r({global:!0,forced:!o,sham:!a},{URL:Ce})},"2ca0":function(e,t,n){"use strict";var i=n("23e7"),r=n("06cf").f,a=n("50c4"),o=n("5a34"),s=n("1d80"),u=n("ab13"),c=n("c430"),l="".startsWith,d=Math.min,f=u("startsWith"),h=!c&&!f&&!!function(){var e=r(String.prototype,"startsWith");return e&&!e.writable}();i({target:"String",proto:!0,forced:!h&&!f},{startsWith:function(e){var t=String(s(this));o(e);var n=a(d(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return l?l.call(t,i,n):t.slice(n,n+i.length)===i}})},"2cf4":function(e,t,n){var i,r,a,o=n("da84"),s=n("d039"),u=n("c6b6"),c=n("0366"),l=n("1be4"),d=n("cc12"),f=n("1cdc"),h=o.location,p=o.setImmediate,m=o.clearImmediate,g=o.process,v=o.MessageChannel,y=o.Dispatch,b=0,w={},T="onreadystatechange",S=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},x=function(e){return function(){S(e)}},k=function(e){S(e.data)},E=function(e){o.postMessage(e+"",h.protocol+"//"+h.host)};p&&m||(p=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},i(b),b},m=function(e){delete w[e]},"process"==u(g)?i=function(e){g.nextTick(x(e))}:y&&y.now?i=function(e){y.now(x(e))}:v&&!f?(r=new v,a=r.port2,r.port1.onmessage=k,i=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(E)||"file:"===h.protocol?i=T in d("script")?function(e){l.appendChild(d("script"))[T]=function(){l.removeChild(this),S(e)}}:function(e){setTimeout(x(e),0)}:(i=E,o.addEventListener("message",k,!1))),e.exports={set:p,clear:m}},"2d00":function(e,t,n){var i,r,a=n("da84"),o=n("342f"),s=a.process,u=s&&s.versions,c=u&&u.v8;c?(i=c.split("."),r=i[0]+i[1]):o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=i[1]))),e.exports=r&&+r},"2e9f":function(e,t){var n=function(e){var t,n,i=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,i.byteLength=0,t=0;t<e.length;t++)n=e[t],"access_unit_delimiter_rbsp"===n.nalUnitType?(i.length&&(i.duration=n.dts-i.dts,r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i)),i=[n],i.byteLength=n.data.byteLength,i.pts=n.pts,i.dts=n.dts):("slice_layer_without_partitioning_rbsp_idr"===n.nalUnitType&&(i.keyFrame=!0),i.duration=n.dts-i.dts,i.byteLength+=n.data.byteLength,i.push(n));return r.length&&(!i.duration||i.duration<=0)&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.length,r.duration+=i.duration,r.push(i),r},i=function(e){var t,n,i=[],r=[];for(i.byteLength=0,i.nalCount=0,i.duration=0,i.pts=e[0].pts,i.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)n=e[t],n.keyFrame?(i.length&&(r.push(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration),i=[n],i.nalCount=n.length,i.byteLength=n.byteLength,i.pts=n.pts,i.dts=n.dts,i.duration=n.duration):(i.duration+=n.duration,i.nalCount+=n.length,i.byteLength+=n.byteLength,i.push(n));return r.length&&i.duration<=0&&(i.duration=r[r.length-1].duration),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.duration+=i.duration,r.push(i),r},r=function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},a=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},o=function(e,t){var n=a();return n.dataOffset=t,n.compositionTimeOffset=e.pts-e.dts,n.duration=e.duration,n.size=4*e.length,n.size+=e.byteLength,e.keyFrame&&(n.flags.dependsOn=2,n.flags.isNonSyncSample=0),n},s=function(e,t){var n,i,r,a,s,u=t||0,c=[];for(n=0;n<e.length;n++)for(a=e[n],i=0;i<a.length;i++)s=a[i],r=o(s,u),u+=r.size,c.push(r);return c},u=function(e){var t,n,i,r,a,o,s=0,u=e.byteLength,c=e.nalCount,l=u+4*c,d=new Uint8Array(l),f=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],n=0;n<r.length;n++)for(a=r[n],i=0;i<a.length;i++)o=a[i],f.setUint32(s,o.data.byteLength),s+=4,d.set(o.data,s),s+=o.data.byteLength;return d},c=function(e,t){var n,i=t||0,r=[];return n=o(e,i),r.push(n),r},l=function(e){var t,n,i=0,r=e.byteLength,a=e.length,o=r+4*a,s=new Uint8Array(o),u=new DataView(s.buffer);for(t=0;t<e.length;t++)n=e[t],u.setUint32(i,n.data.byteLength),i+=4,s.set(n.data,i),i+=n.data.byteLength;return s};e.exports={groupNalsIntoFrames:n,groupFramesIntoGops:i,extendFirstKeyFrame:r,generateSampleTable:s,concatenateNalData:u,generateSampleTableForFrame:c,concatenateNalDataForFrame:l}},"300a":function(e,t,n){"use strict";var i,r,a,o,s=n("4329"),u=n("194a"),c=n("2e9f"),l=n("13a3"),d=n("ed93"),f=n("0ea2"),h=n("36c6"),p=n("4fcf"),m=n("631a").H264Stream,g=n("9d56"),v=n("fbd0").isLikelyAacData,y=n("36c6").ONE_SECOND_IN_TS,b=n("b5de"),w=n("fea5"),T=function(e,t){var n;if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},S=function(e,t,n,i,r,a){var o=n-t,s=i-t,u=r-n;return{start:{dts:e,pts:e+o},end:{dts:e+s,pts:e+u},prependedContentDuration:a,baseMediaDecodeTime:e}};r=function(e,t){var n=[],i=0,a=0,o=0,s=1/0;t=t||{},r.prototype.init.call(this),this.push=function(t){d.collectDtsInfo(e,t),e&&b.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(e){a=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){o=e},this.flush=function(){var r,c,f,h,p;0!==n.length?(r=l.trimAdtsFramesByEarliestDts(n,e,a),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),l.prefixWithSilence(e,r,o,s),e.samples=l.generateSampleTable(r),f=u.mdat(l.concatenateFrameData(r)),n=[],c=u.moof(i,[e]),h=new Uint8Array(c.byteLength+f.byteLength),i++,h.set(c),h.set(f,c.byteLength),d.clearDtsInfo(e),p=Math.ceil(1024*y/e.samplerate),r.length&&this.trigger("timingInfo",{start:r[0].pts,end:r[0].pts+r.length*p}),this.trigger("data",{track:e,boxes:h}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){d.clearDtsInfo(e),n=[],this.trigger("reset")}},r.prototype=new s,i=function(e,t){var n,r,a=0,o=[],s=[];t=t||{},i.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){d.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],w.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),o.push(t)},this.flush=function(){var n,i,r,l,f,h,p,m,g=0;while(o.length){if("access_unit_delimiter_rbsp"===o[0].nalUnitType)break;o.shift()}if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=c.groupNalsIntoFrames(o),r=c.groupFramesIntoGops(n),r[0][0].keyFrame||(i=this.getGopForFusion_(o[0],e),i?(g=i.duration,r.unshift(i),r.byteLength+=i.byteLength,r.nalCount+=i.nalCount,r.pts=i.pts,r.dts=i.dts,r.duration+=i.duration):r=c.extendFirstKeyFrame(r)),s.length){var v;if(v=t.alignGopsAtEnd?this.alignGopsAtEnd_(r):this.alignGopsAtStart_(r),!v)return this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");d.clearDtsInfo(e),r=v}d.collectDtsInfo(e,r),e.samples=c.generateSampleTable(r),f=u.mdat(c.concatenateNalData(r)),e.baseMediaDecodeTime=d.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",r.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),p=r[0],m=r[r.length-1],this.trigger("segmentTimingInfo",S(e.baseMediaDecodeTime,p.dts,p.pts,m.dts+m.duration,m.pts+m.duration,g)),this.trigger("timingInfo",{start:r[0].pts,end:r[r.length-1].pts+r[r.length-1].duration}),this.gopCache_.unshift({gop:r.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=u.moof(a,[e]),h=new Uint8Array(l.byteLength+f.byteLength),a++,h.set(l),h.set(f,l.byteLength),this.trigger("data",{track:e,boxes:h}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){d.clearDtsInfo(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var n,i,r,a,o,s=45e3,u=1e4,c=1/0;for(o=0;o<this.gopCache_.length;o++)a=this.gopCache_[o],r=a.gop,e.pps&&T(e.pps[0],a.pps[0])&&e.sps&&T(e.sps[0],a.sps[0])&&(r.dts<e.timelineStartInfo.dts||(n=t.dts-r.dts-r.duration,n>=-u&&n<=s&&(!i||c>n)&&(i=a,c=n)));return i?i.gop:null},this.alignGopsAtStart_=function(e){var t,n,i,r,a,o,u,c;a=e.byteLength,o=e.nalCount,u=e.duration,t=n=0;while(t<s.length&&n<e.length){if(i=s[t],r=e[n],i.pts===r.pts)break;r.pts>i.pts?t++:(n++,a-=r.byteLength,o-=r.nalCount,u-=r.duration)}return 0===n?e:n===e.length?null:(c=e.slice(n),c.byteLength=a,c.duration=u,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,n,i,r,a,o,u;t=s.length-1,n=e.length-1,a=null,o=!1;while(t>=0&&n>=0){if(i=s[t],r=e[n],i.pts===r.pts){o=!0;break}i.pts>r.pts?t--:(t===s.length-1&&(a=n),n--)}if(!o&&null===a)return null;if(u=o?n:a,0===u)return e;var c=e.slice(u),l=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=l.byteLength,c.duration=l.duration,c.nalCount=l.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}},i.prototype=new s,o=function(e,t){this.numberOfTracks=0,this.metadataStream=t,e=e||{},"undefined"!==typeof e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"===typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,o.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},o.prototype=new s,o.prototype.flush=function(e){var t,n,i,r,a=0,o={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,w.forEach((function(e){o.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,b.forEach((function(e){o.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,i=u.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(i.byteLength),o.initSegment.set(i),o.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)o.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)t=this.pendingCaptions[r],t.startTime=h.metadataTsToSeconds(t.startPts,s,this.keepOriginalTimestamps),t.endTime=h.metadataTsToSeconds(t.endPts,s,this.keepOriginalTimestamps),o.captionStreams[t.stream]=!0,o.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)n=this.pendingMetadata[r],n.cueTime=h.metadataTsToSeconds(n.pts,s,this.keepOriginalTimestamps),o.metadata.push(n);for(o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),r=0;r<o.captions.length;r++)t=o.captions[r],this.trigger("caption",t);for(r=0;r<o.metadata.length;r++)n=o.metadata[r],this.trigger("id3Frame",n)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},o.prototype.setRemux=function(e){this.remuxTracks=e},a=function(e){var t,n,s=this,u=!0;a.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var i={};this.transmuxPipeline_=i,i.type="aac",i.metadataStream=new f.MetadataStream,i.aacStream=new g,i.audioTimestampRolloverStream=new f.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new f.TimestampRolloverStream("timed-metadata"),i.adtsStream=new p,i.coalesceStream=new o(e,i.metadataStream),i.headOfPipeline=i.aacStream,i.aacStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.aacStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.metadataStream.on("timestamp",(function(e){i.aacStream.setTimestamp(e.timeStamp)})),i.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||i.audioSegmentStream||(n=n||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new r(n,e),i.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream),s.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t}))})),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var a={};this.transmuxPipeline_=a,a.type="ts",a.metadataStream=new f.MetadataStream,a.packetStream=new f.TransportPacketStream,a.parseStream=new f.TransportParseStream,a.elementaryStream=new f.ElementaryStream,a.timestampRolloverStream=new f.TimestampRolloverStream,a.adtsStream=new p,a.h264Stream=new m,a.captionStream=new f.CaptionStream,a.coalesceStream=new o(e,a.metadataStream),a.headOfPipeline=a.packetStream,a.packetStream.pipe(a.parseStream).pipe(a.elementaryStream).pipe(a.timestampRolloverStream),a.timestampRolloverStream.pipe(a.h264Stream),a.timestampRolloverStream.pipe(a.adtsStream),a.timestampRolloverStream.pipe(a.metadataStream).pipe(a.coalesceStream),a.h264Stream.pipe(a.captionStream).pipe(a.coalesceStream),a.elementaryStream.on("data",(function(o){var u;if("metadata"===o.type){u=o.tracks.length;while(u--)t||"video"!==o.tracks[u].type?n||"audio"!==o.tracks[u].type||(n=o.tracks[u],n.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(t=o.tracks[u],t.timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime);t&&!a.videoSegmentStream&&(a.coalesceStream.numberOfTracks++,a.videoSegmentStream=new i(t,e),a.videoSegmentStream.on("timelineStartInfo",(function(t){n&&!e.keepOriginalTimestamps&&(n.timelineStartInfo=t,a.audioSegmentStream.setEarliestDts(t.dts-s.baseMediaDecodeTime))})),a.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),a.videoSegmentStream.on("segmentTimingInfo",s.trigger.bind(s,"videoSegmentTimingInfo")),a.videoSegmentStream.on("baseMediaDecodeTime",(function(e){n&&a.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),a.videoSegmentStream.on("timingInfo",s.trigger.bind(s,"videoTimingInfo")),a.h264Stream.pipe(a.videoSegmentStream).pipe(a.coalesceStream)),n&&!a.audioSegmentStream&&(a.coalesceStream.numberOfTracks++,a.audioSegmentStream=new r(n,e),a.audioSegmentStream.on("timingInfo",s.trigger.bind(s,"audioTimingInfo")),a.adtsStream.pipe(a.audioSegmentStream).pipe(a.coalesceStream)),s.trigger("trackinfo",{hasAudio:!!n,hasVideo:!!t})}})),a.coalesceStream.on("data",this.trigger.bind(this,"data")),a.coalesceStream.on("id3Frame",(function(e){e.dispatchType=a.metadataStream.dispatchType,s.trigger("id3Frame",e)})),a.coalesceStream.on("caption",this.trigger.bind(this,"caption")),a.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(i){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=i),n&&(n.timelineStartInfo.dts=void 0,n.timelineStartInfo.pts=void 0,d.clearDtsInfo(n),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,d.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){n&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var n=this.transmuxPipeline_;e.remux=t,n&&n.coalesceStream&&n.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(u){var t=v(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),u=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){u=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},a.prototype=new s,e.exports={Transmuxer:a,VideoSegmentStream:i,AudioSegmentStream:r,AUDIO_PROPERTIES:b,VIDEO_PROPERTIES:w,generateVideoSegmentTimingInfo:S}},3240:function(e,t,n){"use strict";var i;i=function(e){var t=e.byteLength,n=0,i=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+i},this.loadWord=function(){var r=e.byteLength-t,a=new Uint8Array(4),o=Math.min(4,t);if(0===o)throw new Error("no bytes available");a.set(e.subarray(r,r+o)),n=new DataView(a.buffer).getUint32(0),i=8*o,t-=o},this.skipBits=function(e){var r;i>e?(n<<=e,i-=e):(e-=i,r=Math.floor(e/8),e-=8*r,t-=r,this.loadWord(),n<<=e,i-=e)},this.readBits=function(e){var r=Math.min(i,e),a=n>>>32-r;return i-=r,i>0?n<<=r:t>0&&this.loadWord(),r=e-r,r>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var e;for(e=0;e<i;++e)if(0!==(n&2147483648>>>e))return n<<=e,i-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=i},"342f":function(e,t,n){var i=n("d066");e.exports=i("navigator","userAgent")||""},"35a1":function(e,t,n){var i=n("f5df"),r=n("3f8c"),a=n("b622"),o=a("iterator");e.exports=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[i(e)]}},"36c6":function(e,t){var n,i,r,a,o,s,u,c=9e4;n=function(e){return e*c},i=function(e,t){return e*t},r=function(e){return e/c},a=function(e,t){return e/t},o=function(e,t){return n(a(e,t))},s=function(e,t){return i(r(e),t)},u=function(e,t,n){return r(n?e:e-t)},e.exports={ONE_SECOND_IN_TS:c,secondsToVideoTs:n,secondsToAudioTs:i,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:o,videoTsToAudioTs:s,metadataTsToSeconds:u}},"37e8":function(e,t,n){var i=n("83ab"),r=n("9bf2"),a=n("825a"),o=n("df75");e.exports=i?Object.defineProperties:function(e,t){a(e);var n,i=o(t),s=i.length,u=0;while(s>u)r.f(e,n=i[u++],t[n]);return e}},3982:function(e,t,n){e.exports={Adts:n("4fcf"),h264:n("631a")}},"3bbe":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},"3ca3":function(e,t,n){"use strict";var i=n("6547").charAt,r=n("69f3"),a=n("7dd0"),o="String Iterator",s=r.set,u=r.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},"3f8c":function(e,t){e.exports={}},"423e":function(e,t,n){"use strict";var i=n("ae75"),r=function(e){var t=31&e[1];return t<<=8,t|=e[2],t},a=function(e){return!!(64&e[1])},o=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},s=function(e,t){var n=r(e);return 0===n?"pat":n===t?"pmt":t?"pes":null},u=function(e){var t=a(e),n=4+o(e);return t&&(n+=e[n]+1),(31&e[n+10])<<8|e[n+11]},c=function(e){var t={},n=a(e),i=4+o(e);if(n&&(i+=e[i]+1),1&e[i+5]){var r,s,u;r=(15&e[i+1])<<8|e[i+2],s=3+r-4,u=(15&e[i+10])<<8|e[i+11];var c=12+u;while(c<s){var l=i+c;t[(31&e[l+1])<<8|e[l+2]]=e[l],c+=5+((15&e[l+3])<<8|e[l+4])}return t}},l=function(e,t){var n=r(e),a=t[n];switch(a){case i.H264_STREAM_TYPE:return"video";case i.ADTS_STREAM_TYPE:return"audio";case i.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},d=function(e){var t=a(e);if(!t)return null;var n=4+o(e);if(n>=e.byteLength)return null;var i,r=null;return i=e[n+7],192&i&&(r={},r.pts=(14&e[n+9])<<27|(255&e[n+10])<<20|(254&e[n+11])<<12|(255&e[n+12])<<5|(254&e[n+13])>>>3,r.pts*=4,r.pts+=(6&e[n+13])>>>1,r.dts=r.pts,64&i&&(r.dts=(14&e[n+14])<<27|(255&e[n+15])<<20|(254&e[n+16])<<12|(255&e[n+17])<<5|(254&e[n+18])>>>3,r.dts*=4,r.dts+=(6&e[n+18])>>>1)),r},f=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},h=function(e){for(var t,n=4+o(e),i=e.subarray(n),r=0,a=0,s=!1;a<i.byteLength-3;a++)if(1===i[a+2]){r=a+5;break}while(r<i.byteLength)switch(i[r]){case 0:if(0!==i[r-1]){r+=2;break}if(0!==i[r-2]){r++;break}a+3!==r-2&&(t=f(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0));do{r++}while(1!==i[r]&&r<i.length);a=r-2,r+=3;break;case 1:if(0!==i[r-1]||0!==i[r-2]){r+=3;break}t=f(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0),a=r-2,r+=3;break;default:r+=3;break}return i=i.subarray(a),r-=a,a=0,i&&i.byteLength>3&&(t=f(31&i[a+3]),"slice_layer_without_partitioning_rbsp_idr"===t&&(s=!0)),s};e.exports={parseType:s,parsePat:u,parsePmt:c,parsePayloadUnitStartIndicator:a,parsePesType:l,parsePesTime:d,videoPacketContainsKeyFrame:h}},"428f":function(e,t,n){var i=n("da84");e.exports=i},4329:function(e,t,n){"use strict";var i=function(){this.init=function(){var e={};this.on=function(t,n){e[t]||(e[t]=[]),e[t]=e[t].concat(n)},this.off=function(t,n){var i;return!!e[t]&&(i=e[t].indexOf(n),e[t]=e[t].slice(),e[t].splice(i,1),i>-1)},this.trigger=function(t){var n,i,r,a;if(n=e[t],n)if(2===arguments.length)for(r=n.length,i=0;i<r;++i)n[i].call(this,arguments[1]);else{for(a=[],i=arguments.length,i=1;i<arguments.length;++i)a.push(arguments[i]);for(r=n.length,i=0;i<r;++i)n[i].apply(this,a)}},this.dispose=function(){e={}}}};i.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},i.prototype.push=function(e){this.trigger("data",e)},i.prototype.flush=function(e){this.trigger("done",e)},i.prototype.partialFlush=function(e){this.trigger("partialdone",e)},i.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},i.prototype.reset=function(e){this.trigger("reset",e)},e.exports=i},"446e":function(e,t,n){(function(e){
/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
(function(){var n="undefined"!=typeof window?window:e,i={};for(var r in function(e,t,n){var i;function a(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};function s(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof e&&e,"object"==typeof self&&self,"object"==typeof t&&t];for(var i=0;i<n.length;++i){var r=n[i];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var u=s(this);function c(e,t){if(t)e:{for(var n=u,i=e.split("."),r=0;r<i.length-1;r++){var a=i[r];if(!(a in n))break e;n=n[a]}i=i[i.length-1],r=n[i],a=t(r),a!=r&&null!=a&&o(n,i,{configurable:!0,writable:!0,value:a})}}function l(e){return e={next:e},e[Symbol.iterator]=function(){return this},e}function d(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:a(e)}}function f(e){if(!(e instanceof Array)){e=d(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}c("Symbol",(function(e){function t(e){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(e||"")+"_"+i++,e)}function n(e,t){this.a=e,o(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;n.prototype.toString=function(){return this.a};var i=0;return t})),c("Symbol.iterator",(function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var t="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<t.length;n++){var i=u[t[n]];"function"===typeof i&&"function"!=typeof i.prototype[e]&&o(i.prototype,e,{configurable:!0,writable:!0,value:function(){return l(a(this))}})}return e}));var h,p="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)h=Object.setPrototypeOf;else{var m;e:{var g={Xd:!0},v={};try{v.__proto__=g,m=v.Xd;break e}catch(Fg){}m=!1}h=m?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var y=h;function b(e,t){if(e.prototype=p(t.prototype),e.prototype.constructor=e,y)y(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.Mf=t.prototype}function w(){this.j=!1,this.g=null,this.b=void 0,this.a=1,this.f=this.h=0,this.v=this.c=null}function T(e){if(e.j)throw new TypeError("Generator is already running");e.j=!0}function S(e,t){e.c={wd:t,Cd:!0},e.a=e.h||e.f}function x(e,t,n){return e.a=n,{value:t}}function k(e){e.a=0}function E(e,t,n){e.h=t,void 0!=n&&(e.f=n)}function A(e){e.h=0,e.f=2}function _(e,t){e.a=t,e.h=0}function C(e){e.h=0;var t=e.c.wd;return e.c=null,t}function I(e){e.v=[e.c],e.h=0,e.f=0}function M(e,t){var n=e.v.splice(0)[0];(n=e.c=e.c||n)?n.Cd?e.a=e.h||e.f:void 0!=n.u&&e.f<n.u?(e.a=n.u,e.c=null):e.a=e.f:e.a=t}function P(e){this.a=new w,this.b=e}function D(e,t){T(e.a);var n=e.a.g;return n?O(e,"return"in n?n["return"]:function(e){return{value:e,done:!0}},t,e.a["return"]):(e.a["return"](t),R(e))}function O(e,t,n,i){try{var r=t.call(e.a.g,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.a.j=!1,r;var a=r.value}catch(o){return e.a.g=null,S(e.a,o),R(e)}return e.a.g=null,i.call(e.a,a),R(e)}function R(e){for(;e.a.a;)try{var t=e.b(e.a);if(t)return e.a.j=!1,{value:t.value,done:!1}}catch(n){e.a.b=void 0,S(e.a,n)}if(e.a.j=!1,e.a.c){if(t=e.a.c,e.a.c=null,t.Cd)throw t.wd;return{value:t["return"],done:!0}}return{value:void 0,done:!0}}function N(e){this.next=function(t){return T(e.a),e.a.g?t=O(e,e.a.g.next,t,e.a.m):(e.a.m(t),t=R(e)),t},this["throw"]=function(t){return T(e.a),e.a.g?t=O(e,e.a.g["throw"],t,e.a.m):(S(e.a,t),t=R(e)),t},this["return"]=function(t){return D(e,t)},this[Symbol.iterator]=function(){return this}}function L(e,t){var n=new N(new P(t));return y&&e.prototype&&y(n,e.prototype),n}function U(e){function t(t){return e.next(t)}function n(t){return e["throw"](t)}return new Promise((function(i,r){function a(e){e.done?i(e.value):Promise.resolve(e.value).then(t,n).then(a,r)}a(e.next())}))}function j(e){return U(new N(new P(e)))}function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t,n){e instanceof String&&(e=String(e));for(var i=e.length,r=0;r<i;r++){var a=e[r];if(t.call(n,a,r,e))return{Y:r,Ud:a}}return{Y:-1,Ud:void 0}}function V(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}function H(e,t,n){if(null==e)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(t instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return e+""}w.prototype.m=function(e){this.b=e},w.prototype["return"]=function(e){this.c={return:e},this.a=this.f},w.prototype.u=function(e){this.a=e},c("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[],this.j=!1;var t=this.f();try{e(t.resolve,t.reject)}catch(r){t.reject(r)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var a=u.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.f(i)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.H),reject:e(this.g)}},t.prototype.H=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.J(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.D(e):this.h(e)}},t.prototype.D=function(e){var t=void 0;try{t=e.then}catch(r){return void this.g(r)}"function"==typeof t?this.M(t,e):this.h(e)},t.prototype.g=function(e){this.m(2,e)},t.prototype.h=function(e){this.m(1,e)},t.prototype.m=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,2===this.b&&this.I(),this.v()},t.prototype.I=function(){var e=this;a((function(){if(e.A()){var t=u.console;"undefined"!==typeof t&&t.error(e.c)}}),1)},t.prototype.A=function(){if(this.j)return!1;var e=u.CustomEvent,t=u.Event,n=u.dispatchEvent;return"undefined"===typeof n||("function"===typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"===typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=u.document.createEvent("CustomEvent"),e.initCustomEvent("unhandledrejection",!1,!0,e)),e.promise=this,e.reason=this.c,n(e))},t.prototype.v=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)o.b(this.a[e]);this.a=null}};var o=new n;return t.prototype.J=function(e){var t=this.f();e.cc(t.resolve,t.reject)},t.prototype.M=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){a(n)}}:t}var r,a,o=new t((function(e,t){r=e,a=t}));return this.cc(i(e,r),i(n,a)),o},t.prototype["catch"]=function(e){return this.then(void 0,e)},t.prototype.cc=function(e,t){function n(){switch(i.b){case 1:e(i.c);break;case 2:t(i.c);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?o.b(n):this.a.push(n),this.j=!0},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=d(e),a=r.next();!a.done;a=r.next())i(a.value).cc(t,n)}))},t.all=function(e){var n=d(e),r=n.next();return r.done?i([]):new t((function(e,t){function a(t){return function(n){o[t]=n,s--,0==s&&e(o)}}var o=[],s=0;do{o.push(void 0),s++,i(r.value).cc(a(o.length-1),t),r=n.next()}while(!r.done)}))},t})),c("WeakMap",(function(e){function t(e){if(this.a=(u+=Math.random()+1).toString(),e){e=d(e);for(var t;!(t=e.next()).done;)t=t.value,this.set(t[0],t[1])}}function n(){}function i(e){var t=typeof e;return"object"===t&&null!==e||"function"===t}function r(e){if(!F(e,s)){var t=new n;o(e,s,{value:t})}}function a(e){var t=Object[e];t&&(Object[e]=function(e){return e instanceof n?e:(Object.isExtensible(e)&&r(e),t(e))})}if(function(){if(!e||!Object.seal)return!1;try{var t=Object.seal({}),n=Object.seal({}),i=new e([[t,2],[n,3]]);return 2==i.get(t)&&3==i.get(n)&&(i["delete"](t),i.set(n,4),!i.has(t)&&4==i.get(n))}catch(r){return!1}}())return e;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var u=0;return t.prototype.set=function(e,t){if(!i(e))throw Error("Invalid WeakMap key");if(r(e),!F(e,s))throw Error("WeakMap key fail: "+e);return e[s][this.a]=t,this},t.prototype.get=function(e){return i(e)&&F(e,s)?e[s][this.a]:void 0},t.prototype.has=function(e){return i(e)&&F(e,s)&&F(e[s],this.a)},t.prototype["delete"]=function(e){return!!(i(e)&&F(e,s)&&F(e[s],this.a))&&delete e[s][this.a]},t})),c("Map",(function(e){function t(){var e={};return e.Fa=e.next=e.head=e}function n(e,t){var n=e.a;return l((function(){if(n){for(;n.head!=e.a;)n=n.Fa;for(;n.next!=n.head;)return n=n.next,{done:!1,value:t(n)};n=null}return{done:!0,value:void 0}}))}function i(e,t){var n=t&&typeof t;"object"==n||"function"==n?a.has(t)?n=a.get(t):(n=""+ ++o,a.set(t,n)):n="p_"+t;var i=e.b[n];if(i&&F(e.b,n))for(var r=0;r<i.length;r++){var s=i[r];if(t!==t&&s.key!==s.key||t===s.key)return{id:n,list:i,index:r,X:s}}return{id:n,list:i,index:-1,X:void 0}}function r(e){if(this.b={},this.a=t(),this.size=0,e){e=d(e);for(var n;!(n=e.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(d([[t,"s"]]));if("s"!=n.get(t)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var i=n.entries(),r=i.next();return!r.done&&r.value[0]==t&&"s"==r.value[1]&&(r=i.next(),!(r.done||4!=r.value[0].x||"t"!=r.value[1]||!i.next().done))}catch(a){return!1}}())return e;var a=new WeakMap;r.prototype.set=function(e,t){e=0===e?0:e;var n=i(this,e);return n.list||(n.list=this.b[n.id]=[]),n.X?n.X.value=t:(n.X={next:this.a,Fa:this.a.Fa,head:this.a,key:e,value:t},n.list.push(n.X),this.a.Fa.next=n.X,this.a.Fa=n.X,this.size++),this},r.prototype["delete"]=function(e){return e=i(this,e),!(!e.X||!e.list)&&(e.list.splice(e.index,1),e.list.length||delete this.b[e.id],e.X.Fa.next=e.X.next,e.X.next.Fa=e.X.Fa,e.X.head=null,this.size--,!0)},r.prototype.clear=function(){this.b={},this.a=this.a.Fa=t(),this.size=0},r.prototype.has=function(e){return!!i(this,e).X},r.prototype.get=function(e){return(e=i(this,e).X)&&e.value},r.prototype.entries=function(){return n(this,(function(e){return[e.key,e.value]}))},r.prototype.keys=function(){return n(this,(function(e){return e.key}))},r.prototype.values=function(){return n(this,(function(e){return e.value}))},r.prototype.forEach=function(e,t){for(var n,i=this.entries();!(n=i.next()).done;)n=n.value,e.call(t,n[1],n[0],this)},r.prototype[Symbol.iterator]=r.prototype.entries;var o=0;return r})),c("Set",(function(e){function t(e){if(this.a=new Map,e){e=d(e);for(var t;!(t=e.next()).done;)this.add(t.value)}this.size=this.a.size}return function(){if(!e||"function"!=typeof e||!e.prototype.entries||"function"!=typeof Object.seal)return!1;try{var t=Object.seal({x:4}),n=new e(d([t]));if(!n.has(t)||1!=n.size||n.add(t)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var i=n.entries(),r=i.next();return!r.done&&r.value[0]==t&&r.value[1]==t&&(r=i.next(),!r.done&&r.value[0]!=t&&4==r.value[0].x&&r.value[1]==r.value[0]&&i.next().done)}catch(a){return!1}}()?e:(t.prototype.add=function(e){return e=0===e?0:e,this.a.set(e,e),this.size=this.a.size,this},t.prototype["delete"]=function(e){return e=this.a["delete"](e),this.size=this.a.size,e},t.prototype.clear=function(){this.a.clear(),this.size=0},t.prototype.has=function(e){return this.a.has(e)},t.prototype.entries=function(){return this.a.entries()},t.prototype.values=function(){return this.a.values()},t.prototype.keys=t.prototype.values,t.prototype[Symbol.iterator]=t.prototype.values,t.prototype.forEach=function(e,t){var n=this;this.a.forEach((function(i){return e.call(t,i,i,n)}))},t)})),c("Array.prototype.findIndex",(function(e){return e||function(e,t){return B(this,e,t).Y}})),c("Promise.prototype.finally",(function(e){return e||function(e){return this.then((function(t){return Promise.resolve(e()).then((function(){return t}))}),(function(t){return Promise.resolve(e()).then((function(){throw t}))}))}})),c("Array.prototype.keys",(function(e){return e||function(){return V(this,(function(e){return e}))}})),c("Object.is",(function(e){return e||function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}})),c("Array.prototype.includes",(function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length,r=t||0;for(0>r&&(r=Math.max(r+i,0));r<i;r++){var a=n[r];if(a===e||Object.is(a,e))return!0}return!1}})),c("String.prototype.includes",(function(e){return e||function(e,t){return-1!==H(this,e,"includes").indexOf(e,t||0)}})),c("Array.prototype.values",(function(e){return e||function(){return V(this,(function(e,t){return t}))}})),c("Array.from",(function(e){return e||function(e,t,n){t=null!=t?t:function(e){return e};var i=[],r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];if("function"==typeof r){e=r.call(e);for(var a=0;!(r=e.next()).done;)i.push(t.call(n,r.value,a++))}else for(r=e.length,a=0;a<r;a++)i.push(t.call(n,e[a],a));return i}})),c("Array.prototype.find",(function(e){return e||function(e,t){return B(this,e,t).Ud}})),c("Math.log2",(function(e){return e||function(e){return Math.log(e)/Math.LN2}}));var q="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)F(i,r)&&(e[r]=i[r])}return e};c("Object.assign",(function(e){return e||q})),c("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)F(e,t)&&n.push(e[t]);return n}})),c("String.prototype.startsWith",(function(e){return e||function(e,t){for(var n=H(this,e,"startsWith"),i=n.length,r=e.length,a=Math.max(0,Math.min(0|t,n.length)),o=0;o<r&&a<i;)if(n[a++]!=e[o++])return!1;return o>=r}}));var z=this||self;function $(e,t){var n,i=e.split("."),r=z;i[0]in r||"undefined"==typeof r.execScript||r.execScript("var "+i[0]);for(;i.length&&(n=i.shift());)i.length||void 0===t?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=t}
/*
 @license
 Shaka Player
 Copyright 2016 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function G(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function K(e,t,n){var i=Math.pow(e.c,t);n=n*(1-i)+i*e.a,isNaN(n)||(e.a=n,e.b+=t)}function W(e){return e.a/(1-Math.pow(e.c,e.b))}function X(){this.b=new G(2),this.c=new G(5),this.a=0}function Y(){}function J(){}function Q(){}function Z(e,t){for(var n=[],i=1;i<arguments.length;++i)n[i-1]=arguments[i];ne.has(e)||(ne.add(e),Q.apply(Y,f(n)))}function ee(){}function te(){}X.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(W(this.b),W(this.c))};var ne=new Set;if(e.console&&e.console.log.bind){var ie={},re=(ie[1]=console.error.bind(console),ie[2]=console.warn.bind(console),ie[3]=console.info.bind(console),ie[4]=console.log.bind(console),ie[5]=console.debug.bind(console),ie[6]=console.debug.bind(console),ie);Q=re[2],J=re[1]}function ae(e,t){for(var n=[],i=d(e),r=i.next();!r.done;r=i.next())n.push(t(r.value));return n}function oe(e,t){for(var n=d(e),i=n.next();!i.done;i=n.next())if(!t(i.value))return!1;return!0}var se=function e(t){var n;return L(e,(function(e){return 1==e.a&&(n=0),3!=e.a?n<t?x(e,n,3):e.u(0):(n++,e.u(2))}))},ue=function e(t){var n,i,r,a,o,s;return L(e,(function(e){return 1==e.a&&(n=-1,r=i=void 0,a=d(t),o=a.next()),5!=e.a?o.done?-1==n?e.u(0):x(e,{Y:n,Je:i,item:r,next:void 0},0):(s=o.value,0<=n?x(e,{Y:n,item:r,Je:i,next:s},5):e.u(5)):(n++,i=r,r=s,o=a.next(),e.u(2))}))},ce=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;
/*
 @license
 Copyright 2008 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
/*
 @license
 Copyright 2006 The Closure Library Authors
 SPDX-License-Identifier: Apache-2.0
*/
function le(e){var t;e instanceof le?(de(this,e.ta),this.Za=e.Za,this.sa=e.sa,fe(this,e.ob),this.ja=e.ja,he(this,e.a.clone()),this.Pa=e.Pa):e&&(t=String(e).match(ce))?(de(this,t[1]||"",!0),this.Za=pe(t[2]||""),this.sa=pe(t[3]||"",!0),fe(this,t[4]),this.ja=pe(t[5]||"",!0),he(this,t[6]||"",!0),this.Pa=pe(t[7]||"")):this.a=new Se(null)}function de(e,t,n){e.ta=n?pe(t,!0):t,e.ta&&(e.ta=e.ta.replace(/:$/,""))}function fe(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.ob=t}else e.ob=null}function he(e,t,n){t instanceof Se?e.a=t:(n||(t=me(t,we)),e.a=new Se(t))}function pe(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function me(e,t,n){return null!=e?(e=encodeURI(e).replace(t,ge),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ge(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}i=le.prototype,i.ta="",i.Za="",i.sa="",i.ob=null,i.ja="",i.Pa="",i.toString=function(){var e=[],t=this.ta;if(t&&e.push(me(t,ve,!0),":"),t=this.sa){e.push("//");var n=this.Za;n&&e.push(me(n,ve,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.ob,null!=t&&e.push(":",String(t))}return(t=this.ja)&&(this.sa&&"/"!=t.charAt(0)&&e.push("/"),e.push(me(t,"/"==t.charAt(0)?be:ye,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.Pa)&&e.push("#",me(t,Te)),e.join("")},i.resolve=function(e){var t=this.clone();"data"===t.ta&&(t=new le);var n=!!e.ta;n?de(t,e.ta):n=!!e.Za,n?t.Za=e.Za:n=!!e.sa,n?t.sa=e.sa:n=null!=e.ob;var i=e.ja;if(n)fe(t,e.ob);else if(n=!!e.ja){if("/"!=i.charAt(0))if(this.sa&&!this.ja)i="/"+i;else{var r=t.ja.lastIndexOf("/");-1!=r&&(i=t.ja.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}i=a.join("/")}}return n?t.ja=i:n=""!==e.a.toString(),n?he(t,e.a.clone()):n=!!e.Pa,n&&(t.Pa=e.Pa),t},i.clone=function(){return new le(this)};var ve=/[#\/\?@]/g,ye=/[#\?:]/g,be=/[#\?]/g,we=/[#\?@]/g,Te=/#/g;function Se(e){this.a=e||null}function xe(e,t,n,i){for(var r=[],a=3;a<arguments.length;++a)r[a-3]=arguments[a];this.severity=e,this.category=t,this.code=n,this.data=r,this.handled=!1}function ke(e){this.b=e,this.a=null}function Ee(e){this.b=e,this.a=null}function Ae(e,t){var n=Ce();this.j=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=void 0!==t&&t)&&(this.a=1)}function _e(e){var t,n;return j((function(i){if(1==i.a){if(e.a>=e.j){if(!e.c)throw new xe(2,7,1010);e.a=1,e.b=e.f}return t=e.a,e.a++,0==t?i["return"]():(n=e.b*(1+(2*Math.random()-1)*e.h),x(i,new Promise((function(e){new Ee(e).R(n/1e3)})),2))}e.b*=e.g,k(i)}))}function Ce(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function Ie(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function Me(e,t){this.promise=e,this.c=t,this.a=!1}function Pe(e){return new Me(Promise.reject(e),(function(){return Promise.resolve()}))}function De(){var e=Promise.reject(new xe(2,7,7001));return e["catch"]((function(){})),new Me(e,(function(){return Promise.resolve()}))}function Oe(e){return new Me(Promise.resolve(e),(function(){return Promise.resolve()}))}function Re(e){return new Me(e,(function(){return e["catch"]((function(){}))}))}function Ne(e){return new Me(Promise.all(e.map((function(e){return e.promise}))),(function(){return Promise.all(e.map((function(e){return e.abort()})))}))}function Le(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then((function(){}),(function(){}))})}catch(r){return n.reject(r),function(){return Promise.resolve()}}}function Ue(){}function je(e,t){if(!e&&!t)return!0;if(!e||!t||e.byteLength!=t.byteLength)return!1;if(Fe(e)==Fe(t)&&(e.byteOffset||0)==(t.byteOffset||0))return!0;for(var n=Ve(e),i=Ve(t),r=d(se(e.byteLength)),a=r.next();!a.done;a=r.next())if(a=a.value,n[a]!=i[a])return!1;return!0}function Fe(e){return e instanceof ArrayBuffer?e:e.buffer}function Be(e){return e instanceof ArrayBuffer?e:0==e.byteOffset&&e.byteLength==e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer}function Ve(e,t,n){return n=void 0===n?1/0:n,qe(e,void 0===t?0:t,n,Uint8Array)}function He(e,t,n){return n=void 0===n?1/0:n,qe(e,void 0===t?0:t,n,DataView)}function qe(e,t,n,i){var r=(e.byteOffset||0)+e.byteLength;return t=Math.max(0,Math.min((e.byteOffset||0)+t,r)),new i(Fe(e),t,Math.min(t+Math.max(n,0),r)-t)}function ze(t,n){for(var i in n=void 0===n?{}:n,n)Object.defineProperty(this,i,{value:n[i],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function $e(){this.a={}}function Ge(e,t){for(var n in e.a)t(n,e.a[n])}function Ke(){this.Hc=new $e,this.Yb=this}function We(e){function t(e){switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return e;default:if(!e||e.buffer&&e.buffer.constructor==ArrayBuffer)return e;if(n.has(e))return null;var i=e.constructor==Array;if(e.constructor!=Object&&!i)return null;n.add(e);var r,a=i?[]:{};for(r in e)a[r]=t(e[r]);return i&&(a.length=e.length),a}}var n=new Set;return t(e)}function Xe(e){var t,n={};for(t in e)n[t]=e[t];return n}function Ye(e,t){return!("number"!==typeof e||"number"!==typeof t||!isNaN(e)||!isNaN(t))||e===t}function Je(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function Qe(e,t,n){if(n||(n=Ye),e.length!=t.length)return!1;t=t.slice();var i={};e=d(e);for(var r=e.next();!r.done;i={wc:i.wc},r=e.next()){if(i.wc=r.value,r=t.findIndex(function(e){return function(t){return n(e.wc,t)}}(i)),-1==r)return!1;t[r]=t[t.length-1],t.pop()}return 0==t.length}function Ze(e,t,n){if(n||(n=Ye),e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1;return!0}function et(){this.a=[]}function tt(e,t){e.a.push(t["finally"]((function(){Je(e.a,t)})))}function nt(e){Ke.call(this),this.f=!1,this.g=new et,this.a=new Set,this.b=new Set,this.c=e||null}function it(e,t,n){n=n||dt;var i=ft[e];(!i||n>=i.priority)&&(ft[e]={priority:n,Ie:t})}function rt(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t,licenseRequestType:null,sessionId:null}}function at(e,t,n){var i=Oe(void 0),r={};e=d(e.a);for(var a=e.next();!a.done;r={zc:r.zc},a=e.next())r.zc=a.value,i=i.U(function(e){return function(){return n.body&&(n.body=Be(n.body)),e.zc(t,n)}}(r));return i.U(void 0,(function(e){if(e instanceof xe&&7001==e.code)throw e;throw new xe(2,1,1006,e)}))}function ot(e,t,n,i,r,a,o){var s=new le(n.uris[r]),u=s.ta,c=!1;u||(u=location.protocol,u=u.slice(0,-1),de(s,u),n.uris[r]=s.toString()),u=u.toLowerCase();var l,d=(u=ft[u])?u.Ie:null;return d?Re(_e(i)).U((function(){return e.f?De():(l=Date.now(),d(n.uris[r],n,t,(function(n,i,r){e.c&&t==lt&&(e.c(n,i),c=!0,o.a=r)})))})).U((function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-l),{response:e,Be:c}}),(function(s){if(e.f)return De();if(s instanceof xe){if(7001==s.code)throw s;if(1010==s.code)throw a;if(1==s.severity){var u=new ze("retry",{error:s});return e.dispatchEvent(u),r=(r+1)%n.uris.length,ot(e,t,n,i,r,s,o)}}throw s})):Pe(new xe(2,1,1e3,s))}function st(e,t,n){var i=Oe(void 0),r={};e=d(e.b);for(var a=e.next();!a.done;r={Ac:r.Ac},a=e.next())r.Ac=a.value,i=i.U(function(e){return function(){var i=n.response;return i.data&&(i.data=Be(i.data)),e.Ac(t,i)}}(r));return i.U((function(){return n}),(function(e){var t=2;if(e instanceof xe){if(7001==e.code)throw e;t=e.severity}throw new xe(t,1,1007,e)}))}function ut(){this.a=0}function ct(e,t,n){Me.call(this,e,t),this.b=n}i=Se.prototype,i.ga=null,i.ec=null,i.add=function(e,t){if(!this.ga&&(this.ga={},this.ec=0,this.a))for(var n=this.a.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),a=null;if(0<=r){var o=n[i].substring(0,r);a=n[i].substring(r+1)}else o=n[i];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.a=null,(n=this.ga.hasOwnProperty(e)&&this.ga[e])||(this.ga[e]=n=[]),n.push(t),this.ec++,this},i.toString=function(){if(this.a)return this.a;if(!this.ga)return"";var e,t=[];for(e in this.ga)for(var n=encodeURIComponent(e),i=this.ga[e],r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),t.push(a)}return this.a=t.join("&")},i.clone=function(){var e=new Se;if(e.a=this.a,this.ga){var t,n={};for(t in this.ga)n[t]=this.ga[t].concat();e.ga=n,e.ec=this.ec}return e},xe.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},$("shaka.util.Error",xe),xe.Severity={RECOVERABLE:1,CRITICAL:2},xe.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},xe.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,HLS_AES_128_ENCRYPTION_NOT_SUPPORTED:4034,HLS_INTERNAL_SKIP_STREAM:4035,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004},ke.prototype.R=function(t){var n=this;this.stop();var i=!0,r=null;return this.a=function(){e.clearTimeout(r),i=!1},r=e.setTimeout((function(){i&&n.b()}),1e3*t),this},ke.prototype.stop=function(){this.a&&(this.a(),this.a=null)},Ee.prototype.Qb=function(){return this.stop(),this.b(),this},Ee.prototype.R=function(e){var t=this;return this.stop(),this.a=new ke((function(){t.b()})).R(e),this},Ee.prototype.pa=function(e){var t=this;return this.stop(),this.a=new ke((function(){t.a.R(e),t.b()})).R(e),this},Ee.prototype.stop=function(){this.a&&(this.a.stop(),this.a=null)},$("shaka.util.Timer",Ee),Ee.prototype.stop=Ee.prototype.stop,Ee.prototype.tickEvery=Ee.prototype.pa,Ee.prototype.tickAfter=Ee.prototype.R,Ee.prototype.tickNow=Ee.prototype.Qb,Ie.prototype.resolve=function(){},Ie.prototype.reject=function(){},Me.prototype.abort=function(){return this.a=!0,this.c()},Me.prototype["finally"]=function(e){return this.promise.then((function(){return e(!0)}),(function(){return e(!1)})),this},Me.prototype.U=function(e,t){function n(n){return function(s){if(r.a&&n)a.reject(o);else{var u=n?e:t;u?i=Le(u,s,a):(n?a.resolve:a.reject)(s)}}}function i(){return a.reject(o),r.abort()}var r=this,a=new Ie,o=new xe(2,7,7001);return this.promise.then(n(!0),n(!1)),new Me(a,(function(){return i()}))},$("shaka.util.AbortableOperation",Me),Me.prototype.chain=Me.prototype.U,Me.prototype["finally"]=Me.prototype["finally"],Me.all=Ne,Me.prototype.abort=Me.prototype.abort,Me.notAbortable=Re,Me.completed=Oe,Me.aborted=De,Me.failed=Pe,$("shaka.util.BufferUtils",Ue),Ue.toDataView=He,Ue.toUint8=Ve,Ue.toArrayBuffer=Be,Ue.equal=je,ze.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ze.prototype.stopImmediatePropagation=function(){this.a=!0},ze.prototype.stopPropagation=function(){},$("shaka.util.FakeEvent",ze),$e.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},$e.prototype.get=function(e){return(e=this.a[e])?e.slice():null},$e.prototype.remove=function(e,t){e in this.a&&(this.a[e]=this.a[e].filter((function(e){return e!=t})))},Ke.prototype.addEventListener=function(e,t){this.Hc.push(e,t)},Ke.prototype.removeEventListener=function(e,t){this.Hc.remove(e,t)},Ke.prototype.dispatchEvent=function(e){var t=this.Hc.get(e.type)||[];t=d(t);for(var n=t.next();!n.done;n=t.next()){n=n.value,e.target=this.Yb,e.currentTarget=this.Yb;try{n.handleEvent?n.handleEvent(e):n.call(this,e)}catch(i){}if(e.a)break}return e.defaultPrevented},et.prototype.destroy=function(){for(var e=[],t=d(this.a),n=t.next();!n.done;n=t.next())n=n.value,n.promise["catch"]((function(){})),e.push(n.abort());return this.a=[],Promise.all(e)},b(nt,Ke),i=nt.prototype,i.Ke=function(e){this.a.add(e)},i.cf=function(e){this.a["delete"](e)},i.ce=function(){this.a.clear()},i.Le=function(e){this.b.add(e)},i.df=function(e){this.b["delete"](e)},i.de=function(){this.b.clear()},i.destroy=function(){return this.f=!0,this.a.clear(),this.b.clear(),this.g.destroy()},i.request=function(e,t){var n=this,i=new ut;if(this.f){var r=Promise.reject(new xe(2,7,7001));return r["catch"]((function(){})),new ct(r,(function(){return Promise.resolve()}),i)}t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?We(t.retryParameters):Ce(),t.uris=We(t.uris),r=at(this,e,t);var a=r.U((function(){return ot(n,e,t,new Ae(t.retryParameters,!1),0,null,i)})),o=a.U((function(t){return st(n,e,t)})),s=Date.now(),u=0;r.promise.then((function(){u=Date.now()-s}),(function(){}));var c=0;a.promise.then((function(){c=Date.now()}),(function(){}));var l=o.U((function(t){var i=Date.now()-c,r=t.response;return r.timeMs+=u,r.timeMs+=i,t.Be||!n.c||r.fromCache||e!=lt||n.c(r.timeMs,r.data.byteLength),r}),(function(e){throw e&&(e.severity=2),e}));return r=new ct(l.promise,(function(){return l.abort()}),i),tt(this.g,r),r},$("shaka.net.NetworkingEngine",nt),nt.prototype.request=nt.prototype.request,nt.prototype.destroy=nt.prototype.destroy,nt.makeRequest=rt,nt.defaultRetryParameters=function(){return Ce()},nt.prototype.clearAllResponseFilters=nt.prototype.de,nt.prototype.unregisterResponseFilter=nt.prototype.df,nt.prototype.registerResponseFilter=nt.prototype.Le,nt.prototype.clearAllRequestFilters=nt.prototype.ce,nt.prototype.unregisterRequestFilter=nt.prototype.cf,nt.prototype.registerRequestFilter=nt.prototype.Ke,nt.unregisterScheme=function(e){delete ft[e]},nt.registerScheme=it,nt.NumBytesRemainingClass=ut,b(ct,Me),nt.PendingRequest=ct;var lt=1;nt.RequestType={MANIFEST:0,SEGMENT:lt,LICENSE:2,APP:3,TIMING:4};var dt=3;nt.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:dt};var ft={};function ht(e){this.a=!1,this.b=new Ie,this.c=e}function pt(e,t){if(e.a){if(t instanceof xe&&7003==t.code)throw t;throw new xe(2,7,7003,t)}}function mt(){this.a=new $e}function gt(e,t,n,i){this.target=e,this.type=t,this.listener=n,this.a=vt(e,i),this.target.addEventListener(t,n,this.a)}function vt(e,t){if(void 0==t)return!1;if("boolean"==typeof t)return t;var n=new Set(["passive","capture"]);return Object.keys(t).filter((function(e){return!n.has(e)})),yt(e)?t:t.capture||!1}function yt(e){var t=bt;if(void 0==t){t=!1;try{var n={},i={get:function(){return t=!0,!1}};Object.defineProperty(n,"passive",i),Object.defineProperty(n,"capture",i),i=function(){},e.addEventListener("test",i,n),e.removeEventListener("test",i,n)}catch(r){t=!1}bt=t}return t||!1}ht.prototype.destroy=function(){var e=this;return this.a?this.b:(this.a=!0,this.c().then((function(){e.b.resolve()}),(function(){e.b.resolve()})))},i=mt.prototype,i.release=function(){this.Xa(),this.a=null},i.l=function(e,t,n,i){this.a&&(e=new gt(e,t,n,i),this.a.push(t,e))},i.ha=function(e,t,n,i){function r(i){a.qa(e,t,r),n(i)}var a=this;this.l(e,t,r,i)},i.qa=function(e,t,n){if(this.a){var i=this.a.get(t)||[];i=d(i);for(var r=i.next();!r.done;r=i.next())r=r.value,r.target!=e||n!=r.listener&&n||(r.qa(),this.a.remove(t,r))}},i.Xa=function(){if(this.a){var e,t=this.a,n=[];for(e in t.a)n.push.apply(n,f(t.a[e]));for(t=d(n),n=t.next();!n.done;n=t.next())n.value.qa();this.a.a={}}},$("shaka.util.EventManager",mt),mt.prototype.removeAll=mt.prototype.Xa,mt.prototype.unlisten=mt.prototype.qa,mt.prototype.listenOnce=mt.prototype.ha,mt.prototype.listen=mt.prototype.l,mt.prototype.release=mt.prototype.release,gt.prototype.qa=function(){this.target.removeEventListener(this.type,this.listener,this.a),this.listener=this.target=null,this.a=!1};var bt=void 0;function wt(e){this.b=e,this.a=void 0}function Tt(){}function St(e){if(!e)return"";e=Ve(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=_t(e),e=escape(e);try{return decodeURIComponent(e)}catch(t){throw new xe(2,2,2004)}}function xt(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new xe(2,2,2004);var i=Math.floor(e.byteLength/2);n=new Uint16Array(i),e=He(e),i=d(se(i));for(var r=i.next();!r.done;r=i.next())r=r.value,n[r]=e.getUint16(2*r,t);return _t(n)}function kt(e){function t(e){return n.byteLength<=e||32<=n[e]&&126>=n[e]}if(!e)return"";var n=Ve(e);if(239==n[0]&&187==n[1]&&191==n[2])return St(n);if(254==n[0]&&255==n[1])return xt(n.subarray(2),!1);if(255==n[0]&&254==n[1])return xt(n.subarray(2),!0);if(0==n[0]&&0==n[2])return xt(e,!1);if(0==n[1]&&0==n[3])return xt(e,!0);if(t(0)&&t(1)&&t(2)&&t(3))return St(e);throw new xe(2,2,2003)}function Et(e){e=encodeURIComponent(e);var t=unescape(e);e=new Uint8Array(t.length),t=d(ue(t));for(var n=t.next();!n.done;n=t.next())n=n.value,e[n.Y]=n.item.charCodeAt(0);return Be(e)}function At(e,t){for(var n=new ArrayBuffer(2*e.length),i=new DataView(n),r=d(ue(e)),a=r.next();!a.done;a=r.next())a=a.value,i.setUint16(2*a.Y,a.item.charCodeAt(0),t);return n}function _t(e){return Ct.value()(e)}wt.prototype.value=function(){return void 0==this.a&&(this.a=this.b()),this.a},$("shaka.util.StringUtils",Tt),Tt.resetFromCharCode=function(){Ct.a=void 0},Tt.toUTF16=At,Tt.toUTF8=Et,Tt.fromBytesAutoDetect=kt,Tt.fromUTF16=xt,Tt.fromUTF8=St;var Ct=new wt((function(){function e(e){try{var t=new Uint8Array(e);return 0<String.fromCharCode.apply(null,t).length}catch(n){return!1}}for(var t={Ia:65536};0<t.Ia;t={Ia:t.Ia},t.Ia/=2)if(e(t.Ia))return function(e){return function(t){for(var n="",i=0;i<t.length;i+=e.Ia)n+=String.fromCharCode.apply(null,t.subarray(i,i+e.Ia));return n}}(t);return null}));function It(){}function Mt(e){return e=kt(e),new le(e).sa}function Pt(e,t,n){function i(e){He(a).setUint32(o,e.byteLength,!0),o+=4,a.set(Ve(e),o),o+=e.byteLength}if(!n||!n.byteLength)throw new xe(2,6,6015);var r;r="string"==typeof t?At(t,!0):t,e=kt(e),e=At(e,!0);var a=new Uint8Array(12+e.byteLength+r.byteLength+n.byteLength),o=0;return i(e),i(r),i(n),a}function Dt(e,t){this.a=e,this.b=t}function Ot(e,t){var n=new Dt(4,0),i=Lt,r=i.a,a=n.b-r.b;(0<(n.a-r.a||a)?i.c:i.b)(i.a,n,e,t)}function Rt(e,t,n,i){Q([n,"has been deprecated and will be removed in",t,". We are currently at version",e,". Additional information:",i].join(" "))}function Nt(e,t,n,i){J([n,"has been deprecated and has been removed in",t,". We are now at version",e,". Additional information:",i].join(""))}$("shaka.util.FairPlayUtils",It),It.initDataTransform=Pt,It.defaultGetContentId=Mt,Dt.prototype.toString=function(){return"v"+this.a+"."+this.b};var Lt=null;function Ut(e,t){return e.concat(t)}function jt(){}function Ft(e){return null!=e}function Bt(e){var t=Object.create(e.prototype||Object.prototype);try{var n=e.call(t);n||(Ot("Factories requiring new","Factories should be plain functions"),n=t)}catch(i){Ot("Factories requiring new","Factories should be plain functions"),n=new e}return n}function Vt(e,t){if(0==t.length)return e;var n=t.map((function(e){return new le(e)}));return e.map((function(e){return new le(e)})).map((function(e){return n.map((function(t){return e.resolve(t)}))})).reduce(Ut,[]).map((function(e){return e.toString()}))}function Ht(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:new Set}}var qt={Ca:"video",eb:"audio",$:"text",qf:"image",gf:"application"};function zt(e){for(var t=new Map,n=d(Object.keys(e)),i=n.next();!i.done;i=n.next())i=i.value,t.set(i,e[i]);return t}function $t(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}function Gt(e,t){if(!e&&!t)return!0;if(e&&!t||t&&!e)return!1;if(e.size!=t.size)return!1;for(var n=d(e),i=n.next();!i.done;i=n.next()){var r=d(i.value);if(i=r.next().value,r=r.next().value,!t.has(i))return!1;if(i=t.get(i),i!=r||void 0==i)return!1}return!0}function Kt(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function Wt(e){var t=[e.mimeType];return Yt.forEach((function(n,i){var r=e[i];r&&t.push(n+'="'+r+'"')})),t.join(";")}function Xt(e){e=e.split(".");var t=e[0];return e.pop(),[t,e.join(".")]}var Yt=(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");function Jt(){return!(!e.MediaSource||!MediaSource.isTypeSupported)}function Qt(e){return""!=rn().canPlayType(e)}function Zt(){return!!navigator.userAgent.match(/Edge?\//)}function en(){return!!navigator.vendor&&navigator.vendor.includes("Apple")&&!nn("Tizen")}function tn(){if(!en())return null;var e=navigator.userAgent.match(/Version\/(\d+)/);return e||(e=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(e[1],10):null}function nn(e){return(navigator.userAgent||"").includes(e)}function rn(){return on||(an||(an=new Ee((function(){on=null}))),(on=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(on=document.createElement("video")),an.R(1),on)}var an=null,on=null;function sn(){}function un(e){return e=_t(Ve(e)),btoa(e)}function cn(e,t){t=void 0==t||t;var n=un(e).replace(/\+/g,"-").replace(/\//g,"_");return t?n:n.replace(/[=]*$/,"")}function ln(t){var n=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));t=new Uint8Array(n.length),n=d(ue(n));for(var i=n.next();!i.done;i=n.next())i=i.value,t[i.Y]=i.item.charCodeAt(0);return t}function dn(t){var n=t.length/2,i=new Uint8Array(n);n=d(se(n));for(var r=n.next();!r.done;r=n.next())r=r.value,i[r]=e.parseInt(t.substr(2*r,2),16);return i}function fn(e){var t=Ve(e);e="",t=d(t);for(var n=t.next();!n.done;n=t.next())n=n.value,n=n.toString(16),1==n.length&&(n="0"+n),e+=n;return e}function hn(e){for(var t=[],n=0;n<arguments.length;++n)t[n]=arguments[n];var i=0,r=d(t);for(n=r.next();!n.done;n=r.next())i+=n.value.byteLength;for(i=new Uint8Array(i),r=0,t=d(t),n=t.next();!n.done;n=t.next())n=n.value,i.set(Ve(n),r),r+=n.byteLength;return i}function pn(e,t){var n=this;t=void 0===t?1:t,this.s=e,this.m=new Set,this.a=this.h=null,this.M=!1,this.H=0,this.c=null,this.b=new mt,this.f=new Map,this.v=[],this.j=new Ie,this.i=null,this.g=function(t){n.j.reject(t),e.onError(t)},this.ca=new Map,this.T=new Map,this.J=new Ee((function(){return Nn(n)})),this.A=!1,this.D=[],this.I=!1,this.W=new Ee((function(){Vn(n)})).pa(t),this.j["catch"]((function(){})),this.F=new ht((function(){return mn(n)}))}function mn(e){return j((function(t){switch(t.a){case 1:return e.b.release(),e.b=null,e.j.reject(),e.W.stop(),e.W=null,e.J.stop(),e.J=null,x(t,jn(e),2);case 2:if(!e.a){t.u(3);break}return E(t,4),x(t,e.a.setMediaKeys(null),6);case 6:_(t,5);break;case 4:C(t);case 5:e.a=null;case 3:e.c=null,e.m.clear(),e.h=null,e.v=[],e.i=null,e.g=function(){},e.s=null,k(t)}}))}function gn(e,t,n){return e.v=[],e.A=n,bn(e,t)}function vn(e,t,n){return e.v=n,e.A=0<n.length,bn(e,t)}function yn(e,t,n,i,r,a){var o=new Map;return r={audioCapabilities:r,videoCapabilities:a,distinctiveIdentifier:"optional",persistentState:"required",sessionTypes:["persistent-license"],label:t},r.drmInfos=[{keySystem:t,licenseServerUri:n,distinctiveIdentifierRequired:!1,persistentStateRequired:!0,audioRobustness:"",videoRobustness:"",serverCertificate:i,initData:null,keyIds:null}],o.set(t,r),_n(e,o)}function bn(e,t){var n=Cn(e);if(n)for(var i=d(t),r=i.next();!r.done;r=i.next())r=r.value,r.video&&(r.video.drmInfos=[n]),r.audio&&(r.audio.drmInfos=[n]);for(n=t.some((function(e){return!!(e.video&&e.video.drmInfos.length||e.audio&&e.audio.drmInfos.length)})),n||(i=zt(e.i.servers),qn(t,i)),i=d(t),r=i.next();!r.done;r=i.next()){r=r.value,r=d((r.video?r.video.drmInfos:[]).concat(r.audio?r.audio.drmInfos:[]));for(var a=r.next();!a.done;a=r.next())Gn(a.value,zt(e.i.servers),zt(e.i.advanced||{}))}return i=An(e,t),i.size?(i=_n(e,i),n?i:i["catch"]((function(){}))):(e.M=!0,Promise.resolve())}function wn(e){var t;return j((function(n){if(1==n.a)return e.h&&e.c&&e.c.serverCertificate&&e.c.serverCertificate.length?(E(n,3),x(n,e.h.setServerCertificate(e.c.serverCertificate),5)):n.u(0);if(3!=n.a)return _(n,0);throw t=C(n),new xe(2,6,6004,t.message)}))}function Tn(e,t){var n,i,r;return j((function(a){return 1==a.a?x(a,In(e,t),2):(n=a.b,n?(i=[],(r=e.f.get(n))&&(r.za=new Ie,i.push(r.za)),i.push(n.remove()),x(a,Promise.all(i),0)):a["return"]())}))}function Sn(e){for(var t=(e.c?e.c.initData:[])||[],n=d(t),i=n.next();!i.done;i=n.next())i=i.value,xn(e,i.initDataType,i.initData);for(n=d(e.v),i=n.next();!i.done;i=n.next())In(e,i.value);return t.length||e.v.length||e.j.resolve(),e.j}function xn(e,t,n){var i=e.f.values();i=d(i);for(var r=i.next();!r.done;r=i.next())if(je(n,r.value.initData)&&!nn("Tizen 2"))return;Mn(e,t,n)}function kn(e){return e?e.keySystem:""}function En(e){return e=e.f.keys(),e=ae(e,(function(e){return e.sessionId})),Array.from(e)}function An(e,t){for(var n=new Set,i=d(t),r=i.next();!r.done;r=i.next()){r=r.value;var a=d((r.video?r.video.drmInfos:[]).concat(r.audio?r.audio.drmInfos:[]));for(r=a.next();!r.done;r=a.next())n.add(r.value)}for(i=d(n),r=i.next();!r.done;r=i.next())Gn(r.value,zt(e.i.servers),zt(e.i.advanced||{}));a=e.A?"required":"optional";var o=e.A?["persistent-license"]:["temporary"];for(i=new Map,n=d(n),r=n.next();!r.done;r=n.next())r=r.value,i.set(r.keySystem,{audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:a,sessionTypes:o,label:r.keySystem,drmInfos:[]});for(n=d(t),r=n.next();!r.done;r=n.next())for(r=r.value,a=d([r.audio,r.video]),r=a.next();!r.done;r=a.next())if(o=r.value){var s=Kt(o.mimeType,o.codecs),u=d(o.drmInfos);for(r=u.next();!r.done;r=u.next()){var c=r.value;r=i.get(c.keySystem),r.drmInfos.push(c),c.distinctiveIdentifierRequired&&(r.distinctiveIdentifier="required"),c.persistentStateRequired&&(r.persistentState="required"),c={robustness:("audio"==o.type?c.audioRobustness:c.videoRobustness)||"",contentType:s},"audio"==o.type?r.audioCapabilities.push(c):r.videoCapabilities.push(c)}}return i}function _n(e,t){var n,i,r,a,o,s,u,c,l,f,h,p,m,g,v,y,b,w,T,S,k,A;return j((function(I){switch(I.a){case 1:if(1==t.size&&t.has(""))throw new xe(2,6,6e3);for(n=d(t.values()),i=n.next();!i.done;i=n.next())r=i.value,0==r.audioCapabilities.length&&delete r.audioCapabilities,0==r.videoCapabilities.length&&delete r.videoCapabilities;o=d([!0,!1]),s=o.next();case 2:if(s.done){I.u(4);break}u=s.value,c=d(t.keys()),l=c.next();case 5:if(l.done){I.u(7);break}if(f=l.value,h=t.get(f),p=h.drmInfos.some((function(e){return!!e.licenseServerUri})),p!=u){I.u(6);break}return E(I,8),x(I,navigator.requestMediaKeySystemAccess(f,[h]),10);case 10:a=I.b,I.u(7);break;case 8:C(I);case 9:pt(e.F);case 6:l=c.next(),I.u(5);break;case 7:if(a){I.u(4);break}s=o.next(),I.u(2);break;case 4:if(!a)throw new xe(2,6,6001);for(pt(e.F),E(I,11),e.m.clear(),m=a.getConfiguration(),g=m.audioCapabilities||[],v=m.videoCapabilities||[],y=d(g),b=y.next();!b.done;b=y.next())w=b.value,e.m.add(w.contentType.toLowerCase());for(T=d(v),b=T.next();!b.done;b=T.next())S=b.value,e.m.add(S.contentType.toLowerCase());if(e.c=zn(a.keySystem,t.get(a.keySystem)),!e.c.licenseServerUri)throw new xe(2,6,6012,e.c.keySystem);return x(I,a.createMediaKeys(),13);case 13:return k=I.b,pt(e.F),e.h=k,e.M=!0,x(I,wn(e),14);case 14:pt(e.F),_(I,0);break;case 11:if(A=C(I),pt(e.F,A),e.c=null,e.m.clear(),A instanceof xe)throw A;throw new xe(2,6,6002,A.message)}}))}function Cn(t){if(t=zt(t.i.clearKeys),0==t.size)return null;var n=[],i=[];t.forEach((function(e,t){var r=dn(t),a=dn(e);r={kty:"oct",kid:cn(r,!1),k:cn(a,!1)},n.push(r),i.push(r.kid)})),t=JSON.stringify({keys:n});var r=JSON.stringify({kids:i});return r=[{initData:Ve(Et(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:new Set(i)}}function In(e,t){var n,i,a,o,s;return j((function(u){switch(u.a){case 1:try{n=e.h.createSession("persistent-license")}catch(r){return i=new xe(2,6,6005,r.message),e.g(i),u["return"](Promise.reject(i))}return e.b.l(n,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.I?e.D.push(t):Dn(e,t)})),e.b.l(n,"keystatuseschange",(function(t){return Rn(e,t)})),a={initData:null,loaded:!1,Xc:1/0,za:null},e.f.set(n,a),E(u,2),x(u,n.load(t),4);case 4:return o=u.b,pt(e.F),o?(a.loaded=!0,Hn(e)&&e.j.resolve(),u["return"](n)):(e.f["delete"](n),e.g(new xe(2,6,6013)),u["return"](Promise.resolve()));case 2:s=C(u),pt(e.F,s),e.f["delete"](n),e.g(new xe(2,6,6005,s.message));case 3:return u["return"](Promise.resolve())}}))}function Mn(e,t,n){try{var i=e.A?e.h.createSession("persistent-license"):e.h.createSession()}catch(r){return void e.g(new xe(2,6,6005,r.message))}e.b.l(i,"message",(function(t){e.a&&e.i.delayLicenseRequestUntilPlayed&&e.a.paused&&!e.I?e.D.push(t):Dn(e,t)})),e.b.l(i,"keystatuseschange",(function(t){return Rn(e,t)})),e.f.set(i,{initData:n,loaded:!1,Xc:1/0,za:null});try{n=e.i.initDataTransform(n,t,e.c)}catch(r){return t=r,r instanceof xe||(t=new xe(2,6,6016,r)),void e.g(t)}e.i.logLicenseExchange&&cn(n),i.generateRequest(t,n)["catch"]((function(t){if(!e.F.a){e.f["delete"](i);var n=t.errorCode;if(n&&n.systemCode){var r=n.systemCode;0>r&&(r+=Math.pow(2,32)),r="0x"+r.toString(16)}e.g(new xe(2,6,6006,t.message,t,r))}}))}function Pn(e,t,n){return"skd"==t&&(t=n.serverCertificate,n=Mt(e),e=Pt(e,n,t)),e}function Dn(e,t){var n,i,r,a,o,s,u,c,l,d,f,h,p,m;j((function(g){switch(g.a){case 1:return n=t.target,e.i.logLicenseExchange&&cn(t.message),i=e.f.get(n),r=e.c.licenseServerUri,a=e.i.advanced[e.c.keySystem],"individualization-request"==t.messageType&&a&&a.individualizationServer&&(r=a.individualizationServer),o=rt([r],e.i.retryParameters),o.body=t.message,o.method="POST",o.licenseRequestType=t.messageType,o.sessionId=n.sessionId,"com.microsoft.playready"!=e.c.keySystem&&"com.chromecast.playready"!=e.c.keySystem||On(o),s=Date.now(),E(g,2),c=e.s.lb.request(2,o),x(g,c.promise,4);case 4:u=g.b,_(g,3);break;case 2:return l=C(g),d=new xe(2,6,6007,l),e.g(d),i&&i.za&&i.za.reject(d),g["return"]();case 3:return e.F.a?g["return"]():(e.H+=(Date.now()-s)/1e3,e.i.logLicenseExchange&&cn(u.data),E(g,5),x(g,n.update(u.data),7));case 7:_(g,6);break;case 5:return f=C(g),h=new xe(2,6,6008,f.message),e.g(h),i&&i.za&&i.za.reject(h),g["return"]();case 6:p=new ze("drmsessionupdate"),e.s.onEvent(p),i&&(i.za&&i.za.resolve(),m=new Ee((function(){i.loaded=!0,Hn(e)&&e.j.resolve()})),m.R(Wn)),k(g)}}))}function On(e){var t=xt(e.body,!0,!0);if(t.includes("PlayReadyKeyMessage")){t=(new DOMParser).parseFromString(t,"application/xml");for(var n=d(t.getElementsByTagName("HttpHeader")),i=n.next();!i.done;i=n.next())i=i.value,e.headers[i.getElementsByTagName("name")[0].textContent]=i.getElementsByTagName("value")[0].textContent;e.body=ln(t.getElementsByTagName("Challenge")[0].textContent)}else e.headers["Content-Type"]="text/xml; charset=utf-8"}function Rn(e,t){var n=t.target,i=e.f.get(n),r=!1;n.keyStatuses.forEach((function(t,n){if("string"==typeof n){var a=n;n=t,t=a}if("com.microsoft.playready"==e.c.keySystem&&16==n.byteLength&&(nn("Trident/")||Zt())){a=He(n);var o=a.getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"com.microsoft.playready"==e.c.keySystem&&"status-pending"==t&&(t="usable"),"status-pending"!=t&&(i.loaded=!0),"expired"==t&&(r=!0),a=fn(n),e.ca.set(a,t)}));var a=n.expiration-Date.now();(0>a||r&&1e3>a)&&i&&!i.za&&(e.f["delete"](n),n.close()["catch"]((function(){}))),Hn(e)&&(e.j.resolve(),e.J.R(Xn))}function Nn(e){var t=e.ca,n=e.T;n.clear(),t.forEach((function(e,t){return n.set(t,e)})),t=Array.from(n.values()),t.length&&t.every((function(e){return"expired"==e}))&&e.g(new xe(2,6,6014)),e.s.lc($t(n))}function Ln(){var e,t,n,i,r,a,o,s;return j((function(u){return 1==u.a?(e="org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.3_0 com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" "),t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n={videoCapabilities:t},i={videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},r=[i,n],a=new Map,o=function(e){var t,n,i;return j((function(o){switch(o.a){case 1:return E(o,2),x(o,navigator.requestMediaKeySystemAccess(e,r),4);case 4:return t=o.b,i=!!(n=t.getConfiguration().sessionTypes)&&n.includes("persistent-license"),nn("Tizen 3")&&(i=!1),a.set(e,{persistentState:i}),x(o,t.createMediaKeys(),5);case 5:_(o,0);break;case 2:C(o),a.set(e,null),k(o)}}))},s=e.map((function(e){return o(e)})),x(u,Promise.all(s),2)):u["return"]($t(a))}))}function Un(e){var t;return j((function(n){return 1==n.a?(t=new Promise((function(e,t){new Ee(t).R(Kn)})),E(n,2),x(n,Promise.race([Promise.all([e.close(),e.closed]),t]),4)):2!=n.a?_(n,0):(C(n),void k(n))}))}function jn(e){var t;return j((function(n){return t=Array.from(e.f.keys()),e.f.clear(),x(n,Promise.all(t.map((function(e){return j((function(t){return 1==t.a?(E(t,2),x(t,Un(e),4)):2!=t.a?_(t,0):(C(t),void k(t))}))}))),0)}))}function Fn(e,t){var n=t.audio,i=t.video;if(n&&n.encrypted&&!Zt()&&!e.m.has(Kt(n.mimeType,n.codecs).toLowerCase())||i&&i.encrypted&&!Zt()&&!e.m.has(Kt(i.mimeType,i.codecs).toLowerCase()))return!1;var r=kn(e.c);return n=(i?i.drmInfos:[]).concat(n?n.drmInfos:[]),0==n.length||n.some((function(e){return e.keySystem==r}))}function Bn(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=d(e),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=d(t),o=a.next();!o.done;o=a.next())if(o=o.value,r.keySystem==o.keySystem){a=[],a=a.concat(r.initData||[]),a=a.concat(o.initData||[]);var s=r.keyIds&&o.keyIds?new Set(f(r.keyIds).concat(f(o.keyIds))):r.keyIds||o.keyIds;n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||o.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||o.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||o.persistentStateRequired,videoRobustness:r.videoRobustness||o.videoRobustness,audioRobustness:r.audioRobustness||o.audioRobustness,serverCertificate:r.serverCertificate||o.serverCertificate,initData:a,keyIds:s});break}}return n}function Vn(e){e.f.forEach((function(t,n){var i=t.Xc,r=n.expiration;isNaN(r)&&(r=1/0),r!=i&&(e.s.onExpirationUpdated(n.sessionId,r),t.Xc=r)}))}function Hn(e){return e=e.f.values(),oe(e,(function(e){return e.loaded}))}function qn(e,t){var n=[];t.forEach((function(e,t){n.push({keySystem:t,licenseServerUri:e,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:new Set})}));for(var i=d(e),r=i.next();!r.done;r=i.next())r=r.value,r.video&&(r.video.drmInfos=n),r.audio&&(r.audio.drmInfos=n)}function zn(e,t){var n=[],i=[],r=[],a=new Set;return $n(t.drmInfos,n,i,r,a),{keySystem:e,licenseServerUri:n[0],distinctiveIdentifierRequired:"required"==t.distinctiveIdentifier,persistentStateRequired:"required"==t.persistentState,audioRobustness:(t.audioCapabilities?t.audioCapabilities[0].robustness:"")||"",videoRobustness:(t.videoCapabilities?t.videoCapabilities[0].robustness:"")||"",serverCertificate:i[0],initData:r,keyIds:a}}function $n(e,t,n,i,r){var a={};e=d(e);for(var o=e.next();!o.done;a={ma:a.ma},o=e.next()){if(a.ma=o.value,t.includes(a.ma.licenseServerUri)||t.push(a.ma.licenseServerUri),a.ma.serverCertificate&&(n.some(function(e){return function(t){return je(t,e.ma.serverCertificate)}}(a))||n.push(a.ma.serverCertificate)),a.ma.initData){o={};for(var s=d(a.ma.initData),u=s.next();!u.done;o={Tb:o.Tb},u=s.next())o.Tb=u.value,i.some(function(e){return function(t){var n=e.Tb;return!(!t.keyId||t.keyId!=n.keyId)||t.initDataType==n.initDataType&&je(t.initData,n.initData)}}(o))||i.push(o.Tb)}if(a.ma.keyIds)for(o=d(a.ma.keyIds),s=o.next();!s.done;s=o.next())r.add(s.value)}}function Gn(t,n,i){!t.keySystem||"org.w3.clearkey"==t.keySystem&&t.licenseServerUri||(n.size&&(n=n.get(t.keySystem)||"",t.licenseServerUri=n),t.keyIds||(t.keyIds=new Set),(i=i.get(t.keySystem))&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=i.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=i.persistentStateRequired),t.videoRobustness||(t.videoRobustness=i.videoRobustness),t.audioRobustness||(t.audioRobustness=i.audioRobustness),t.serverCertificate||(t.serverCertificate=i.serverCertificate)),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==t.keySystem&&(t.keySystem="com.chromecast.playready"))}$("shaka.util.Uint8ArrayUtils",sn),sn.concat=hn,sn.toHex=fn,sn.fromHex=dn,sn.fromBase64=ln,sn.toBase64=cn,sn.toStandardBase64=un,sn.equal=function(e,t){return Ot("shaka.util.Uint8ArrayUtils.equal","Please use shaka.util.BufferUtils.equal instead."),je(e,t)},pn.prototype.destroy=function(){return this.F.destroy()},pn.prototype.configure=function(e){this.i=e},pn.prototype.yb=function(e){var t,n,i=this;return j((function(r){if(1==r.a)return i.h?(i.a=e,i.b.ha(i.a,"play",(function(){for(var e=d(i.D),t=e.next();!t.done;t=e.next())Dn(i,t.value);i.I=!0,i.D=[]})),"webkitCurrentPlaybackTargetIsWireless"in i.a&&i.b.l(i.a,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return jn(i)})),t=i.a.setMediaKeys(i.h),t=t["catch"]((function(e){return Promise.reject(new xe(2,6,6003,e.message))})),x(r,t,2)):(i.b.ha(e,"encrypted",(function(){i.g(new xe(2,6,6010))})),r["return"]());pt(i.F),Sn(i),i.c.initData.length||i.v.length||(n=function(e){return xn(i,e.initDataType,Ve(e.initData))},i.b.l(i.a,"encrypted",n)),k(r)}))},pn.prototype.Db=function(){var e=1/0,t=this.f.keys();t=d(t);for(var n=t.next();!n.done;n=t.next())n=n.value,isNaN(n.expiration)||(e=Math.min(e,n.expiration));return e};var Kn=1,Wn=5,Xn=.5,Yn=new wt((function(){return Be(new Uint8Array([0]))}));function Jn(){this.a=new muxjs.mp4.CaptionParser,this.g=[],this.f={}}function Qn(){}function Zn(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function ei(e,t,n){return n=void 0===n?0:n,!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0)||t>e.end(e.length-1))&&t+n>=e.start(0)}function ti(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,i=d(ii(e)),r=i.next();!r.done;r=i.next()){var a=r.value;r=a.start,a=a.end,a>t&&(n+=a-Math.max(r,t))}return n}function ni(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return null;var n=Zt()||nn("Trident/")||nn("Tizen")||nn("CrKey")?.5:.1,i=ii(e).findIndex((function(e,i,r){return e.start>t&&(0==i||r[i-1].end-t<=n)}));return 0<=i?i:null}function ii(e){if(!e)return[];for(var t=[],n=d(se(e.length)),i=n.next();!i.done;i=n.next())i=i.value,t.push({start:e.start(i),end:e.end(i)});return t}function ri(){var e=this;this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.b=null,this.h=[],this.c=[],this.g=[],this.f=!1,this.a.on("data",(function(t){e.c=t.captions,e.g=t.metadata,e.h.push(hn(t.initSegment,t.data))})),this.a.on("done",(function(){var t={data:hn.apply(sn,f(e.h)),captions:e.c,metadata:e.g};e.b.resolve(t),e.f=!1}))}function ai(t,n){if(!e.muxjs||"mp2t"!=t.toLowerCase().split(";")[0].split("/")[1])return!1;if(n)return MediaSource.isTypeSupported(oi(n,t));var i=oi("audio",t),r=oi("video",t);return MediaSource.isTypeSupported(i)||MediaSource.isTypeSupported(r)}function oi(e,t){var n=t.replace(/mp2t/i,"mp4");"audio"==e&&(n=n.replace("video","audio"));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var r="avc1.",a=i[1],o=Number(i[2]);r=("66"==a?r+"4200":"77"==a?r+"4d00":r+"6400")+(o>>4).toString(16),r+=(15&o).toString(16),n=n.replace(i[0],r)}return n}function si(e,t){e.f=!0,e.b=new Ie,e.h=[],e.c=[],e.g=[];var n=Ve(t);return e.a.push(n),e.a.flush(),e.f&&e.b.reject(new xe(2,3,3018)),e.b}function ui(e,t,n){this.startTime=e,this.direction=mi,this.endTime=t,this.payload=n,this.region=new xi,this.position=null,this.positionAlign=li,this.size=0,this.textAlign=di,this.writingMode=gi,this.lineInterpretation=vi,this.line=null,this.lineHeight="",this.lineAlign=yi,this.displayAlign=hi,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=wi,this.fontStyle=Ti,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textDecoration=[],this.wrapLine=!0,this.id="",this.nestedCues=[],this.spacer=!1,this.cellResolution={columns:32,rows:15}}function ci(e,t){for(var n in e)if("nestedCues"==n){if(!Ze(e.nestedCues,t.nestedCues,ci))return!1}else if("region"==n||"cellResolution"==n){for(var i in e[n])if(e[n][i]!=t[n][i])return!1}else if(Array.isArray(e[n])){if(!Ze(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}Jn.prototype.init=function(e){var t=muxjs.mp4.probe;e=Ve(e),this.g=t.videoTrackIds(e),this.f=t.timescale(e),this.a.init()},Jn.prototype.b=function(e,t){var n=Ve(e);(n=this.a.parse(n,this.g,this.f))&&n.captions&&t(n.captions),this.a.clearParsedCaptions()},Jn.prototype.c=function(){this.a.resetCaptionStream()},Qn.prototype.init=function(){},Qn.prototype.b=function(){},Qn.prototype.c=function(){},ri.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},ui.prototype.clone=function(){var e,t=new ui(0,0,"");for(e in this)t[e]=this[e],t[e]&&t[e].constructor==Array&&(t[e]=t[e].slice());return t},$("shaka.text.Cue",ui);var li="auto";ui.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:li};var di="center",fi={LEFT:"left",RIGHT:"right",CENTER:di,START:"start",END:"end"};ui.textAlign=fi;var hi="after",pi={BEFORE:"before",CENTER:"center",AFTER:hi};ui.displayAlign=pi;var mi="ltr";ui.direction={HORIZONTAL_LEFT_TO_RIGHT:mi,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var gi="horizontal-tb";ui.writingMode={HORIZONTAL_TOP_TO_BOTTOM:gi,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var vi=0;ui.lineInterpretation={LINE_NUMBER:vi,PERCENTAGE:1};var yi="start",bi={CENTER:"center",START:yi,END:"end"};ui.lineAlign=bi;var wi=400;ui.fontWeight={NORMAL:wi,BOLD:700};var Ti="normal",Si={NORMAL:Ti,ITALIC:"italic",OBLIQUE:"oblique"};function xi(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=ki,this.scroll=Ei}ui.fontStyle=Si,ui.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},$("shaka.text.CueRegion",xi);var ki=1;xi.units={PX:0,PERCENTAGE:ki,LINES:2};var Ei="";function Ai(e){this.m=null,this.c=e,this.f=this.v=0,this.g=1/0,this.b=this.a=null,this.j="",this.h=new Map}function _i(t){return!!(Di[t]||e.muxjs&&"application/cea-608"==t)}function Ci(e,t,n,i){var r,a,o;return j((function(s){return 1==s.a?x(s,Promise.resolve(),2):e.m&&e.c?null==n||null==i?(e.m.parseInit(Ve(t)),s["return"]()):(r={periodStart:e.v,segmentStart:n,segmentEnd:i},a=e.m.parseMedia(Ve(t),r),o=a.filter((function(t){return t.startTime>=e.f&&t.startTime<e.g})),e.c.append(o),null==e.a&&(e.a=Math.max(n,e.f)),e.b=Math.min(i,e.g),void k(s)):s["return"]()}))}function Ii(e,t,n){e.f=t,e.g=n}function Mi(e,t,n){if(e.j=t,t=e.h.get(t))for(var i=d(t.keys()),r=i.next();!r.done;r=i.next())(r=t.get(r.value).filter((function(e){return e.endTime<=n})))&&e.c.append(r)}function Pi(e,t,n,i,r){var a=n+" "+i,o=new Map;t=d(t);for(var s=t.next();!s.done;s=t.next()){var u=s.value;s=u.stream,o.has(s)||o.set(s,new Map),o.get(s).has(a)||o.get(s).set(a,[]),u.startTime+=r,u.endTime+=r,u.startTime>=e.f&&u.startTime<e.g&&(u=new ui(u.startTime,u.endTime,u.text),o.get(s).get(a).push(u),s==e.j&&e.c.append([u]))}for(r=d(o.keys()),a=r.next();!a.done;a=r.next())for(a=a.value,e.h.has(a)||e.h.set(a,new Map),t=d(o.get(a).keys()),s=t.next();!s.done;s=t.next())s=s.value,u=o.get(a).get(s),e.h.get(a).set(s,u);e.a=null==e.a?Math.max(n,e.f):Math.min(e.a,Math.max(n,e.f)),e.b=Math.max(e.b,Math.min(i,e.g))}xi.scrollMode={NONE:Ei,UP:"up"},Ai.prototype.destroy=function(){return this.c=this.m=null,this.h.clear(),Promise.resolve()},Ai.prototype.remove=function(e,t){var n=this;return j((function(i){if(1==i.a)return x(i,Promise.resolve(),2);!n.c||!n.c.remove(e,t)||null==n.a||t<=n.a||e>=n.b||(e<=n.a&&t>=n.b?n.a=n.b=null:e<=n.a&&t<n.b?n.a=t:e>n.a&&t>=n.b&&(n.b=e)),k(i)}))},$("shaka.text.TextEngine",Ai),Ai.prototype.destroy=Ai.prototype.destroy,Ai.unregisterParser=function(e){delete Di[e]},Ai.registerParser=function(e,t){Di[e]=t};var Di={};function Oi(e,t,n,i){var r=this;this.a=e,this.h=n,this.f={},this.c=null,this.D=i||function(){},this.g={},this.b=new mt,this.m={},this.v=t,this.A=new Ie,this.j=Ri(this,this.A),this.F=new ht((function(){return Li(r)}))}function Ri(e,t){var n=new MediaSource;return e.b.ha(n,"sourceopen",t.resolve),e.a.src=Qi(n),n}function Ni(e){var t=Kt(e.mimeType,e.codecs),n=Wt(e);return _i(t)||MediaSource.isTypeSupported(n)||ai(t,e.type)}function Li(e){var t,n,i,r,a,o,s,u;return j((function(c){if(1==c.a){for(n in t=[],e.g)for(i=e.g[n],r=i[0],e.g[n]=i.slice(0,1),r&&t.push(r.p["catch"](jt)),a=d(i.slice(1)),o=a.next();!o.done;o=a.next())s=o.value,s.p.reject(new xe(2,7,7003,void 0));for(u in e.c&&t.push(e.c.destroy()),e.h&&t.push(e.h.destroy()),e.m)t.push(e.m[u].destroy());return x(c,Promise.all(t),2)}e.b&&(e.b.release(),e.b=null),e.a&&(e.a.removeAttribute("src"),e.a.load(),e.a=null),e.j=null,e.c=null,e.h=null,e.f={},e.m={},e.v=null,e.g={},k(c)}))}function Ui(e,t){e.c||(e.c=new Ai(e.h)),"application/cea-608"!=t&&(e.c.m=Bt(Di[t]))}function ji(e){return!e.j||"ended"==e.j.readyState}function Fi(e,t){if("text"==t)var n=e.c.a;else n=Hi(e,t),n=!n||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function Bi(e,t){return"text"==t?e.c.b:Zn(Hi(e,t))}function Vi(e,t,n){return"text"==t?(e=e.c,null==e.b||e.b<n?0:e.b-Math.max(n,e.a)):(e=Hi(e,t),ti(e,n))}function Hi(e,t){try{return e.f[t].buffered}catch(n){return null}}function qi(t,n,i,r,a,o){var s,u,c,l;return j((function(d){return 1==d.a?(s=qt,n==s.$?x(d,Ci(t.c,i,r,a),0):t.m[n]?x(d,si(t.m[n],i),10):(o&&e.muxjs&&(t.c||Ui(t,"text/vtt"),null==r&&null==a?t.v.init(i):t.v.b(i,(function(e){e.length&&Pi(t.c,e,r,a,t.f[s.Ca].timestampOffset)}))),x(d,Wi(t,n,(function(){t.f[n].appendBuffer(i)})),0))):(u=d.b,t.c||Ui(t,"text/vtt"),u.metadata&&(c=t.f[n].timestampOffset,t.D(u.metadata,c,a)),u.captions&&u.captions.length&&(l=t.f[s.Ca].timestampOffset,Pi(t.c,u.captions,r,a,l)),x(d,Wi(t,n,(function(){t.f[n].appendBuffer(u.data)})),0))}))}function zi(e,t){var n=Bi(e,"video")||0;Mi(e.c,t,n)}function $i(e,t){var n;return j((function(i){return n=qt,t==n.$?e.c?x(i,e.c.remove(0,1/0),0):i["return"]():x(i,Wi(e,t,(function(){var n=e.j.duration;0>=n?Ki(e,t):e.f[t].remove(0,n)})),0)}))}function Gi(e,t,n,i,r){var a;return j((function(o){return a=qt,t==a.$?(e.c.v=n,Ii(e.c,i,r),o["return"]()):x(o,Promise.all([Wi(e,t,(function(){var n=e.f[t].appendWindowStart,i=e.f[t].appendWindowEnd;e.f[t].abort(),e.f[t].appendWindowStart=n,e.f[t].appendWindowEnd=i,Ki(e,t)})),Wi(e,t,(function(){var i=n;0>i&&(i+=.001),e.f[t].timestampOffset=i,Ki(e,t)})),Wi(e,t,(function(){e.f[t].appendWindowStart=0,e.f[t].appendWindowEnd=r,e.f[t].appendWindowStart=i,Ki(e,t)}))]),0)}))}function Ki(e,t){var n=e.g[t][0];n&&(n.p.resolve(),Yi(e,t))}function Wi(e,t,n){return pt(e.F),n={start:n,p:new Ie},e.g[t].push(n),1==e.g[t].length&&Ji(e,t),n.p}function Xi(e,t){var n,i,r,a,o,s;return j((function(u){switch(u.a){case 1:for(r in pt(e.F),n=[],i={},e.f)i.ub=new Ie,a={start:function(e){return function(){return e.ub.resolve()}}(i),p:i.ub},e.g[r].push(a),n.push(i.ub),1==e.g[r].length&&a.start(),i={ub:i.ub};return E(u,2),x(u,Promise.all(n),4);case 4:_(u,3);break;case 2:throw o=C(u),o;case 3:try{t()}catch(c){throw new xe(2,3,3015,c)}finally{for(s in e.f)Yi(e,s)}k(u)}}))}function Yi(e,t){e.g[t].shift(),Ji(e,t)}function Ji(e,t){var n=e.g[t][0];if(n)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new xe(2,3,3017,t)):n.p.reject(new xe(2,3,3015,i)),Yi(e,t)}}i=Oi.prototype,i.destroy=function(){return this.F.destroy()},i.init=function(e,t){var n,i,r,a,o,s,u,c=this;return j((function(l){if(1==l.a)return n=qt,x(l,c.A,2);for(i={},r=d(e.keys()),a=r.next();!a.done;i={la:i.la},a=r.next())i.la=a.value,o=e.get(i.la),s=Kt(o.mimeType,o.codecs),i.la==n.$?Ui(c,s):(!t&&MediaSource.isTypeSupported(s)||!ai(s,i.la)||(c.m[i.la]=new ri,s=oi(i.la,s)),u=c.j.addSourceBuffer(s),c.b.l(u,"error",function(e){return function(){c.g[e.la][0].p.reject(new xe(2,3,3014,c.a.error?c.a.error.code:0))}}(i)),c.b.l(u,"updateend",function(e){return function(){return Ki(c,e.la)}}(i)),c.f[i.la]=u,c.g[i.la]=[]);k(l)}))},i.fc=function(){var e={total:ii(this.a.buffered),audio:ii(Hi(this,"audio")),video:ii(Hi(this,"video")),text:[]};if(this.c){var t=this.c.a,n=this.c.b;null!=t&&null!=n&&e.text.push({start:t,end:n})}return e},i.remove=function(e,t,n){var i,r=this;return j((function(a){return i=qt,e==i.$?x(a,r.c.remove(t,n),0):x(a,Wi(r,e,(function(){n<=t?Ki(r,e):r.f[e].remove(t,n)})),0)}))},i.flush=function(e){var t,n=this;return j((function(i){return t=qt,e==t.$?i["return"]():x(i,Wi(n,e,(function(){n.a.currentTime-=.001,Ki(n,e)})),0)}))},i.endOfStream=function(e){var t=this;return j((function(n){return x(n,Xi(t,(function(){ji(t)||(e?t.j.endOfStream(e):t.j.endOfStream())})),0)}))},i.ya=function(e){var t=this;return j((function(n){return x(n,Xi(t,(function(){t.j.duration=e})),0)}))},i.getDuration=function(){return this.j.duration};var Qi=e.URL.createObjectURL;function Zi(e,t){return e=nr(e),t=nr(t),e.split("-")[0]==t.split("-")[0]}function er(e,t){e=nr(e),t=nr(t);var n=e.split("-"),i=t.split("-");return n[0]==i[0]&&1==n.length&&2==i.length}function tr(e,t){e=nr(e),t=nr(t);var n=e.split("-"),i=t.split("-");return 2==n.length&&2==i.length&&n[0]==i[0]}function nr(e){var t=e.split("-");return e=t[0]||"",t=t[1]||"",e=e.toLowerCase(),e=or.get(e)||e,(t=t.toUpperCase())?e+"-"+t:e}function ir(e,t){return e=nr(e),t=nr(t),t==e?4:er(t,e)?3:tr(t,e)?2:er(e,t)?1:0}function rr(e){return e.language?nr(e.language):e.audio&&e.audio.language?nr(e.audio.language):e.video&&e.video.language?nr(e.video.language):"und"}function ar(e,t){for(var n=nr(e),i=new Set,r=d(t),a=r.next();!a.done;a=r.next())i.add(nr(a.value));for(r=d(i),a=r.next();!a.done;a=r.next())if(a=a.value,a==n)return a;for(r=d(i),a=r.next();!a.done;a=r.next())if(a=a.value,er(a,n))return a;for(r=d(i),a=r.next();!a.done;a=r.next())if(a=a.value,tr(a,n))return a;for(i=d(i),a=i.next();!a.done;a=i.next())if(a=a.value,er(n,a))return a;return null}var or=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function sr(e,t){function n(e){var t="";e.video&&(t=Xt(e.video.codecs)[0]);var n="";return e.audio&&(n=Xt(e.audio.codecs)[0]),t+"-"+n}var i=yr(e.variants,t),r=new $e;i=d(i);for(var a=i.next();!a.done;a=i.next()){a=a.value;var o=n(a);r.push(o,a)}var s=null,u=1/0;Ge(r,(function(e,t){for(var n=0,i=0,r=d(t),a=r.next();!a.done;a=r.next())n+=a.value.bandwidth||0,++i;n/=i,n<u&&(s=e,u=n)})),e.variants=e.variants.filter((function(e){return n(e)==s}))}function ur(e,t,n){function i(e,t,n){return e>=t&&e<=n}var r=e.video;return!(r&&r.width&&r.height&&(!i(r.width,t.minWidth,Math.min(t.maxWidth,n.width))||!i(r.height,t.minHeight,Math.min(t.maxHeight,n.height))||!i(r.width*r.height,t.minPixels,t.maxPixels))||e&&e.video&&e.video.frameRate&&!i(e.video.frameRate,t.minFrameRate,t.maxFrameRate)||!i(e.bandwidth,t.minBandwidth,t.maxBandwidth))}function cr(e,t,n){n.variants=n.variants.filter((function(n){if(e&&e.M&&!Fn(e,n))return!1;var i=n.audio;return n=n.video,!(i&&!Ni(i)||n&&!Ni(n)||i&&t&&t.audio&&!lr(i,t.audio)||n&&t&&t.video&&!lr(n,t.video))})),n.textStreams=n.textStreams.filter((function(e){return _i(Kt(e.mimeType,e.codecs))}))}function lr(e,t){return e.mimeType==t.mimeType&&e.codecs.split(".")[0]==t.codecs.split(".")[0]}function dr(e){var t=e.audio,n=e.video,i=t?t.codecs:null,r=n?n.codecs:null,a=[];r&&a.push(r),i&&a.push(i);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var u=new Set;if(t)for(var c=d(t.roles),l=c.next();!l.done;l=c.next())u.add(l.value);if(n)for(c=d(n.roles),l=c.next();!l.done;l=c.next())u.add(l.value);return e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:o,codecs:a.join(", "),audioCodec:i,videoCodec:r,primary:e.primary,roles:Array.from(u),audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null},n&&(e.videoId=n.id,e.originalVideoId=n.originalId,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.pixelAspectRatio=n.pixelAspectRatio||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.originalAudioId=t.originalId,e.channelsCount=t.channelsCount,e.audioSamplingRate=t.audioSamplingRate,e.audioBandwidth=t.bandwidth||null,e.label=t.label,e.audioRoles=t.roles),e}function fr(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:e.originalId}}function hr(e){return e.__shaka_id||(e.__shaka_id=Tr++),e.__shaka_id}function pr(e){var t=mr(e);return t.active=e.enabled,t.type="variant",t.originalAudioId=e.id,"main"==e.kind&&(t.primary=!0),e.kind&&(t.roles=[e.kind],t.audioRoles=[e.kind]),t}function mr(e){return{id:hr(e),active:!1,type:"",bandwidth:0,language:nr(e.language),label:e.label,kind:e.kind,width:null,height:null,frameRate:null,pixelAspectRatio:null,mimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!1,roles:[],audioRoles:null,videoId:null,audioId:null,channelsCount:null,audioSamplingRate:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null}}function gr(e){return e.allowedByApplication&&e.allowedByKeySystem}function vr(e){return e.filter((function(e){return gr(e)}))}function yr(e,t){var n=e.filter((function(e){return e.audio&&e.audio.channelsCount})),i=new Map;n=d(n);for(var r=n.next();!r.done;r=n.next()){r=r.value;var a=r.audio.channelsCount;i.has(a)||i.set(a,[]),i.get(a).push(r)}return n=Array.from(i.keys()),0==n.length?e:(r=n.filter((function(e){return e<=t})),r.length?i.get(Math.max.apply(Math,f(r))):i.get(Math.min.apply(Math,f(n))))}function br(e,t,n){var i=e,r=e.filter((function(e){return e.primary}));r.length&&(i=r);var a=i.length?i[0].language:"";if(i=i.filter((function(e){return e.language==a})),t){var o=ar(nr(t),e.map((function(e){return e.language})));o&&(i=e.filter((function(e){return nr(e.language)==o})))}if(n){if(e=wr(i,n),e.length)return e}else if(e=i.filter((function(e){return 0==e.roles.length})),e.length)return e;return e=i.map((function(e){return e.roles})).reduce(Ut,[]),e.length?wr(i,e[0]):i}function wr(e,t){return e.filter((function(e){return e.roles.includes(t)}))}var Tr=0;function Sr(){this.h=null,this.c=!1,this.a=new X,this.b=[],this.g=1,this.j=!1,this.i=this.f=null}function xr(e,t){return e&&(t=t.filter((function(t){return ur(t,e,{width:1/0,height:1/0})}))),t.sort((function(e,t){return e.bandwidth-t.bandwidth}))}function kr(e,t){this.a=e,this.b=new Set([e]),t=t||[];for(var n=d(t),i=n.next();!i.done;i=n.next())this.add(i.value)}function Er(e,t){var n;if(!(n=!!e.audio!=!!t.audio||!!e.video!=!!t.video||e.language!=t.language)&&(n=e.audio&&t.audio)){n=e.audio;var i=t.audio;n=!(n.channelsCount==i.channelsCount&&Ar(n,i)&&_r(n.roles,i.roles))}return!n&&(n=e.video&&t.video)&&(n=e.video,i=t.video,n=!(Ar(n,i)&&_r(n.roles,i.roles))),!n}function Ar(e,t){if(e.mimeType!=t.mimeType)return!1;var n=e.codecs.split(",").map((function(e){return Xt(e)[0]})),i=t.codecs.split(",").map((function(e){return Xt(e)[0]}));if(n.length!=i.length)return!1;n.sort(),i.sort();for(var r=d(se(n.length)),a=r.next();!a.done;a=r.next())if(a=a.value,n[a]!=i[a])return!1;return!0}function _r(e,t){var n=new Set(e),i=new Set(t);if(n["delete"]("main"),i["delete"]("main"),n.size!=i.size)return!1;n=d(n);for(var r=n.next();!r.done;r=n.next())if(!i.has(r.value))return!1;return!0}function Cr(e){this.a=e,this.b=new Ir(e.language,"",e.audio&&e.audio.channelsCount?e.audio.channelsCount:0,"")}function Ir(e,t,n,i){this.c=e,this.f=t,this.a=n,this.b=void 0===i?"":i}function Mr(e,t){var n=nr(t),i=ar(n,e.map((function(e){return rr(e)})));return i?e.filter((function(e){return i==rr(e)})):[]}function Pr(e,t){return e.filter((function(e){return!!e.audio&&(t?e.audio.roles.includes(t):0==e.audio.roles.length)}))}function Dr(e,t){return e.filter((function(e){return!!e.audio&&e.audio.label.toLowerCase()==t.toLowerCase()}))}function Or(){this.a=Lr,this.b=(new Map).set(Lr,2).set(Nr,1)}function Rr(e,t,n){e.b.set(Lr,n).set(Nr,t)}i=Sr.prototype,i.stop=function(){this.h=null,this.c=!1,this.b=[],this.g=1,this.f=null},i.init=function(e){this.h=e},i.chooseVariant=function(){var e=xr(this.i.restrictions,this.b),t=this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate);this.b.length&&!e.length&&(e=xr(null,this.b),e=[e[0]]);var n=e[0]||null;e=d(ue(e));for(var i=e.next();!i.done;i=e.next()){var r=i.value;i=r.item;var a=isNaN(this.g)?1:Math.abs(this.g);r=a*(r.next||{bandwidth:1/0}).bandwidth/this.i.bandwidthUpgradeTarget,t>=a*i.bandwidth/this.i.bandwidthDowngradeTarget&&t<=r&&(n=i)}return this.f=Date.now(),n},i.enable=function(){this.c=!0},i.disable=function(){this.c=!1},i.segmentDownloaded=function(e,t){var n=this.a;if(!(16e3>t)){var i=8e3*t/e,r=e/1e3;n.a+=t,K(n.b,r,i),K(n.c,r,i)}if(null!=this.f&&this.c)e:{if(this.j){if(Date.now()-this.f<1e3*this.i.switchInterval)break e}else{if(!(128e3<=this.a.a))break e;this.j=!0}n=this.chooseVariant(),this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate),n&&this.h(n)}},i.getBandwidthEstimate=function(){return this.a.getBandwidthEstimate(this.i.defaultBandwidthEstimate)},i.setVariants=function(e){this.b=e},i.playbackRateChanged=function(e){this.g=e},i.configure=function(e){this.i=e},$("shaka.abr.SimpleAbrManager",Sr),Sr.prototype.configure=Sr.prototype.configure,Sr.prototype.playbackRateChanged=Sr.prototype.playbackRateChanged,Sr.prototype.setVariants=Sr.prototype.setVariants,Sr.prototype.getBandwidthEstimate=Sr.prototype.getBandwidthEstimate,Sr.prototype.segmentDownloaded=Sr.prototype.segmentDownloaded,Sr.prototype.disable=Sr.prototype.disable,Sr.prototype.enable=Sr.prototype.enable,Sr.prototype.chooseVariant=Sr.prototype.chooseVariant,Sr.prototype.init=Sr.prototype.init,Sr.prototype.stop=Sr.prototype.stop,kr.prototype.add=function(e){return!!Er(this.a,e)&&(this.b.add(e),!0)},kr.prototype.values=function(){return this.b.values()},Cr.prototype.create=function(e){var t=this,n=e.filter((function(e){return Er(t.a,e)}));return n.length?new kr(n[0],n):this.b.create(e)},Ir.prototype.create=function(e){var t=[];t=Mr(e,this.c);var n=e.filter((function(e){return e.primary}));for(t=t.length?t:n.length?n:e,e=Pr(t,this.f),e.length&&(t=e),this.a&&(e=yr(t,this.a),e.length&&(t=e)),this.b&&(e=Dr(t,this.b),e.length&&(t=e)),e=new kr(t[0]),t=d(t),n=t.next();!n.done;n=t.next())n=n.value,Er(e.a,n)&&e.add(n);return e};var Nr=0,Lr=1;function Ur(){}function jr(e,t,n,i){var r,a,o,s;return j((function(u){if(1==u.a)return i&&(r=Vr[i.toLowerCase()])?u["return"](r):(a=Br(e))&&(o=Hr[a])?u["return"](o):i?u.u(2):x(u,Fr(e,t,n),3);if(2!=u.a&&(i=u.b)&&(s=Vr[i]))return u["return"](s);throw new xe(2,4,4e3,e)}))}function Fr(e,t,n){var i,r,a;return j((function(o){return 1==o.a?(i=rt([e],n),i.method="HEAD",x(o,t.request(0,i).promise,2)):(r=o.b,a=r.headers["content-type"],o["return"](a?a.toLowerCase().split(";").shift():""))}))}function Br(e){return e=new le(e).ja.split("/").pop().split("."),1==e.length?"":e.pop().toLowerCase()}$("shaka.media.ManifestParser",Ur),Ur.unregisterParserByMime=function(e){delete Vr[e]},Ur.registerParserByMime=function(e,t){Vr[e]=t},Ur.registerParserByExtension=function(e,t){Hr[e]=t};var Vr={},Hr={};function qr(e,t,n){this.c=e,this.b=t,this.a=n}function zr(e,t){return e&&t?e.Gb()==t.Gb()&&e.Cb()==t.Cb()&&Ze(e.c(),t.c()):e==t}function $r(e,t,n,i,r,a,o,s,u){this.startTime=e,this.endTime=t,this.c=n,this.b=i,this.a=r,this.f=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u}function Gr(e,t,n){this.f=e,this.oc=t,this.h=this.g=1/0,this.a=1,this.b=this.c=null,this.j=0,this.m=!0,this.v=0,this.A=void 0===n||n}function Kr(e,t){this.g=e,this.h=Yr(e),this.a=e.a.currentTime,this.f=Date.now()/1e3,this.b=!1,this.j=t,this.c=function(){}}function Wr(e,t){e.c=t}function Xr(e){this.a=e}function Yr(e){if(e.a.paused||0==e.a.playbackRate||0==e.a.buffered.length)var t=!1;else e:{t=e.a.currentTime,e=d(ii(e.a.buffered));for(var n=e.next();!n.done;n=e.next())if(n=n.value,!(t<n.start-.1||t>n.end-.5)){t=!0;break e}t=!1}return t}function Jr(e,t,n,i,r){var a=this;this.a=e,this.A=t,this.i=n,this.v=r,this.b=new mt,this.j=!1,this.m=e.readyState,this.f=!1,this.c=i,this.h=!1,this.b.l(e,"waiting",(function(){return Qr(a)})),this.g=new Ee((function(){Qr(a)})).pa(.25)}function Qr(e){if(0!=e.a.readyState){if(e.a.seeking){if(!e.j)return}else e.j=!1;if(!e.a.paused){var t;if(e.a.readyState!=e.m&&(e.f=!1,e.m=e.a.readyState),!(t=!e.c)){t=e.c;var n=t.g,i=Yr(n),r=n.a.currentTime,a=Date.now()/1e3;t.a==r&&t.h==i||(t.f=a,t.a=r,t.h=i,t.b=!1),r=a-t.f,(i=r>=t.j&&i&&!t.b)&&(t.c(t.a,r),t.b=!0,t.a=n.a.currentTime),t=!i}if(t){var o=e.i.smallGapLimit;if(r=e.a.currentTime,t=e.a.buffered,n=ni(t,r),!(null==n||0==n&&!e.h||(i=t.start(n),i>=e.A.Ea()))){a=i-r,o=a<=o;var s=!1;.001>a||(o||e.f||(e.f=!0,r=new ze("largegap",{currentTime:r,gapSize:a}),r.cancelable=!0,e.v(r),e.i.jumpLargeGaps&&!r.defaultPrevented&&(s=!0)),!o&&!s)||(0!=n&&t.end(n-1),e.a.currentTime=i)}}}}}function Zr(e,t,n,i){t==HTMLMediaElement.HAVE_NOTHING||e.readyState>=t?i():(t=ea.get(t),n.ha(e,t,i))}qr.prototype.Gb=function(){return this.b},qr.prototype.Cb=function(){return this.a},$("shaka.media.InitSegmentReference",qr),qr.prototype.getEndByte=qr.prototype.Cb,qr.prototype.getStartByte=qr.prototype.Gb,$r.prototype.we=function(){return this.startTime},$r.prototype.je=function(){return this.endTime},$r.prototype.Gb=function(){return this.b},$r.prototype.Cb=function(){return this.a},$("shaka.media.SegmentReference",$r),$r.prototype.getEndByte=$r.prototype.Cb,$r.prototype.getStartByte=$r.prototype.Gb,$r.prototype.getEndTime=$r.prototype.je,$r.prototype.getStartTime=$r.prototype.we,i=Gr.prototype,i.getDuration=function(){return this.g},i.oe=function(){return this.a},i.ya=function(e){this.g=e},i.ve=function(){return this.f},i.Pd=function(e){this.j=e},i.Pb=function(e){this.m=e},i.ld=function(e){this.h=e},i.Xe=function(e){this.oc=e},i.ie=function(){return this.oc},i.mb=function(e){if(0!=e.length){var t=e[e.length-1].endTime;this.Vc(e[0].startTime),this.a=e.reduce((function(e,t){return Math.max(e,t.endTime-t.startTime)}),this.a),this.b=Math.max(this.b,t),null!=this.f&&this.A&&(this.f=(Date.now()+this.j)/1e3-this.b-this.a)}},i.Vc=function(e){this.c=null==this.c?e:Math.min(this.c,e)},i.Uc=function(e){this.a=Math.max(this.a,e)},i.offset=function(e){null!=this.c&&(this.c+=e),null!=this.b&&(this.b+=e)},i.S=function(){return 1/0==this.g&&!this.m},i.Ta=function(){return 1/0!=this.g&&!this.m},i.Qa=function(){return Math.max(this.v,this.Ka()-this.h)},i.Qd=function(e){this.v=e},i.Ka=function(){return this.S()||this.Ta()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.a-this.f),this.g):this.g},i.Fb=function(e){var t=Math.max(this.c,this.v);return 1/0==this.h?t:Math.max(t,Math.min(this.Ka()-this.h+e,this.Ea()))},i.ib=function(){return this.Fb(0)},i.Ea=function(){return Math.max(0,this.Ka()-(this.S()||this.Ta()?this.oc:0))},i.Td=function(){return!(null==this.f||null!=this.b&&this.A)},$("shaka.media.PresentationTimeline",Gr),Gr.prototype.usingPresentationStartTime=Gr.prototype.Td,Gr.prototype.getSeekRangeEnd=Gr.prototype.Ea,Gr.prototype.getSeekRangeStart=Gr.prototype.ib,Gr.prototype.getSafeSeekRangeStart=Gr.prototype.Fb,Gr.prototype.getSegmentAvailabilityEnd=Gr.prototype.Ka,Gr.prototype.setUserSeekStart=Gr.prototype.Qd,Gr.prototype.getSegmentAvailabilityStart=Gr.prototype.Qa,Gr.prototype.isInProgress=Gr.prototype.Ta,Gr.prototype.isLive=Gr.prototype.S,Gr.prototype.offset=Gr.prototype.offset,Gr.prototype.notifyMaxSegmentDuration=Gr.prototype.Uc,Gr.prototype.notifyMinSegmentStartTime=Gr.prototype.Vc,Gr.prototype.notifySegments=Gr.prototype.mb,Gr.prototype.getDelay=Gr.prototype.ie,Gr.prototype.setDelay=Gr.prototype.Xe,Gr.prototype.setSegmentAvailabilityDuration=Gr.prototype.ld,Gr.prototype.setStatic=Gr.prototype.Pb,Gr.prototype.setClockOffset=Gr.prototype.Pd,Gr.prototype.getPresentationStartTime=Gr.prototype.ve,Gr.prototype.setDuration=Gr.prototype.ya,Gr.prototype.getMaxSegmentDuration=Gr.prototype.oe,Gr.prototype.getDuration=Gr.prototype.getDuration,Kr.prototype.release=function(){this.g=null,this.c=function(){}},Jr.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.g&&(this.g.stop(),this.g=null),this.c&&(this.c.release(),this.c=null),this.a=this.A=this.v=null},Jr.prototype.Yc=function(){this.h=!0,Qr(this)};var ea=new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]]);function ta(e,t,n){var i=this;this.a=e,this.g=t,this.f=n,this.h=!1,this.b=new mt,this.c=new oa(e),Zr(this.a,HTMLMediaElement.HAVE_METADATA,this.b,(function(){ra(i,i.f)}))}function na(e){return e.h?e.a.currentTime:e.f}function ia(e,t){0<e.a.readyState?sa(e.c,t):Zr(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){ra(e,e.f)}))}function ra(e,t){.001>Math.abs(e.a.currentTime-t)?aa(e):(e.b.ha(e.a,"seeking",(function(){aa(e)})),sa(e.c,0==e.a.currentTime?t:e.a.currentTime))}function aa(e){e.h=!0,e.b.l(e.a,"seeking",(function(){return e.g()}))}function oa(e){var t=this;this.b=e,this.h=10,this.g=this.f=this.c=0,this.a=new Ee((function(){0>=t.c||t.b.currentTime!=t.f?t.a.stop():(t.b.currentTime=t.g,t.c--)}))}function sa(e,t){e.f=e.b.currentTime,e.g=t,e.c=e.h,e.b.currentTime=t,e.a.pa(.1)}function ua(e){function t(){null==n.c?n.f=!0:(n.b.ha(n.a,"seeking",(function(){n.f=!0})),n.a.currentTime=Math.max(0,n.a.currentTime+n.c))}var n=this;this.a=e,this.f=!1,this.c=null,this.b=new mt,Zr(this.a,HTMLMediaElement.HAVE_CURRENT_DATA,this.b,(function(){t()}))}function ca(e,t,n,i,r,a){var o=this;this.c=e,this.a=t.presentationTimeline,this.D=t.minBufferTime||0,this.i=n,this.A=r,this.j=null,this.f=new Jr(e,t.presentationTimeline,n,pa(e,n),a),this.b=new ta(e,(function(){var e=o.f;e.j=!0,e.h=!1,e.f=!1;var t=na(o.b);return e=fa(o,t),.001<Math.abs(e-t)&&(t=Date.now()/1e3,!o.j||o.j<t-1)?(o.j=t,ia(o.b,e),e=void 0):(o.A(),e=void 0),e}),la(this,i)),this.h=new Ee((function(){if(0!=o.c.readyState&&!o.c.paused){var e=na(o.b),t=o.a.ib(),n=o.a.Ea();3>n-t&&(t=n-3),e<t&&(e=fa(o,e),o.c.currentTime=e)}})).pa(.25)}function la(e,t){return null==t?t=1/0>e.a.getDuration()?e.a.ib():e.a.Ea():0>t&&(t=e.a.Ea()+t),da(e,ha(e,t))}function da(e,t){var n=e.a.getDuration();return t>=n?n-e.i.durationBackoff:t}function fa(e,t){var n=Math.max(e.D,e.i.rebufferingGoal),i=e.i.safeSeekOffset,r=e.a.ib(),a=e.a.Ea(),o=e.a.getDuration();3>a-r&&(r=a-3);var s=e.a.Fb(n),u=e.a.Fb(i);return n=e.a.Fb(n+i),t>=o?da(e,t):t>a?a:t<r?ei(e.c.buffered,u)?u:n:t>=s||ei(e.c.buffered,t)?t:n}function ha(e,t){var n=e.a.ib();return t<n?n:(n=e.a.Ea(),t>n?n:t)}function pa(e,t){if(!t.stallEnabled)return null;var n=t.stallSkip,i=new Kr(new Xr(e),t.stallThreshold);return Wr(i,(function(){n?e.currentTime+=n:(e.pause(),e.play())})),i}function ma(e){this.a=e,this.b=null,this.c=0}function ga(e,t,n){return new ma([new $r(e,e+t,(function(){return n}),0,null,null,e,e,e+t)])}function va(e){this.b=e,this.a=this.b.find(0)||0}function ya(){ma.call(this,[]),this.f=[]}function ba(e){var t=this;this.a=e,this.f=!1,this.b=this.a.ic(),this.c=new Ee((function(){t.a.Gd(.25*t.b)}))}function wa(e){e.c.stop();var t=e.f?0:e.b;if(0<=t)try{return void(e.a.ic()!=t&&e.a.kd(t))}catch(n){}e.c.pa(.25),0!=e.a.ic()&&e.a.kd(0)}function Ta(e){var t=this;this.c=e,this.a=new Set,this.b=new Ee((function(){Sa(t,!1)})).pa(.25)}function Sa(e,t){for(var n=d(e.a),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=e.c.currentTime,a=t,o=d(i.g.a),s=o.next();!s.done;s=o.next()){s=s.value;var u=i.f.get(s),c=r<s.startTime?_a:r>s.endTime?Ia:Ca;i.f.set(s,c);for(var l=d(i.h),f=l.next();!f.done;f=l.next())f=f.value,f.ab==u&&f.$a==c&&f.Sa(s,a)}}}function xa(e){var t=this;this.b=function(){},this.a=new Set,this.f=e,this.c=new Ee((function(){for(var e=t.f(),n=d(t.a),i=n.next();!i.done;i=n.next())i=i.value,i.endTime<e.start&&t.a["delete"](i)})).pa(2)}function ka(e,t){e.b=t}function Ea(e){var t=this;this.g=e,this.f=new Map,this.a=function(){},this.b=function(){},this.c=function(){},this.h=[{ab:null,$a:Ca,Sa:function(e,n){return t.a(e,n)}},{ab:_a,$a:Ca,Sa:function(e,n){return t.a(e,n)}},{ab:Ia,$a:Ca,Sa:function(e,n){return t.a(e,n)}},{ab:Ca,$a:_a,Sa:function(e,n){return t.b(e,n)}},{ab:Ca,$a:Ia,Sa:function(e,n){return t.b(e,n)}},{ab:_a,$a:Ia,Sa:function(e,n){return t.c(e,n)}},{ab:Ia,$a:_a,Sa:function(e,n){return t.c(e,n)}}]}function Aa(e,t,n,i){e.a=t,e.b=n,e.c=i}ta.prototype.release=function(){this.b&&(this.b.release(),this.b=null),null!=this.c&&(this.c.release(),this.c=null),this.g=function(){},this.a=null},oa.prototype.release=function(){this.a&&(this.a.stop(),this.a=null),this.b=null},ua.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.a=null},ua.prototype.m=function(e){this.c=this.f?this.c:e},ua.prototype.g=function(){return(this.f?this.a.currentTime:this.c)||0},ua.prototype.v=function(){},ca.prototype.release=function(){this.b&&(this.b.release(),this.b=null),this.f&&(this.f.release(),this.f=null),this.h&&(this.h.stop(),this.h=null),this.c=this.b=this.a=this.i=null,this.A=function(){}},ca.prototype.m=function(e){ia(this.b,e)},ca.prototype.g=function(){var e=na(this.b);return 0<this.c.readyState&&!this.c.paused?ha(this,e):e},ca.prototype.v=function(){this.f.Yc()},i=ma.prototype,i.destroy=function(){return Ot("shaka.media.SegmentIndex","Please use release() instead of destroy()."),this.release(),Promise.resolve()},i.release=function(){this.a=[],this.b&&this.b.stop(),this.b=null},i.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return t+this.c}return this.a.length&&e<this.a[0].startTime?this.c:null},i.get=function(e){return 0==this.a.length?null:(e-=this.c,0>e||e>=this.a.length?null:this.a[e])},i.offset=function(e){for(var t=d(this.a),n=t.next();!n.done;n=t.next())n=n.value,n.startTime+=e,n.endTime+=e,n.timestampOffset+=e},i.kb=function(e){var t=this.a[this.a.length-1],n=[];n=this.a.length?e.filter((function(e){return e.startTime>=t.startTime})):e,t&&n.length&&n[0].startTime==t.startTime&&this.a.pop(),this.a.push.apply(this.a,f(n))},i.Oa=function(e){var t=this.a.length;this.a=this.a.filter((function(t){return t.endTime>e})),this.c+=t-this.a.length},i.Ja=function(e,t){for(;this.a.length;){if(!(this.a[this.a.length-1].startTime>=t))break;this.a.pop()}for(;this.a.length;){if(!(this.a[0].endTime<=e))break;this.a.shift(),this.c++}if(0!=this.a.length){var n=this.a[this.a.length-1];this.a[this.a.length-1]=new $r(n.startTime,t,n.c,n.b,n.a,n.f,n.timestampOffset,n.appendWindowStart,n.appendWindowEnd)}},i.qc=function(e,t){var n=this;this.b&&this.b.stop(),this.b=new Ee((function(){var e=t();n.a.push.apply(n.a,f(e)),0==n.a.length&&(n.b.stop(),n.b=null)})),this.b.pa(e)},ma.prototype[Symbol.iterator]=function(){return new va(this)},$("shaka.media.SegmentIndex",ma),ma.forSingleSegment=ga,ma.prototype.updateEvery=ma.prototype.qc,ma.prototype.fit=ma.prototype.Ja,ma.prototype.evict=ma.prototype.Oa,ma.prototype.merge=ma.prototype.kb,ma.prototype.offset=ma.prototype.offset,ma.prototype.get=ma.prototype.get,ma.prototype.find=ma.prototype.find,ma.prototype.release=ma.prototype.release,ma.prototype.destroy=ma.prototype.destroy,va.prototype.seek=function(e){return e=this.b.find(e),null==e?(this.a=Math.pow(2,31),null):(this.a=e,this.b.get(this.a++))},va.prototype.current=function(){return this.b.get(this.a-1)},va.prototype.next=function(){var e=this.b.get(this.a++);return{value:e,done:!e}},$("shaka.media.SegmentIterator",va),va.prototype.next=va.prototype.next,va.prototype.current=va.prototype.current,va.prototype.seek=va.prototype.seek,b(ya,ma),i=ya.prototype,i.clone=function(){var e=new ya;return e.f=this.f.slice(),e},i.release=function(){for(var e=d(this.f),t=e.next();!t.done;t=e.next())t.value.release();this.f=[]},i.find=function(e){for(var t=0,n=d(this.f),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.find(e);if(null!=r)return r+t;t+=i.c+i.a.length}return null},i.get=function(e){for(var t=0,n=d(this.f),i=n.next();!i.done;i=n.next()){i=i.value;var r=i.get(e-t);if(r)return r;t+=i.c+i.a.length}return null},i.offset=function(){},i.kb=function(){},i.Oa=function(){},i.Ja=function(){},i.qc=function(){},$("shaka.media.MetaSegmentIndex",ya),ya.prototype.updateEvery=ya.prototype.qc,ya.prototype.fit=ya.prototype.Ja,ya.prototype.evict=ya.prototype.Oa,ya.prototype.merge=ya.prototype.kb,ya.prototype.offset=ya.prototype.offset,ya.prototype.get=ya.prototype.get,ya.prototype.find=ya.prototype.find,ya.prototype.release=ya.prototype.release,ba.prototype.release=function(){this.c&&(this.c.stop(),this.c=null),this.a=null},ba.prototype.set=function(e){this.b=e,wa(this)},Ta.prototype.release=function(){this.b.stop();for(var e=d(this.a),t=e.next();!t.done;t=e.next())t.value.release();this.a.clear()},xa.prototype.release=function(){this.b=function(){},this.a.clear(),this.c.stop()},Ea.prototype.release=function(){this.g=null,this.f.clear(),this.a=function(){},this.b=function(){},this.c=function(){}};var _a=1,Ca=2,Ia=3;function Ma(e,t){this.P=He(e),this.a=t==Da,this.C=0}function Pa(){return new xe(2,3,3e3)}i=Ma.prototype,i.ua=function(){return this.C<this.P.byteLength},i.ue=function(){return this.C},i.ke=function(){return this.P.byteLength},i.oa=function(){try{var e=this.P.getUint8(this.C);return this.C+=1,e}catch(t){throw Pa()}},i.Mb=function(){try{var e=this.P.getUint16(this.C,this.a);return this.C+=2,e}catch(t){throw Pa()}},i.K=function(){try{var e=this.P.getUint32(this.C,this.a);return this.C+=4,e}catch(t){throw Pa()}},i.Kd=function(){try{var e=this.P.getInt32(this.C,this.a);return this.C+=4,e}catch(t){throw Pa()}},i.pb=function(){try{if(this.a)var e=this.P.getUint32(this.C,!0),t=this.P.getUint32(this.C+4,!0);else t=this.P.getUint32(this.C,!1),e=this.P.getUint32(this.C+4,!1)}catch(n){throw Pa()}if(2097151<t)throw new xe(2,3,3001);return this.C+=8,t*Math.pow(2,32)+e},i.Wa=function(e){if(this.C+e>this.P.byteLength)throw Pa();var t=Ve(this.P,this.C,e);return this.C+=e,t},i.skip=function(e){if(this.C+e>this.P.byteLength)throw Pa();this.C+=e},i.Md=function(e){if(this.C<e)throw Pa();this.C-=e},i.seek=function(e){if(0>e||e>this.P.byteLength)throw Pa();this.C=e},i.$c=function(){for(var e=this.C;this.ua()&&0!=this.P.getUint8(this.C);)this.C+=1;return e=Ve(this.P,e,this.C-e),this.C+=1,St(e)},$("shaka.util.DataViewReader",Ma),Ma.prototype.readTerminatedString=Ma.prototype.$c,Ma.prototype.seek=Ma.prototype.seek,Ma.prototype.rewind=Ma.prototype.Md,Ma.prototype.skip=Ma.prototype.skip,Ma.prototype.readBytes=Ma.prototype.Wa,Ma.prototype.readUint64=Ma.prototype.pb,Ma.prototype.readInt32=Ma.prototype.Kd,Ma.prototype.readUint32=Ma.prototype.K,Ma.prototype.readUint16=Ma.prototype.Mb,Ma.prototype.readUint8=Ma.prototype.oa,Ma.prototype.getLength=Ma.prototype.ke,Ma.prototype.getPosition=Ma.prototype.ue,Ma.prototype.hasMoreData=Ma.prototype.ua;var Da=1;function Oa(){this.c=[],this.b=[],this.a=!1}function Ra(e){for(var t=null!=e.flags?12:8;e.reader.ua()&&!e.parser.a;)e.parser.nc(e.start+t,e.reader,e.partialOkay)}function Na(e){var t=null!=e.flags?12:8,n=e.reader.K();n=d(se(n));for(var i=n.next();!i.done&&(e.parser.nc(e.start+t,e.reader,e.partialOkay),!e.parser.a);i=n.next());}function La(e){return function(t){e(t.reader.Wa(t.reader.P.byteLength-t.reader.C))}}function Ua(e){var t=0;e=d(e);for(var n=e.next();!n.done;n=e.next())t=t<<8|n.value.charCodeAt(0);return t}function ja(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)}Ma.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:Da},i=Oa.prototype,i.box=function(e,t){var n=Ua(e);return this.c[n]=Fa,this.b[n]=t,this},i.ea=function(e,t){var n=Ua(e);return this.c[n]=Ba,this.b[n]=t,this},i.stop=function(){this.a=!0},i.parse=function(e,t){var n=new Ma(e,0);for(this.a=!1;n.ua()&&!this.a;)this.nc(0,n,t)},i.nc=function(e,t,n){var i=t.C,r=t.K(),a=t.K();switch(r){case 0:r=t.P.byteLength-i;break;case 1:r=t.pb()}var o=this.b[a];if(o){var s=null,u=null;this.c[a]==Ba&&(u=t.K(),s=u>>>24,u&=16777215),a=i+r,n&&a>t.P.byteLength&&(a=t.P.byteLength),a-=t.C,t=0<a?t.Wa(a):new Uint8Array(0),t=new Ma(t,0),o({parser:this,partialOkay:n||!1,version:s,flags:u,reader:t,size:r,start:i+e})}else t.skip(Math.min(i+r-t.C,t.P.byteLength-t.C))},$("shaka.util.Mp4Parser",Oa),Oa.typeToString=ja,Oa.allData=La,Oa.sampleDescription=Na,Oa.children=Ra,Oa.prototype.parseNext=Oa.prototype.nc,Oa.prototype.parse=Oa.prototype.parse,Oa.prototype.stop=Oa.prototype.stop,Oa.prototype.fullBox=Oa.prototype.ea,Oa.prototype.box=Oa.prototype.box;var Fa=0,Ba=1;function Va(e,t,n,i){return e=rt(e,i),0==t&&null==n||(e.headers.Range=n?"bytes="+t+"-"+n:"bytes="+t+"-"),e}function Ha(e,t){var n=this;this.s=t,this.o=e,this.i=null,this.f=1,this.c=this.b=null,this.a=new Map,this.h=!1,this.j=null,this.g=!1,this.F=new ht((function(){return qa(n)}))}function qa(e){var t,n,i,r;return j((function(a){if(1==a.a){for(t=[],n=d(e.a.values()),i=n.next();!i.done;i=n.next())r=i.value,ho(r),t.push(po(r));return x(a,Promise.all(t),2)}e.a.clear(),e.s=null,e.o=null,e.i=null,k(a)}))}function za(e,t){var n,i,r,a,o;j((function(s){switch(s.a){case 1:return n=qt,E(s,2),x(s,$i(e.s.L,n.$),4);case 4:_(s,3);break;case 2:i=C(s),e.s&&e.s.onError(i);case 3:r=Kt(t.mimeType,t.codecs),Ui(e.s.L,r),a=e.s.L.h,(a.isTextVisible()||e.i.alwaysStreamText)&&(o=Za(t),e.a.set(n.$,o),fo(e,o,0)),k(s)}}))}function $a(e){var t=e.a.get("text");t&&(ho(t),po(t)["catch"]((function(){})),e.a["delete"]("text")),e.c=null}function Ga(e,t){var n=e.a.get("video");if(n){var i=n.stream;if(i)if(t){var r=i.trickModeVideo;r&&!n.Ya&&(Xa(e,r,!1,0,!1),n.Ya=i)}else(i=n.Ya)&&(n.Ya=null,Xa(e,i,!0,0,!1))}}function Ka(e,t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.b=t,e.h&&(t.video&&Xa(e,t.video,n,i,!1),t.audio&&Xa(e,t.audio,n,i,!1))}function Wa(e,t){e.c=t,e.h&&Xa(e,t,!0,0,!1)}function Xa(e,t,n,i,r){var a=e.a.get(t.type);a||"text"!=t.type?a&&(a.Ya&&(t.trickModeVideo?(a.Ya=t,t=t.trickModeVideo):a.Ya=null),a.stream!=t||r)&&("text"==t.type&&Ui(e.s.L,Kt(t.mimeType,t.codecs)),a.stream=t,a.xa=null,n&&(a.zb?a.tc=!0:a.Va?(a.rb=!0,a.dc=i,a.tc=!0):(ho(a),lo(e,a,!0,i)["catch"]((function(t){e.s&&e.s.onError(t)})))),Ya(e,a)["catch"]((function(t){e.s&&e.s.onError(t)}))):za(e,t)}function Ya(e,t){var n,i;return j((function(r){if(1==r.a)return t.ia?(n=t.stream,i=t.ia,n.segmentIndex?r.u(2):x(r,n.createSegmentIndex(),2)):r["return"]();if(t.ia!=i||t.stream!=n)return r["return"]();t.xa=t.stream.segmentIndex[Symbol.iterator]();var a=e.s.hc(),o=Bi(e.s.L,t.type),s=to(e,t,a,o),u=s&&s.a?s.a-s.b:null;s&&!u&&(u=(s.endTime-s.startTime)*(t.stream.bandwidth||0)/8),u?((s=s.f)&&(u+=(s.a?s.a-s.b:null)||0),s=e.s.getBandwidthEstimate(),a=8*u/s<(o||0)-a-Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal)||t.ia.b.a>u):a=!1,a&&t.ia.abort(),k(r)}))}function Ja(e,t){t.zb||t.rb||(t.Va?(t.rb=!0,t.dc=0):null==Fi(e.s.L,t.type)?null==t.Ha&&fo(e,t,0):(ho(t),lo(e,t,!1,0)["catch"]((function(t){e.s&&e.s.onError(t)}))))}function Qa(e){var t,n,i,r,a,o,s,u,c,l;return j((function(f){if(1==f.a){if(t=qt,!e.b)throw new xe(2,5,5006);return n=new Map,i=new Set,e.b.audio&&(n.set(t.eb,e.b.audio),i.add(e.b.audio)),e.b.video&&(n.set(t.Ca,e.b.video),i.add(e.b.video)),e.c&&(n.set(t.$,e.c),i.add(e.c)),r=e.s.L,a=e.i.forceTransmuxTS,x(f,r.init(n,a),2)}pt(e.F);var h=e.o.presentationTimeline.getDuration();for(1/0>h?e.s.L.ya(h):e.s.L.ya(Math.pow(2,32)),o=d(n.keys()),s=o.next();!s.done;s=o.next())u=s.value,c=n.get(u),e.a.has(u)||(l=Za(c),e.a.set(u,l),fo(e,l,0));k(f)}))}function Za(e){var t=e.segmentIndex?e.segmentIndex[Symbol.iterator]():null;return{stream:e,type:e.type,Jb:null,xa:t,La:null,Rc:null,Sc:null,Qc:null,Pc:null,Ya:null,endOfStream:!1,Va:!1,Ha:null,rb:!1,dc:0,tc:!1,zb:!1,cd:!1,Hb:!1,ia:null}}function eo(e,t){if(uo(t))return zi(e.s.L,t.stream.originalId||""),null;var n=e.s.hc(),i=t.Jb&&t.La?t.La.endTime:n,r=Vi(e.s.L,t.type,n),a=Math.max(e.o.minBufferTime||0,e.i.rebufferingGoal,e.i.bufferingGoal)*e.f;if(i>=e.o.presentationTimeline.getDuration())return t.endOfStream=!0,"video"==t.type&&(n=e.a.get("text"))&&uo(n)&&(n.endOfStream=!0),null;if(t.endOfStream=!1,r>=a)return.5;if(r=Bi(e.s.L,t.type),r=to(e,t,n,r),!r||!no(e,r))return 1;a=1/0;var o=Array.from(e.a.values());o=d(o);for(var s=o.next();!s.done;s=o.next())s=s.value,uo(s)||(a=Math.min(a,s.Jb&&s.La?s.La.endTime:n));return i>=a+e.o.presentationTimeline.a?1:(io(e,t,n,r)["catch"]((function(){})),null)}function to(e,t,n,i){return t.stream==t.Jb?t.xa.current():t.La?t.xa.seek(t.La.endTime):i?t.xa.seek(i):((i=t.xa.seek(Math.max(n-e.i.inaccurateManifestTolerance,0)))&&no(e,i)||(i=t.xa.seek(n)),i)}function no(e,t){var n=e.o.presentationTimeline,i=n.Ka();return!(t.endTime<n.Qa()||t.startTime>i)}function io(e,t,n,i){var r,a,o,s,u,c,l,d;return j((function(f){switch(f.a){case 1:return r=qt,a=t.stream,t.Va=!0,o=ao(e,t,i),s=co(e,t,i),E(f,2),x(f,Promise.all([o,s]),4);case 4:return u=f.b,pt(e.F),e.g?f["return"]():x(f,oo(e,t,n,a,i,u[1]),5);case 5:if(pt(e.F),e.g)return f["return"]();t.Va=!1,t.cd=!1,c=e.s.L.fc(),l=c[t.type],JSON.stringify(l),t.rb||e.s.Yc(),fo(e,t,0),_(f,0);break;case 2:if(d=C(f),pt(e.F,d),e.g)return f["return"]();t.Va=!1,t.type==r.$&&e.i.ignoreTextStreamFailures?e.a["delete"](r.$):7001==d.code?(t.Va=!1,t.Ha=null,fo(e,t,0)):3017==d.code?ro(e,t,d):(t.Hb=!0,d.severity=2,mo(e,d)),k(f)}}))}function ro(e,t,n){if(!Array.from(e.a.values()).some((function(e){return e!=t&&e.cd}))){var i=Math.round(100*e.f);if(20<i)e.f-=.2;else{if(!(4<i))return t.Hb=!0,e.g=!0,void e.s.onError(n);e.f-=.04}t.cd=!0}fo(e,t,4)}function ao(e,t,n){var i,r,a,o,s,u,c;return j((function(l){return i=[],r=Math.max(0,n.appendWindowStart-.1),a=n.appendWindowEnd+.01,o=n.timestampOffset,o==t.Sc&&r==t.Qc&&a==t.Pc||(s=function(){var n;return j((function(i){if(1==i.a)return E(i,2),t.Qc=r,t.Pc=a,t.Sc=o,x(i,Gi(e.s.L,t.type,o,r,a),4);if(2!=i.a)return _(i,0);throw n=C(i),t.Qc=null,t.Pc=null,t.Sc=null,n}))},i.push(s())),!zr(n.f,t.Rc)&&(t.Rc=n.f)&&(u=co(e,t,n.f),c=function(){var n,i,r;return j((function(a){switch(a.a){case 1:return E(a,2),x(a,u,4);case 4:return n=a.b,pt(e.F),i=t.stream.closedCaptions&&0<t.stream.closedCaptions.size,x(a,qi(e.s.L,t.type,n,null,null,i),5);case 5:_(a,0);break;case 2:throw r=C(a),t.Rc=null,r}}))},i.push(c())),x(l,Promise.all(i),0)}))}function oo(e,t,n,i,r,a){var o;return j((function(s){return 1==s.a?(o=i.closedCaptions&&0<i.closedCaptions.size,null!=i.emsgSchemeIdUris&&0<i.emsgSchemeIdUris.length&&(new Oa).ea("emsg",(function(t){var n=i.emsgSchemeIdUris,a=t.reader.$c(),o=t.reader.$c(),s=t.reader.K(),u=t.reader.K(),c=t.reader.K(),l=t.reader.K();t=t.reader.Wa(t.reader.P.byteLength-t.reader.C);var d=r.startTime+u/s;n.includes(a)&&("urn:mpeg:dash:event:2012"==a?e.s.He():(n=new ze(eu,{detail:{startTime:d,endTime:d+c/s,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:c,id:l,messageData:t}}),e.s.onEvent(n)))})).parse(a),x(s,so(e,t,n),2)):3!=s.a?(pt(e.F),x(s,qi(e.s.L,t.type,a,r.startTime,r.endTime,o),3)):(pt(e.F),t.Jb=i,t.La=r,t.stream==i&&t.xa.next(),void k(s))}))}function so(e,t,n){var i,r,a,o;return j((function(s){if(1==s.a)return i=Math.max(e.i.bufferBehind,e.o.presentationTimeline.a),r=Fi(e.s.L,t.type),null==r?s["return"]():(a=n-r,o=a-i,0>=o?s["return"]():x(s,e.s.L.remove(t.type,r,r+o),2));pt(e.F),k(s)}))}function uo(e){return e&&"text"==e.type&&"application/cea-608"==e.stream.mimeType}function co(e,t,n){var i,r,a,o;return j((function(s){return 1==s.a?(i=lt,r=Va(n.c(),n.b,n.a,e.i.retryParameters),a=e.s.lb.request(i,r),t.ia=a,x(s,a.promise,2)):(o=s.b,t.ia=null,s["return"](o.data))}))}function lo(e,t,n,i){var r,a;return j((function(o){return 1==o.a?(t.rb=!1,t.tc=!1,t.dc=0,t.zb=!0,t.Jb=null,t.La=null,i?(r=e.s.hc(),a=e.s.L.getDuration(),x(o,e.s.L.remove(t.type,r+i,a),3)):x(o,$i(e.s.L,t.type),4)):3!=o.a?(pt(e.F),n?x(o,e.s.L.flush(t.type),3):o.u(3)):(pt(e.F),t.zb=!1,t.endOfStream=!1,fo(e,t,0),void k(o))}))}function fo(e,t,n){t.Ha=new ke((function(){var n;return j((function(i){return 1==i.a?(E(i,2),x(i,e.Kb(t),4)):2!=i.a?_(i,0):(n=C(i),e.s&&e.s.onError(n),void k(i))}))})).R(n)}function ho(e){null!=e.Ha&&(e.Ha.stop(),e.Ha=null)}function po(e){return j((function(t){return e.ia?x(t,e.ia.abort(),0):t.u(0)}))}function mo(e,t){j((function(n){if(1==n.a)return x(n,_e(e.j),2);pt(e.F),e.s.onError(t),t.handled||e.i.failureCallback(t),k(n)}))}function go(e,t){var n=Ws(),i=this;this.h=t,this.c=e,this.f=n,this.j=null,this.g=[],this.b=this.a=null,this.m=Promise.resolve().then((function(){return bo(i)})),this.F=new ht((function(){return vo(i)}))}function vo(e){var t,n,i;return j((function(r){if(1==r.a)return e.b&&e.b.abort(),To(e),x(r,e.m,2);for(e.a&&e.a.va.Ua(),t=d(e.g),n=t.next();!n.done;n=t.next())i=n.value,i.va.Ua();e.a=null,e.g=[],e.h=null,k(r)}))}function yo(e,t){var n={nb:function(){},kc:function(){},Ua:function(){},onError:function(){},mc:function(){},Lf:function(){}};return e.g.push({create:t,va:n}),e.b&&e.b.abort(),To(e),n}function bo(e){return j((function(t){if(e.F.a)t=t.u(0);else{if(0==e.g.length||e.a&&!e.a.Ra)var n=!1;else{e.a&&(e.a.va.Ua(),e.a=null),n=e.g.shift();var i=n.create(e.f);i?(n.va.nb(),e.a={node:i.node,payload:i.payload,Ra:i.Ra,va:n.va}):n.va.mc(),n=!0}n?n=Promise.resolve():e.a?n=wo(e):(e.h.Ge(e.c),e.j=new Ie,n=e.j),t=x(t,n,1)}return t}))}function wo(e){var t,n;return j((function(i){switch(i.a){case 1:return e.c=e.h.qe(e.c,e.f,e.a.node,e.a.payload),E(i,2),e.b=e.h.fe(e.c,e.f,e.a.payload),x(i,e.b.promise,4);case 4:e.b=null,e.c==e.a.node&&(e.a.va.kc(),e.a=null),_(i,0);break;case 2:return t=C(i),7001==t.code?e.a.va.Ua():e.a.va.onError(t),e.a=null,e.b=null,n=e,x(i,e.h.handleError(e.f,t),5);case 5:n.c=i.b,k(i)}}))}function To(e){e.j&&(e.j.resolve(),e.j=null)}function So(e){this.a=null;for(var t=d(Array.from(e.textTracks)),n=t.next();!n.done;n=t.next())n=n.value,n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n);this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden"}function xo(e){if(e.startTime>=e.endTime)return null;var t=new VTTCue(e.startTime,e.endTime,e.payload);t.lineAlign=e.lineAlign,t.positionAlign=e.positionAlign,e.size&&(t.size=e.size);try{t.align=e.textAlign}catch(n){}return"center"==e.textAlign&&"center"!=t.align&&(t.align="middle"),"vertical-lr"==e.writingMode?t.vertical="lr":"vertical-rl"==e.writingMode&&(t.vertical="rl"),1==e.lineInterpretation&&(t.snapToLines=!1),null!=e.line&&(t.line=e.line),null!=e.position&&(t.position=e.position),t}function ko(e,t){var n=e.mode;e.mode="showing"==n?"showing":"hidden";for(var i=d(Array.from(e.cues)),r=i.next();!r.done;r=i.next())(r=r.value)&&t(r)&&e.removeCue(r);e.mode=n}function Eo(){}function Ao(e,t){var n=this;this.h=!1,this.f=[],this.a=e,this.g=t,this.b=document.createElement("div"),this.b.classList.add("shaka-text-container"),this.b.style.textAlign="center",this.b.style.display="flex",this.b.style.flexDirection="column",this.b.style.alignItems="center",this.b.style.justifyContent="flex-end",this.g.appendChild(this.b),this.j=new Ee((function(){_o(n)})).pa(.25),this.c=new Map}function _o(e){function t(t){return e.f.includes(t)&&e.h&&t.startTime<=n&&t.endTime>=n}for(var n=e.a.currentTime,i=d(e.c.keys()),r=i.next();!r.done;r=i.next())if(r=r.value,!t(r)){var a=e.c.get(r);e.b.removeChild(a),e.c["delete"](r)}for(i=new Set(e.c.values()),r=d(Array.from(e.b.childNodes)),a=r.next();!a.done;a=r.next())a=a.value,i.has(a)||e.b.removeChild(a);for(i=e.f.filter((function(n){return t(n)&&!e.c.has(n)})).sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime-t.endTime})),i=d(i),r=i.next();!r.done;r=i.next())Io(e,e.b,r.value)}function Co(e,t,n,i){var r=document.createElement("span");return i&&r.classList.add("shaka-nested-cue"),n.spacer?r.style.display="block":Mo(e,r,n,!0),t.appendChild(r),r}function Io(e,t,n){if(n.nestedCues.length){var i=document.createElement("p");i.style.width="100%",Mo(e,i,n,!1);for(var r=0;r<n.nestedCues.length;r++)Co(e,i,n.nestedCues[r],!0);t.appendChild(i),e.c.set(n,i)}else e.c.set(n,Co(e,t,n,!1))}function Mo(e,t,n,i){var r=t.style;r.whiteSpace="pre-line",t.textContent=n.payload,i&&(r.backgroundColor=n.backgroundColor),r.border=n.border,r.color=n.color,r.direction=n.direction,r.opacity=n.opacity,r.paddingLeft=Po(n.linePadding,n,e.g),r.paddingRight=Po(n.linePadding,n,e.g),n.backgroundImage&&(r.backgroundImage="url('"+n.backgroundImage+"')",r.backgroundRepeat="no-repeat",r.backgroundSize="contain",r.backgroundPosition="center",""==n.backgroundColor&&(r.backgroundColor="transparent")),n.backgroundImage&&n.region&&(t=n.region.widthUnits==ki?"%":"px",r.height=n.region.height+(n.region.heightUnits==ki?"%":"px"),r.width=n.region.width+t),r.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end",n.nestedCues.length&&(r.display="flex",r.flexDirection="row",r.margin="0",r.alignItems=r.justifyContent,r.justifyContent="center"),i&&(r.maxWidth="100%"),r.fontFamily=n.fontFamily,r.fontWeight=n.fontWeight.toString(),r.fontStyle=n.fontStyle,r.letterSpacing=n.letterSpacing,r.fontSize=Po(n.fontSize,n,e.g),n.line?1==n.lineInterpretation&&(r.position="absolute",n.writingMode==gi?n.lineAlign==yi?r.top=n.line+"%":"end"==n.lineAlign&&(r.bottom=n.line+"%"):"vertical-lr"==n.writingMode?n.lineAlign==yi?r.left=n.line+"%":"end"==n.lineAlign&&(r.right=n.line+"%"):n.lineAlign==yi?r.right=n.line+"%":"end"==n.lineAlign&&(r.left=n.line+"%")):n.region&&n.region.id&&!i&&(e=n.region.widthUnits==ki?"%":"px",i=n.region.viewportAnchorUnits==ki?"%":"px",r.height=n.region.height+(n.region.heightUnits==ki?"%":"px"),r.width=n.region.width+e,r.position="absolute",r.top=n.region.viewportAnchorY+i,r.left=n.region.viewportAnchorX+i),r.lineHeight=n.lineHeight,n.position&&(n.writingMode==gi?r.paddingLeft=n.position:r.paddingTop=n.position),"line-left"==n.positionAlign?r.cssFloat="left":"line-right"==n.positionAlign&&(r.cssFloat="right"),r.textAlign=n.textAlign,r.textDecoration=n.textDecoration.join(" "),r.writingMode=n.writingMode,n.size&&(n.writingMode==gi?r.width=n.size+"%":r.height=n.size+"%")}function Po(e,t,n){var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(e))?{value:Number(i[1]),bf:i[2]}:null;if(!i)return e;var r=i.value;switch(i.bf){case"%":return r/100*n.clientHeight/t.cellResolution.rows+"px";case"c":return n.clientHeight*r/t.cellResolution.rows+"px";default:return e}}function Do(){}function Oo(e,t,n,i,r){var a,o=r in i,s=!0;for(a in t){var u=r+"."+a,c=o?i[r]:n[a];o||a in n?void 0===t[a]?void 0===c||o?delete e[a]:e[a]=We(c):c.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=We(c)),u=Oo(e[a],t[a],c,i,u),s=s&&u):typeof t[a]!=typeof c||null==t[a]||"function"!=typeof t[a]&&t[a].constructor!=c.constructor?(J("Invalid config, wrong type for "+u),s=!1):("function"==typeof n[a]&&n[a].length!=t[a].length&&Q("Unexpected number of arguments for "+u),e[a]=t[a]):(J("Invalid config, unrecognized key "+u),s=!1)}return s}function Ro(e,t){for(var n={},i=n,r=0,a=0;;){if(r=e.indexOf(".",r),0>r)break;0!=r&&"\\"==e[r-1]||(a=e.substring(a,r).replace(/\\\./g,"."),i[a]={},i=i[a],a=r+1),r+=1}return i[e.substring(a).replace(/\\\./g,".")]=t,n}function No(){}function Lo(){var e=1e6,t=1/0;navigator.connection&&(navigator.connection.downlink&&(e=1e6*navigator.connection.downlink),navigator.connection.saveData&&(t=360));var n={retryParameters:Ce(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,initDataTransform:Pn,logLicenseExchange:!1,updateExpirationTime:1},i={retryParameters:Ce(),availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,defaultPresentationDelay:0,dash:{clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1},hls:{ignoreTextStreamFailures:!1,useFullSegmentsForStartTime:!1}},r={retryParameters:Ce(),failureCallback:function(e){return[e]},rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1,forceTransmuxTS:!1,safeSeekOffset:5,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsOnSafari:!0,inaccurateManifestTolerance:2};(nn("Web0S")||nn("Tizen")||nn("CrKey"))&&(r.stallSkip=0);var a={trackSelectionCallback:function(e){return j((function(t){return t["return"](e)}))},progressCallback:function(e,t){return[e,t]},usePersistentLicense:!0},o={drm:n,manifest:i,streaming:r,offline:a,abrFactory:function(){return new Sr},abr:{enabled:!0,defaultBandwidthEstimate:e,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:t,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",preferredVariantRole:"",preferredTextRole:"",preferredAudioChannelCount:2,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayFactory:function(){return null}};return a.trackSelectionCallback=function(e){return j((function(t){return t["return"](jo(e,o.preferredAudioLanguage))}))},o}function Uo(e,t,n){var i={".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0),individualizationServer:""}};return Oo(e,t,n||Lo(),i,"")}function jo(e,t){var n=e.filter((function(e){return"variant"==e.type})),i=[],r=ar(t,n.map((function(e){return e.language})));r&&(i=n.filter((function(e){return nr(e.language)==r}))),0==i.length&&(i=n.filter((function(e){return e.primary}))),0==i.length&&(n.map((function(e){return e.language})),i=n);var a=i.filter((function(e){return e.height&&480>=e.height}));if(a.length&&(a.sort((function(e,t){return t.height-e.height})),i=a.filter((function(e){return e.height==a[0].height}))),n=[],i.length){var o=Math.floor(i.length/2);i.sort((function(e,t){return e.bandwidth-t.bandwidth})),n.push(i[o])}for(i=d(e),o=i.next();!o.done;o=i.next())o=o.value,"text"==o.type&&n.push(o);return n}function Fo(){this.a=null,this.b=[]}function Bo(e,t){if(null==e.a)e.a={timestamp:Date.now()/1e3,state:t,duration:0};else{var n=Date.now()/1e3;e.a.duration=n-e.a.timestamp,e.a.state!=t&&(e.b.push(e.a),e.a={timestamp:n,state:t,duration:0})}}function Vo(e,t){var n=0;e.a&&e.a.state==t&&(n+=e.a.duration);for(var i=d(e.b),r=i.next();!r.done;r=i.next())r=r.value,n+=r.state==t?r.duration:0;return n}function Ho(e){function t(e){return{timestamp:e.timestamp,state:e.state,duration:e.duration}}for(var n=[],i=d(e.b),r=i.next();!r.done;r=i.next())n.push(t(r.value));return e.a&&n.push(t(e.a)),n}function qo(){this.b=this.c=null,this.a=[]}function zo(e,t,n){e.c!=t&&(e.c=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth}))}function $o(e,t,n){e.b!=t&&(e.b=t,e.a.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null}))}function Go(){this.g=this.h=this.A=this.m=this.D=this.c=this.v=this.f=this.H=this.I=this.J=this.j=this.M=NaN,this.b=new Fo,this.a=new qo}function Ko(t,n){Ke.call(this);var i=this;this.g=Tu,this.ac=this.a=null,this.T=!1,this.b=new mt,this.Dc=this.j=this.wb=this.o=this.Zb=this.m=this.c=this.$b=this.D=this.Wb=this.A=this.Aa=this.v=this.H=this.h=this.N=null,this.rd=1e9,this.i=Ts(this),this.uc={width:1/0,height:1/0},this.f=null,this.xb=new Ir(this.i.preferredAudioLanguage,this.i.preferredVariantRole,this.i.preferredAudioChannelCount),this.ca=this.i.preferredTextLanguage,this.Xb=this.i.preferredTextRole,this.Ec=[],n&&n(this),this.N=ds(this),this.I=null,_u&&(this.I=Bt(_u)),this.b.l(e,"online",(function(){i.dd()})),this.da={name:"detach"},this.Da={name:"attach"},this.M={name:"unload"},this.Jc={name:"manifest-parser"},this.Ic={name:"manifest"},this.ra={name:"media-source"},this.Fc={name:"drm-engine"},this.J={name:"load"},this.Kc={name:"src-equals-drm-engine"},this.Ba={name:"src-equals"};var r=new Map;r.set(this.Da,(function(e,t){return Re(Yo(i,e,t))})),r.set(this.da,(function(e){return e.B&&(i.b.qa(e.B,"error"),e.B=null),i.a=null,e=Promise.resolve(),Re(e)})),r.set(this.M,(function(e){return Re(Jo(i,e))})),r.set(this.ra,(function(e){return e=Qo(i,e),Re(e)})),r.set(this.Jc,(function(e,t){var n=Zo(i,e,t);return Re(n)})),r.set(this.Ic,(function(e){return es(i,e)})),r.set(this.Fc,(function(){var e=ts(i);return Re(e)})),r.set(this.J,(function(e,t){return Re(ns(i,e,t))})),r.set(this.Kc,(function(e){return e=is(i,e),Re(e)})),r.set(this.Ba,(function(e,t){return rs(i,e,t)})),this.W=new go(this.da,{qe:function(e,t,n,r){var a=null;return e==i.da&&(a=n==i.da?i.da:i.Da),e==i.Da&&(a=n==i.da||t.B!=r.B?i.da:n==i.Da?i.Da:n==i.ra||n==i.J?i.ra:n==i.Ba?i.Kc:null),e==i.ra&&(a=n==i.J&&t.B==r.B?i.Jc:i.M),e==i.Jc&&(a=Ks(i.J,i.Ic,i.M,n,t,r)),e==i.Ic&&(a=Ks(i.J,i.Fc,i.M,n,t,r)),e==i.Fc&&(a=Ks(i.J,i.J,i.M,n,t,r)),e==i.Kc&&(a=n==i.Ba&&t.B==r.B?i.Ba:i.M),e!=i.J&&e!=i.Ba||(a=i.M),e==i.M&&(a=r.B&&t.B==r.B?i.Da:i.da),a},fe:function(e,t,n){return i.dispatchEvent(Wo(su,{state:e.name})),r.get(e)(t,n)},handleError:function(e){return j((function(t){return 1==t.a?x(t,Jo(i,e),2):t["return"](e.B?i.Da:i.da)}))},Ge:function(e){i.dispatchEvent(Wo(uu,{state:e.name}))}}),t&&this.yb(t,!0)}function Wo(e,t){return new ze(e,t)}function Xo(e,t){if(!Jt())return!0;var n=t.mimeType,i=t.uri||"";return n||(n={mp4:"video/mp4",m4v:"video/mp4",m4a:"audio/mp4",webm:"video/webm",weba:"audio/webm",mkv:"video/webm",ts:"video/mp2t",ogv:"video/ogg",ogg:"audio/ogg",mpg:"video/mpeg",mpeg:"video/mpeg",m3u8:"application/x-mpegurl",mp3:"audio/mpeg",aac:"audio/aac",flac:"audio/flac",wav:"audio/wav"}[Br(i)]),!!n&&(""!=(t.B||rn()).canPlayType(n)&&(!Jt()||!(n in Vr)&&!(Br(i)in Hr)||en()&&e.i.streaming.useNativeHlsOnSafari))}function Yo(e,t,n){return null==t.B&&(t.B=n.B,e.b.l(t.B,"error",(function(){var t=js(e);t&&Ls(e,t)}))),e.a=t.B,Promise.resolve()}function Jo(e,t){var n,i,r,a,o,s,u,c,l;return j((function(f){switch(f.a){case 1:return e.g!=wu&&(e.g=Tu),n=e.Ec.map((function(e){return e()})),e.Ec=[],x(f,Promise.all(n),2);case 2:if(e.dispatchEvent(Wo(vu)),t.mimeType=null,t.startTime=null,t.uri=null,t.B&&(e.b.qa(t.B,"loadedmetadata"),e.b.qa(t.B,"playing"),e.b.qa(t.B,"pause"),e.b.qa(t.B,"ended"),e.b.qa(t.B,"ratechange")),e.Aa&&(e.Aa.release(),e.Aa=null),e.Wb&&(e.Wb.stop(),e.Wb=null),!e.m){f.u(3);break}return x(f,e.m.stop(),4);case 4:e.m=null,e.Zb=null;case 3:if(!e.j){f.u(5);break}return x(f,e.j.stop(),5);case 5:if(!e.c){f.u(7);break}return x(f,e.c.destroy(),8);case 8:e.c=null;case 7:if(e.A&&(e.A.release(),e.A=null),e.v&&(e.v.release(),e.v=null),!e.H){f.u(9);break}return x(f,e.H.destroy(),10);case 10:e.H=null;case 9:if(e.I&&e.I.onAssetUnload(),!t.B||!t.B.src){f.u(11);break}return x(f,new Promise((function(e){return new Ee(e).R(.1)})),12);case 12:t.B.removeAttribute("src"),t.B.load();case 11:if(!e.h){f.u(13);break}return x(f,e.h.destroy(),14);case 14:e.h=null;case 13:if(e.wb=null,e.D=null,e.o){for(i=d(e.o.variants),r=i.next();!r.done;r=i.next())for(a=r.value,o=d([a.audio,a.video]),s=o.next();!s.done;s=o.next())(u=s.value)&&u.segmentIndex&&u.segmentIndex.release();for(c=d(e.o.textStreams),s=c.next();!s.done;s=c.next())l=s.value,l.segmentIndex&&l.segmentIndex.release()}e.o=null,e.f=new Go,e.Gc=null,ks(e),k(f)}}))}function Qo(t,n){var i,r,a,o;return j((function(s){if(1==s.a)return i=e.muxjs?new Jn:new Qn,r=t.i.textDisplayFactory,a=Bt(r),t.Gc=r,o=gs(n.B,i,a,(function(e,n,i){e=d(e);for(var r=e.next();!r.done;r=e.next())if(r=r.value,r.data&&r.cueTime&&r.frames){for(var a=r.cueTime+n,o=i,s=d(r.frames),u=s.next();!u.done;u=s.next())us(t,a,o,"ID3",u.value);t.I&&t.I.onHlsTimedMetadata(r,a)}})),x(s,o.A,2);t.H=o,k(s)}))}function Zo(e,t,n){var i,r,a,o;return j((function(s){if(1==s.a)return t.mimeType=n.mimeType,t.uri=n.uri,i=t.uri,r=e.N,e.wb=i,a=e,x(s,jr(i,r,e.i.manifest.retryParameters,t.mimeType),2);a.Zb=s.b,e.m=Bt(e.Zb),o=We(e.i.manifest),n.B&&"AUDIO"===n.B.nodeName&&(o.disableVideo=!0),e.m.configure(o),k(s)}))}function es(e,t){var n=t.uri,i=e.N;e.$b=new xa((function(){return e.ed()})),ka(e.$b,(function(t){Us(e,hu,t),e.I&&e.I.onDashTimedMetadata(t)}));var r={networkingEngine:i,filter:function(t){return j((function(n){return n["return"](e.fb(t))}))},makeTextStreamsForClosedCaptions:function(t){return Ss(e,t)},onTimelineRegionAdded:function(t){var n=e.$b;e:{for(var i=d(n.a),r=i.next();!r.done;r=i.next())if(r=r.value,r.schemeIdUri==t.schemeIdUri&&r.id==t.id&&r.startTime==t.startTime&&r.endTime==t.endTime){i=r;break e}i=null}null==i&&(n.a.add(t),n.b(t))},onEvent:function(t){return e.dispatchEvent(t)},onError:function(t){return Ls(e,t)}},a=Date.now()/1e3;return new Me(function(){var t,i,o,s;return j((function(u){if(1==u.a)return t=e,x(u,e.m.start(n,r),2);if(t.o=u.b,i=Wo(au),e.dispatchEvent(i),0==e.o.variants.length)throw new xe(2,4,4036);cs(e.o),o=Date.now()/1e3,s=o-a,e.f.v=s,k(u)}))}(),(function(){return e.m.stop()}))}function ts(e){var t,n;return j((function(i){if(1==i.a)return t=Date.now()/1e3,n=!0,e.h=ls(e,{lb:e.N,onError:function(t){Ls(e,t)},lc:function(t){Fs(e,t)},onExpirationUpdated:function(t,n){Bs(e,t,n)},onEvent:function(i){e.dispatchEvent(i),i.type==Zs&&n&&(n=!1,e.f.c=Date.now()/1e3-t)}}),e.h.configure(e.i.drm),x(i,vn(e.h,e.o.variants,e.o.offlineSessionIds),2);e.fb(e.o),k(i)}))}function ns(e,t,n){var i,r,a,o,s,u,c,l,d,f;return j((function(h){switch(h.a){case 1:return t.startTime=n.startTime,i=t.B,r=t.uri,e.wb=r,e.A=new ba({ic:function(){return t.B.playbackRate},kd:function(e){t.B.playbackRate=e},Gd:function(e){t.B.currentTime+=e}}),a=function(){return As(e)},o=function(){return Es(e)},e.b.l(i,"playing",a),e.b.l(i,"pause",a),e.b.l(i,"ended",a),e.b.l(i,"ratechange",o),s=e.i.abrFactory,e.j&&e.Dc==s||(e.Dc=s,e.j=Bt(s),"function"!=typeof e.j.playbackRateChanged&&(Ot("AbrManager","Please use an AbrManager with playbackRateChanged function."),e.j.playbackRateChanged=function(){}),e.j.configure(e.i.abr)),e.xb=new Ir(e.i.preferredAudioLanguage,e.i.preferredVariantRole,e.i.preferredAudioChannelCount),e.ca=e.i.preferredTextLanguage,Vs(e.o.presentationTimeline,e.i.playRangeStart,e.i.playRangeEnd),x(h,e.h.yb(i),2);case 2:if(e.j.init((function(t,n,i){n=void 0!==n&&n,i=void 0===i?0:i,e.c&&t!=e.c.b&&(zo(e.f.a,t,!0),Ka(e.c,t,n,i),Ms(e))})),e.v=fs(e,t.startTime),e.Aa=hs(e),u=Math.max(e.o.minBufferTime,e.i.streaming.rebufferingGoal),ps(e,u),sr(e.o,e.i.preferredAudioChannelCount),e.c=vs(e),e.c.configure(e.i.streaming),e.g=Su,e.dispatchEvent(Wo(lu)),c=_s(e)?e.j.chooseVariant():null,zo(e.f.a,c,!0),Ka(e.c,c,!1,0),(l=br(e.o.textStreams,e.ca,e.Xb)[0]||null)&&$o(e.f.a,l,!0),l?(c.audio&&Is(e,c.audio,l)&&(e.T=!0),e.T&&e.H.h.setTextVisibility(!0),Rs(e)):e.T=!1,l&&(e.i.streaming.alwaysStreamText||e.Oc())&&Wa(e.c,l),!e.i.streaming.startAtSegmentBoundary){h.u(3);break}return d=e.v.g(),x(h,xs(c,d),4);case 4:f=h.b,e.v.m(f);case 3:return x(h,e.c.start(),5);case 5:e.i.abr.enabled&&(e.j.enable(),Ns(e)),e.fb(e.o),Ps(e),Ms(e),_s(e),e.o.variants.some((function(e){return e.primary})),e.b.ha(i,"loadedmetadata",(function(){e.f.f=Date.now()/1e3-n.md})),k(h)}}))}function is(e,t){var n,i,r,a;return j((function(o){return 1==o.a?(n=qt,i=Date.now()/1e3,r=!0,e.h=ls(e,{lb:e.N,onError:function(t){Ls(e,t)},lc:function(t){Fs(e,t)},onExpirationUpdated:function(t,n){Bs(e,t,n)},onEvent:function(t){e.dispatchEvent(t),t.type==Zs&&r&&(r=!1,e.f.c=Date.now()/1e3-i)}}),e.h.configure(e.i.drm),a={id:0,language:"und",primary:!1,audio:null,video:{id:0,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"video/mp4",codecs:"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",label:null,type:n.Ca,primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0},x(o,vn(e.h,[a],[]),2)):x(o,e.h.yb(t.B),0)}))}function rs(e,t,n){function i(){return As(e)}t.uri=n.uri,t.startTime=n.startTime,e.wb=t.uri,e.v=new ua(t.B),null!=t.startTime&&e.v.m(t.startTime),e.A=new ba({ic:function(){return t.B.playbackRate},kd:function(e){t.B.playbackRate=e},Gd:function(e){t.B.currentTime+=e}}),ps(e,e.i.streaming.rebufferingGoal),e.b.l(t.B,"playing",i),e.b.l(t.B,"pause",i),e.b.l(t.B,"ended",i),e.b.l(t.B,"ratechange",(function(){return Es(e)})),"none"!=e.a.preload&&e.b.ha(e.a,"loadedmetadata",(function(){e.f.f=Date.now()/1e3-n.md})),e.a.audioTracks&&(e.b.l(e.a.audioTracks,"addtrack",(function(){return Ps(e)})),e.b.l(e.a.audioTracks,"removetrack",(function(){return Ps(e)})),e.b.l(e.a.audioTracks,"change",(function(){return Ps(e)}))),e.a.textTracks&&(e.b.l(e.a.textTracks,"addtrack",(function(t){Ps(e),ss(e,t)})),e.b.l(e.a.textTracks,"removetrack",(function(){return Ps(e)})),e.b.l(e.a.textTracks,"change",(function(){return Ps(e)}))),t.B.src=t.uri,(nn("Tizen")||nn("Web0S"))&&t.B.load(),e.g=xu,e.dispatchEvent(Wo(lu));var r=new Ie;Zr(e.a,HTMLMediaElement.HAVE_METADATA,e.b,(function(){r.resolve()}));var a=!1;return e.Ec.push((function(){a=!0})),Zr(e.a,HTMLMediaElement.HAVE_CURRENT_DATA,e.b,(function(){var t;return j((function(n){return 1==n.a?a?n["return"]():(as(e),t=bs(e),t.find((function(e){return"disabled"!=e.mode}))?n.u(2):x(n,new Promise((function(t){e.b.ha(e.a.textTracks,"change",t),new Ee(t).R(1)})),2)):a?n["return"]():(os(e),void k(n))}))})),e.a.error?r.reject(js(e)):"none"==e.a.preload&&(Q('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),r.resolve()),e.b.ha(e.a,"error",(function(){r.reject(js(e))})),new Me(r,(function(){return r.reject(new xe(2,7,7001)),Promise.resolve()}))}function as(e){var t=e.i.preferredAudioLanguage;if(""!=t){e.fd(t);var n=e.i.preferredVariantRole;""!=n&&e.fd(t,n)}}function os(e){var t=e.i.preferredTextLanguage;if(""!=t){e.gd(t);var n=e.i.preferredTextRole;""!=n&&e.gd(t,n)}}function ss(e,t){var n=t.track;"metadata"==n.kind&&(n.mode="hidden",e.b.l(n,"cuechange",(function(){if(n.activeCues)for(var t=d(n.activeCues),i=t.next();!i.done;i=t.next())i=i.value,us(e,i.startTime,i.endTime,i.type,i.value),e.I&&e.I.onCueMetadataChange(i.value)})),new Ee((function(){var t=ws(e);t=d(t);for(var n=t.next();!n.done;n=t.next())n.value.mode="hidden"})).Qb().R(.5))}function us(e,t,n,i,r){e.dispatchEvent(Wo(ou,{startTime:t,endTime:n,Jf:i,payload:r}))}function cs(e){function t(e){return e.video&&e.audio||e.video&&e.video.codecs.includes(",")}e.variants.some(t)&&(e.variants=e.variants.filter(t))}function ls(e,t){return new pn(t,e.i.drm.updateExpirationTime)}function ds(e){return new nt((function(t,n){e.j&&e.j.segmentDownloaded(t,n)}))}function fs(e,t){return new ca(e.a,e.o,e.i.streaming,t,(function(){if(e.Aa&&Sa(e.Aa,!0),e.c)for(var t=e.c,n=t.s.hc(),i=t.i.smallGapLimit,r=d(t.a.keys()),a=r.next();!a.done;a=r.next()){a=a.value;var o=t.a.get(a),s=t.s.L;"text"==a?(s=s.c,s=null!=s.a&&null!=s.b&&(n>=s.a&&n<s.b)):(s=Hi(s,a),s=ei(s,n,i)),s||(null!=Bi(t.s.L,a)&&Ja(t,o),o.ia&&(o.ia.abort(),o.ia=null),"text"===a&&t.s.L.v.c())}e.D&&ms(e)}),(function(t){return e.dispatchEvent(t)}))}function hs(e){var t=new Ea(e.$b);Aa(t,(function(t){Us(e,pu,t)}),(function(t){Us(e,mu,t)}),(function(t,n){n||(Us(e,pu,t),Us(e,mu,t))}));var n=new Ta(e.a);return n.a.add(t),n}function ps(e,t){e.D=new Or,e.D.a=Nr,Rr(e.D,t,Math.min(.5,t/2)),ks(e),e.Wb=new Ee((function(){ms(e)})).pa(.25)}function ms(e){switch(e.g){case xu:if(e.a.ended)var t=!0;else{var n=Zn(e.a.buffered);t=null!=n&&n>=e.a.duration-1}break;case Su:e:if(e.a.ended||ji(e.H))t=!0;else{if(e.o.presentationTimeline.S()){n=e.o.presentationTimeline.Ka();var i=Zn(e.a.buffered);if(null!=i&&i>=n){t=!0;break e}}t=!1}break;default:t=!1}i=ti(e.a.buffered,e.a.currentTime),n=e.D;var r=t,a=n.b.get(n.a);t=n.a,i=r||i>=a?Lr:Nr,n.a=i,t!=i&&ks(e)}function gs(e,t,n,i){return new Oi(e,t,n,i)}function vs(e){return new Ha(e.o,{hc:function(){return e.v.g()},getBandwidthEstimate:function(){return e.j.getBandwidthEstimate()},L:e.H,lb:e.N,onError:function(t){return Ls(e,t)},onEvent:function(t){return e.dispatchEvent(t)},He:function(){e.m&&e.m.update&&e.m.update()},Yc:function(){e.v&&e.v.v(),ms(e)}})}function ys(e){if(e.m){var t=We(e.i.manifest);e.a&&"AUDIO"===e.a.nodeName&&(t.disableVideo=!0),e.m.configure(t)}if(e.h&&e.h.configure(e.i.drm),e.c){e.c.configure(e.i.streaming);try{e.fb(e.o)}catch(a){Ls(e,a)}e.j&&_s(e),t=e.c.b,!t||t.allowedByApplication&&t.allowedByKeySystem||Cs(e)}if(e.H&&(t=e.i.textDisplayFactory,e.Gc!=t)){var n=Bt(t),i=e.H,r=i.h;i.h=n,r&&(n.setTextVisibility(r.isTextVisible()),r.destroy()),i.c&&(i.c.c=n),e.Gc=t,e.c&&(t=e.c,(n=t.a.get("text"))&&Xa(t,n.stream,!0,0,!0))}e.j&&(e.j.configure(e.i.abr),e.i.abr.enabled?e.j.enable():e.j.disable(),Ns(e)),e.D&&(t=e.i.streaming.rebufferingGoal,e.o&&(t=Math.max(t,e.o.minBufferTime)),Rr(e.D,t,Math.min(.5,t/2)))}function bs(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"!=e.kind&&"chapters"!=e.kind&&"Shaka Player TextTrack"!=e.label}))}function ws(e){return Array.from(e.a.textTracks).filter((function(e){return"metadata"==e.kind}))}function Ts(e){var t=Lo();return t.streaming.failureCallback=function(t){var n=[1001,1002,1003];e.S()&&n.includes(t.code)&&(t.severity=1,e.dd())},t.textDisplayFactory=function(){return e.ac?new Ao(e.a,e.ac):new So(e.a)},t}function Ss(e,t){for(var n=new Set,i=d(t.textStreams),r=i.next();!r.done;r=i.next())r=r.value,"application/cea-608"==r.mimeType&&n.add(r.originalId);for(i=d(t.variants),r=i.next();!r.done;r=i.next())if((r=r.value.video)&&r.closedCaptions)for(var a=d(r.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=new ya;s={id:e.rd++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:s,mimeType:"application/cea-608",codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:r.closedCaptions.get(o),label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:r.roles,channelsCount:null,audioSamplingRate:null,closedCaptions:null},t.textStreams.push(s),n.add(o)}}function xs(e,t){var n,i,r,a,o;return j((function(s){return 1==s.a?(n=e.audio,i=e.video,r=function(e,t){var n,i;return j((function(r){return 1==r.a?e?x(r,e.createSegmentIndex(),2):r["return"](null):(n=e.segmentIndex[Symbol.iterator]().seek(t),n?(i=n.startTime,r["return"](i)):r["return"](null))}))},x(s,r(n,t),2)):3!=s.a?(a=s.b,x(s,r(i,t),3)):(o=s.b,null!=o&&null!=a?s["return"](Math.max(o,a)):null!=o?s["return"](o):null!=a?s["return"](a):s["return"](t))}))}function ks(e){var t=e.Nc();if(e.f&&e.D&&e.v){var n=e.A;n.f=t,wa(n),As(e)}e.dispatchEvent(Wo(Qs,{buffering:t}))}function Es(e){var t=e.a.playbackRate;0!=t&&(e.A&&e.A.set(t),t=Wo(cu),e.dispatchEvent(t))}function As(e){if(e.f&&e.D){var t=e.f.b;e.D.a==Nr?Bo(t,"buffering"):e.a.paused?Bo(t,"paused"):e.a.ended?Bo(t,"ended"):Bo(t,"playing")}}function _s(e){try{Hs(e,e.o)}catch(n){return Ls(e,n),!1}var t=e.o.variants.filter((function(e){return gr(e)}));return t=e.xb.create(t),e.j.setVariants(Array.from(t.values())),!0}function Cs(e){var t;if(t=_s(e)?e.j.chooseVariant():null){if(t==e.c.b)return;zo(e.f.a,t,!0),Ka(e.c,t,!0,0),Ds(e)}Ms(e)}function Is(e,t,n){return e=nr(e.i.preferredTextLanguage),t=nr(t.language),n=nr(n.language),Zi(n,e)&&!Zi(t,n)}function Ms(e){var t=Wo(Js);qs(e,t)}function Ps(e){var t=Wo(gu);qs(e,t)}function Ds(e){var t=Wo(yu);qs(e,t)}function Os(e){var t=Wo(du);qs(e,t)}function Rs(e){var t=Wo(fu);qs(e,t)}function Ns(e){var t=Wo(Ys,{Kf:e.i.abr.enabled});qs(e,t)}function Ls(e,t){if(e.g!=wu){var n=Wo(tu,{detail:t});e.dispatchEvent(n),n.defaultPrevented&&(t.handled=!0)}}function Us(e,t,n){e.dispatchEvent(Wo(t,{detail:{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,eventElement:n.eventElement}}))}function js(e){if(!e.a.error)return null;var t=e.a.error.code;if(1==t)return null;var n=e.a.error.msExtendedCode;return n&&(0>n&&(n+=Math.pow(2,32)),n=n.toString(16)),new xe(2,3,3016,t,n,e.a.error.message)}function Fs(e,t){if(e.c){var n=Object.keys(t),i=1==n.length&&"00"==n[0],r=!1;if(n.length){n=d(e.o.variants);for(var a=n.next();!a.done;a=n.next()){a=a.value;var o=[];a.audio&&o.push(a.audio),a.video&&o.push(a.video),o=d(o);for(var s=o.next();!s.done;s=o.next()){var u=s.value;if(s=a.allowedByKeySystem,u.keyIds.size){a.allowedByKeySystem=!0,u=d(u.keyIds);for(var c=u.next();!c.done;c=u.next())c=c.value,c=t[i?"00":c],a.allowedByKeySystem=a.allowedByKeySystem&&!!c&&!Eu.includes(c)}s!=a.allowedByKeySystem&&(r=!0)}}}r&&_s(e),(i=e.c.b)&&!i.allowedByKeySystem&&Cs(e),r&&Ps(e)}}function Bs(e,t,n){e.m&&e.m.onExpirationUpdated&&e.m.onExpirationUpdated(t,n),t=Wo(nu),e.dispatchEvent(t)}function Vs(e,t,n){0<t&&(e.S()||e.Qd(t)),t=e.getDuration(),n<t&&(e.S()||e.ya(n))}function Hs(e,t){var n=e.h?$t(e.h.T):{},i=Object.keys(n);i=i.length&&"00"==i[0];for(var r=!1,a=!1,o=new Set,s=new Set,u=d(t.variants),c=u.next();!c.done;c=u.next()){c=c.value;var l=[];c.audio&&l.push(c.audio),c.video&&l.push(c.video),l=d(l);for(var f=l.next();!f.done;f=l.next())if(f=f.value,f.keyIds.size){f=d(f.keyIds);for(var h=f.next();!h.done;h=f.next()){h=h.value;var p=n[i?"00":h];p?Eu.includes(p)&&s.add(p):o.add(h)}}c.allowedByApplication?c.allowedByKeySystem&&(r=!0):a=!0}if(!r)throw n={hasAppRestrictions:a,missingKeys:Array.from(o),restrictedKeyStatuses:Array.from(s)},new xe(2,4,4012,n)}function qs(e,t){j((function(n){if(1==n.a)return x(n,Promise.resolve(),2);e.g!=wu&&e.dispatchEvent(t),k(n)}))}function zs(e){var t=new Set;e=d(e);for(var n=e.next();!n.done;n=e.next())n=n.value,n.language?t.add(nr(n.language)):t.add("und");return t}function $s(e){var t=new Map;e=d(e);for(var n=e.next();!n.done;n=e.next()){var i=n.value;n="und";var r=[];for(i.language&&(n=nr(i.language)),r="variant"==i.type?i.audioRoles:i.roles,r&&r.length||(r=[""]),t.has(n)||t.set(n,new Set),i=d(r),r=i.next();!r.done;r=i.next())r=r.value,t.get(n).add(r)}var a=[];return t.forEach((function(e,t){for(var n=d(e),i=n.next();!i.done;i=n.next())a.push({language:t,role:i.value})})),a}function Gs(){return new xe(2,7,7e3)}function Ks(e,t,n,i,r,a){return i==e&&r.B==a.B&&r.uri==a.uri&&r.mimeType==a.mimeType?t:n}function Ws(){return{B:null,mimeType:null,startTime:null,md:NaN,uri:null}}function Xs(e){return new Promise((function(t,n){e.Ua=function(){return n(Gs())},e.kc=function(){return t()},e.onError=function(e){return n(e)},e.mc=function(){return n(Gs())}}))}Ha.prototype.destroy=function(){return this.F.destroy()},Ha.prototype.configure=function(e){this.i=e,this.j=new Ae({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},Ha.prototype.start=function(){var e=this;return j((function(t){if(1==t.a)return x(t,Qa(e),2);pt(e.F),e.h=!0,k(t)}))},Ha.prototype.Kb=function(e){var t,n,i,r,a=this;return j((function(o){switch(o.a){case 1:if(pt(a.F),e.Va||null==e.Ha||e.zb)return o["return"]();if(e.Ha=null,!e.rb){o.u(2);break}return x(o,lo(a,e,e.tc,e.dc),3);case 3:return o["return"]();case 2:if(e.stream.segmentIndex){o.u(4);break}return t=e.stream,x(o,e.stream.createSegmentIndex(),5);case 5:if(t!=e.stream)return null==e.Ha&&fo(a,e,0),o["return"]();case 4:e.xa||(e.xa=e.stream.segmentIndex[Symbol.iterator]());try{n=eo(a,e),null!=n&&(fo(a,e,n),e.Hb=!1)}catch(s){return mo(a,s),o["return"]()}if(i=Array.from(a.a.values()),!a.h||!i.every((function(e){return e.endOfStream}))){o.u(0);break}return x(o,a.s.L.endOfStream(),7);case 7:pt(a.F),r=a.s.L.getDuration(),0!=r&&r<a.o.presentationTimeline.getDuration()&&a.o.presentationTimeline.ya(r),k(o)}}))},go.prototype.destroy=function(){return this.F.destroy()},i=So.prototype,i.remove=function(e,t){return!!this.a&&(ko(this.a,(function(n){return n.startTime<t&&n.endTime>e})),!0)},i.append=function(e){var t=e.map((function(e){if(e.nestedCues.length){var t=e.nestedCues.map((function(e){return e.spacer?"\n":e.payload+" "})).join("").replace(/ $/m,"");return e=e.clone(),e.nestedCues=[],e.payload=t,e}return e})),n=[];e=this.a.cues?Array.from(this.a.cues):[];var i={};t=d(t);for(var r=t.next();!r.done;i={bb:i.bb},r=t.next())i.bb=r.value,e.some(function(e){return function(t){return t.startTime==e.bb.startTime&&t.endTime==e.bb.endTime&&t.text==e.bb.payload}}(i))||(r=xo(i.bb))&&n.push(r);for(e=n.slice().sort((function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:"line"in VTTCue.prototype?n.indexOf(t)-n.indexOf(e):n.indexOf(e)-n.indexOf(t)})),e=d(e),i=e.next();!i.done;i=e.next())this.a.addCue(i.value)},i.destroy=function(){return this.a&&(ko(this.a,(function(){return!0})),this.a.mode="disabled"),this.a=null,Promise.resolve()},i.isTextVisible=function(){return"showing"==this.a.mode},i.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},$("shaka.text.SimpleTextDisplayer",So),So.prototype.setTextVisibility=So.prototype.setTextVisibility,So.prototype.isTextVisible=So.prototype.isTextVisible,So.prototype.destroy=So.prototype.destroy,So.prototype.append=So.prototype.append,So.prototype.remove=So.prototype.remove,$("shaka.util.Dom",Eo),Eo.removeAllChildren=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},i=Ao.prototype,i.append=function(e){var t={};e=d(e);for(var n=e.next();!n.done;t={Rb:t.Rb},n=e.next())t.Rb=n.value,this.f.some(function(e){return function(t){return ci(t,e.Rb)}}(t))||this.f.push(t.Rb);_o(this)},i.destroy=function(){this.g.removeChild(this.b),this.b=null,this.h=!1,this.f=[],this.j&&this.j.stop(),this.c.clear()},i.remove=function(e,t){return!!this.b&&(this.f=this.f.filter((function(n){return n.startTime<e||n.endTime>=t})),_o(this),!0)},i.isTextVisible=function(){return this.h},i.setTextVisibility=function(e){this.h=e},$("shaka.text.UITextDisplayer",Ao),Ao.prototype.setTextVisibility=Ao.prototype.setTextVisibility,Ao.prototype.isTextVisible=Ao.prototype.isTextVisible,Ao.prototype.remove=Ao.prototype.remove,Ao.prototype.destroy=Ao.prototype.destroy,Ao.prototype.append=Ao.prototype.append,$("shaka.util.ConfigUtils",Do),Do.convertToConfigObject=Ro,Do.mergeConfigObjects=Oo,$("shaka.util.PlayerConfiguration",No),No.mergeConfigObjects=Uo,b(Ko,Ke),i=Ko.prototype,i.destroy=function(){var e,t=this;return j((function(n){switch(n.a){case 1:return t.g==wu?n["return"]():(t.g=wu,e=yo(t.W,(function(){return{node:t.da,payload:Ws(),Ra:!1}})),x(n,new Promise((function(t){e.nb=function(){},e.kc=function(){t()},e.Ua=function(){t()},e.onError=function(){t()},e.mc=function(){t()}})),2));case 2:return x(n,t.W.destroy(),3);case 3:if(t.b&&(t.b.release(),t.b=null),t.Dc=null,t.j=null,t.i=null,t.f=null,t.ac=null,!t.N){n.u(0);break}return x(n,t.N.destroy(),5);case 5:t.N=null,k(n)}}))},i.yb=function(e,t){if(t=void 0===t||t,this.g==wu)return Promise.reject(Gs());var n=Ws();n.B=e,Jt()||(t=!1);var i=t?this.ra:this.Da,r=yo(this.W,(function(){return{node:i,payload:n,Ra:!1}}));return r.nb=function(){},Xs(r)},i.detach=function(){var e=this;if(this.g==wu)return Promise.reject(Gs());var t=yo(this.W,(function(){return{node:e.da,payload:Ws(),Ra:!1}}));return t.nb=function(){},Xs(t)},i.pd=function(e){var t=this;if(e=void 0===e||e,this.g==wu)return Promise.reject(Gs());Jt()||(e=!1);var n=Ws(),i=yo(this.W,(function(i){var r=i.B&&e?t.ra:i.B?t.Da:t.da;return n.B=i.B,{node:r,payload:n,Ra:!1}}));return i.nb=function(){},Xs(i)},i.load=function(e,t,n){var i=this;if(this.g==wu)return Promise.reject(Gs());this.dispatchEvent(Wo(ru));var r=Ws();r.uri=e,r.md=Date.now()/1e3,n&&(r.mimeType=n),void 0!==t&&(r.startTime=t);var a=Xo(this,r)?this.Ba:this.J,o=yo(this.W,(function(e){return null==e.B?null:(r.B=e.B,{node:a,payload:r,Ra:!0})}));return this.f=new Go,o.nb=function(){},new Promise((function(e,t){o.mc=function(){return t(new xe(2,7,7002))},o.kc=function(){e(),i.dispatchEvent(Wo(iu))},o.Ua=function(){return t(Gs())},o.onError=function(e){return t(e)}}))},i.configure=function(e,t){2==arguments.length&&"string"==typeof e&&(e=Ro(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(Ot("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay);var n=Uo(this.i,e,Ts(this));return ys(this),n},i.getConfiguration=function(){var e=Ts(this);return Uo(e,this.i,Ts(this)),e},i.Qe=function(){for(var e in this.i)delete this.i[e];Uo(this.i,Ts(this),Ts(this)),ys(this)},i.le=function(){return this.g},i.pe=function(){return this.a},i.Eb=function(){return this.N},i.Lc=function(){return this.wb},i.yd=function(){return Z("getAdManager","Shaka Player's ad features are currently in BETA and are NOT yet covered by semantic versioning compatibility guarantees.  The API may change at any time!"),this.I},i.S=function(){return this.o?this.o.presentationTimeline.S():!(!this.a||!this.a.src)&&1/0==this.a.duration},i.Ta=function(){return!!this.o&&this.o.presentationTimeline.Ta()},i.Ce=function(){if(this.o){var e=this.o.variants;return!!e.length&&!e[0].video}return!(!this.a||!this.a.src)&&(this.a.videoTracks?0==this.a.videoTracks.length:0==this.a.videoHeight)},i.ed=function(){if(this.o){var e=this.o.presentationTimeline;return{start:e.ib(),end:e.Ea()}}return this.a&&this.a.src&&(e=this.a.seekable,e.length)?{start:e.start(0),end:e.end(e.length-1)}:{start:0,end:0}},i.keySystem=function(){return kn(this.drmInfo())},i.drmInfo=function(){return this.h?this.h.c:null},i.Db=function(){return this.h?this.h.Db():1/0},i.Nc=function(){return!!this.D&&this.D.a==Nr},i.re=function(){return this.a?this.A?this.A.b:1:0},i.af=function(e){0==e?Q("A trick play rate of 0 is unsupported!"):(this.a.paused&&this.a.play(),this.A.set(e),this.g==Su&&(this.j.playbackRateChanged(e),Ga(this.c,1<Math.abs(e))))},i.ae=function(){this.g==xu&&this.A.set(1),this.g==Su&&(this.A.set(1),this.j.playbackRateChanged(1),Ga(this.c,!1))},i.Mc=function(){if(this.o){for(var e=this.c?this.c.b:null,t=[],n=d(this.o.variants),i=n.next();!i.done;i=n.next())if(i=i.value,gr(i)){var r=dr(i);r.active=i==e,t.push(r)}return t}return this.a&&this.a.audioTracks?Array.from(this.a.audioTracks).map((function(e){return pr(e)})):[]},i.jc=function(){if(this.o){for(var e=this.c?this.c.c:null,t=[],n=d(this.o.textStreams),i=n.next();!i.done;i=n.next()){i=i.value;var r=fr(i);r.active=i==e,t.push(r)}return t}return this.a&&this.a.src&&this.a.textTracks?bs(this).map((function(e){var t=mr(e);return t.active="disabled"!=e.mode,t.type="text",t.originalTextId=e.id,"captions"==e.kind&&(t.mimeType="application/cea-608"),e.kind&&(t.roles=[e.kind]),t})):[]},i.Od=function(e){if(this.o&&this.c){var t=this.o.textStreams.find((function(t){return t.id==e.id}));t&&t!=this.c.c&&($o(this.f.a,t,!1),Wa(this.c,t),Os(this),this.ca=t.language)}else if(this.a&&this.a.src&&this.a.textTracks){t=bs(this),t=d(t);for(var n=t.next();!n.done;n=t.next())n=n.value,hr(n)==e.id?n.mode=this.T?"showing":"hidden":n.mode="disabled";Os(this)}},i.Re=function(e,t,n){if(t=void 0!==t&&t,n=void 0===n?0:n,this.o&&this.c){this.i.abr.enabled&&Q("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var i=this.o.variants.find((function(t){return t.id==e.id}));i&&gr(i)&&i!=this.c.b&&(zo(this.f.a,i,!1),Ka(this.c,i,t,n),Ds(this),this.xb=new Cr(i),_s(this))}else if(this.a&&this.a.audioTracks){for(t=Array.from(this.a.audioTracks),t=d(t),n=t.next();!n.done;n=t.next())n=n.value,hr(n)==e.id&&(n.enabled=!0);Ds(this)}},i.he=function(){return $s(this.Mc())},i.ze=function(){return $s(this.jc())},i.ge=function(){return Array.from(zs(this.Mc()))},i.ye=function(){return Array.from(zs(this.jc()))},i.fd=function(e,t){if(this.o&&this.v)this.xb=new Ir(e,t||"",0,""),Cs(this);else if(this.a&&this.a.audioTracks){var n=Array.from(this.a.audioTracks),i=nr(e),r=null,a=null;n=d(n);for(var o=n.next();!o.done;o=n.next()){o=o.value;var s=pr(o);nr(s.language)==i&&(r=o,t?s.roles.includes(t)&&(a=o):0==s.roles.length&&(a=o))}a?(a.enabled=!0,Ds(this)):r&&(r.enabled=!0,Ds(this))}},i.gd=function(e,t){if(this.o&&this.v){this.ca=e,this.Xb=t||"";var n=br(this.o.textStreams,this.ca,this.Xb)[0]||null;n&&n!=this.c.c&&($o(this.f.a,n,!1),this.i.streaming.alwaysStreamText||this.Oc())&&(Wa(this.c,n),Os(this))}else{var i=nr(e);(n=this.jc().find((function(e){return nr(e.language)==i&&(!t||e.roles.includes(t))})))&&this.Od(n)}},i.Se=function(e){if(this.o&&this.v){for(var t=null,n=d(this.o.variants),i=n.next();!i.done;i=n.next())if(i=i.value,i.audio.label==e){t=i;break}null!=t&&(this.xb=new Ir(t.language,"",0,e),Cs(this))}},i.Oc=function(){var e=this.T;return this.H?this.H.h.isTextVisible():this.a&&this.a.src&&this.a.textTracks?bs(this).some((function(e){return"showing"==e.mode})):e},i.Ye=function(e){if(e=!!e,this.T!=e){if(this.T=e,this.g==Su)this.H.h.setTextVisibility(e),this.i.streaming.alwaysStreamText||(e?this.c.c||(e=br(this.o.textStreams,this.ca,this.Xb),0<e.length&&(Wa(this.c,e[0]),Os(this))):$a(this.c));else if(this.a&&this.a.src&&this.a.textTracks){var t=bs(this);t=d(t);for(var n=t.next();!n.done;n=t.next())n=n.value,"disabled"!=n.mode&&(n.mode=e?"showing":"hidden")}Rs(this)}},i.te=function(){if(!this.S())return null;var e=this.W.f,t=0;if(this.v)t=this.v.g();else if(e){if(null==e.startTime)return new Date;t=e.startTime}return this.o?new Date(1e3*(this.o.presentationTimeline.f+t)):this.a&&this.a.getStartDate?(e=this.a.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},i.zd=function(){if(!this.S())return null;if(this.o)return new Date(1e3*this.o.presentationTimeline.f);if(this.a&&this.a.getStartDate){var e=this.a.getStartDate();return isNaN(e.getTime())?null:e}return null},i.fc=function(){if(this.g==Su)return this.H.fc();var e={total:[],audio:[],video:[],text:[]};return this.g==xu&&(e.total=ii(this.a.buffered)),e},i.getStats=function(){if(this.g!=Su&&this.g!=xu)return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,switchHistory:[],stateHistory:[]};As(this);var e=this.a;if(e.getVideoPlaybackQuality){e=e.getVideoPlaybackQuality();var t=this.f,n=Number(e.totalVideoFrames);t.J=Number(e.droppedVideoFrames),t.I=n,this.f.H=Number(e.corruptedVideoFrames)}this.h?(e=this.h,e=e.H?e.H:NaN):e=NaN,this.f.D=e,this.g==Su&&((e=this.c.b)&&(this.f.h=(this.A?this.A.b:1)*e.bandwidth),e&&e.video&&(t=this.f,n=e.video.height||NaN,t.M=e.video.width||NaN,t.j=n),this.S()&&(e=this.zd().valueOf()+1e3*this.ed().end,this.f.m=(Date.now()-e)/1e3),this.o&&this.o.presentationTimeline&&(this.f.A=this.o.presentationTimeline.a),e=this.j.getBandwidthEstimate(),this.f.g=e);var i=this.f;e=i.M,t=i.j,n=i.h;var r=i.I,a=i.J,o=i.H,s=i.g,u=i.f,c=i.v,l=i.c,f=Vo(i.b,"playing"),h=Vo(i.b,"paused"),p=Vo(i.b,"buffering"),m=i.D,g=i.m,v=i.A,y=Ho(i.b),b=[];i=d(i.a.a);for(var w=i.next();!w.done;w=i.next())w=w.value,b.push({timestamp:w.timestamp,id:w.id,type:w.type,fromAdaptation:w.fromAdaptation,bandwidth:w.bandwidth});return{width:e,height:t,streamBandwidth:n,decodedFrames:r,droppedFrames:a,corruptedFrames:o,estimatedBandwidth:s,loadLatency:u,manifestTimeSeconds:c,drmTimeSeconds:l,playTime:f,pauseTime:h,bufferingTime:p,licenseTime:m,liveLatency:g,maxSegmentDuration:v,stateHistory:y,switchHistory:b}},i.addTextTrack=function(e,t,n,i,r,a){if(this.g==xu)throw Error("State error!");if(this.g!=Su)throw Error("State error!");var o=this.o.presentationTimeline.getDuration();if(1/0==o)throw new xe(1,4,4033);return e={id:this.rd++,originalId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:ga(0,o,[e]),mimeType:i,codecs:r||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:t,label:a||null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null},this.o.textStreams.push(e),Ps(this),fr(e)},i.jd=function(e,t){this.uc.width=e,this.uc.height=t},i.dd=function(){if(this.g==Su){var e=this.c;if(e.F.a)e=!1;else if(e.g)e=!1;else{for(var t=d(e.a.values()),n=t.next();!n.done;n=t.next())n=n.value,n.Hb&&(n.Hb=!1,fo(e,n,.1));e=!0}}else e=!1;return e},i.me=function(){return Q("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.o},i.ne=function(){return this.Zb},i.Rd=function(e){this.ac=e},i.fb=function(e){if(cr(this.h,this.c?this.c.b:null,e),!e.variants.some(gr))throw new xe(2,4,4032);for(var t=this.i.restrictions,n=this.uc,i=!1,r=d(e.variants),a=r.next();!a.done;a=r.next()){a=a.value;var o=a.allowedByApplication;a.allowedByApplication=ur(a,t,n),o!=a.allowedByApplication&&(i=!0)}if(i&&this.c&&Ps(this),t=this.h?this.h.c:null)for(n=d(e.variants),i=n.next();!i.done;i=n.next())for(i=i.value,i=d((i.video?i.video.drmInfos:[]).concat(i.audio?i.audio.drmInfos:[])),r=i.next();!r.done;r=i.next())if(r=r.value,r.keySystem==t.keySystem)for(r=d(r.initData||[]),a=r.next();!a.done;a=r.next())a=a.value,xn(this.h,a.initDataType,a.initData);Hs(this,e)},$("shaka.Player",Ko),Ko.prototype.setVideoContainer=Ko.prototype.Rd,Ko.prototype.getManifestParserFactory=Ko.prototype.ne,Ko.prototype.getManifest=Ko.prototype.me,Ko.prototype.retryStreaming=Ko.prototype.dd,Ko.prototype.setMaxHardwareResolution=Ko.prototype.jd,Ko.prototype.addTextTrack=Ko.prototype.addTextTrack,Ko.prototype.getStats=Ko.prototype.getStats,Ko.prototype.getBufferedInfo=Ko.prototype.fc,Ko.prototype.getPresentationStartTimeAsDate=Ko.prototype.zd,Ko.prototype.getPlayheadTimeAsDate=Ko.prototype.te,Ko.prototype.setTextTrackVisibility=Ko.prototype.Ye,Ko.prototype.isTextTrackVisible=Ko.prototype.Oc,Ko.prototype.selectVariantsByLabel=Ko.prototype.Se,Ko.prototype.selectTextLanguage=Ko.prototype.gd,Ko.prototype.selectAudioLanguage=Ko.prototype.fd,Ko.prototype.getTextLanguages=Ko.prototype.ye,Ko.prototype.getAudioLanguages=Ko.prototype.ge,Ko.prototype.getTextLanguagesAndRoles=Ko.prototype.ze,Ko.prototype.getAudioLanguagesAndRoles=Ko.prototype.he,Ko.prototype.selectVariantTrack=Ko.prototype.Re,Ko.prototype.selectTextTrack=Ko.prototype.Od,Ko.prototype.getTextTracks=Ko.prototype.jc,Ko.prototype.getVariantTracks=Ko.prototype.Mc,Ko.prototype.cancelTrickPlay=Ko.prototype.ae,Ko.prototype.trickPlay=Ko.prototype.af,Ko.prototype.getPlaybackRate=Ko.prototype.re,Ko.prototype.isBuffering=Ko.prototype.Nc,Ko.prototype.getExpiration=Ko.prototype.Db,Ko.prototype.drmInfo=Ko.prototype.drmInfo,Ko.prototype.keySystem=Ko.prototype.keySystem,Ko.prototype.seekRange=Ko.prototype.ed,Ko.prototype.isAudioOnly=Ko.prototype.Ce,Ko.prototype.isInProgress=Ko.prototype.Ta,Ko.prototype.isLive=Ko.prototype.S,Ko.prototype.getAdManager=Ko.prototype.yd,Ko.prototype.getAssetUri=Ko.prototype.Lc,Ko.prototype.getNetworkingEngine=Ko.prototype.Eb,Ko.prototype.getMediaElement=Ko.prototype.pe,Ko.prototype.getLoadMode=Ko.prototype.le,Ko.prototype.resetConfiguration=Ko.prototype.Qe,Ko.prototype.getConfiguration=Ko.prototype.getConfiguration,Ko.prototype.configure=Ko.prototype.configure,Ko.prototype.load=Ko.prototype.load,Ko.prototype.unload=Ko.prototype.pd,Ko.prototype.detach=Ko.prototype.detach,Ko.prototype.attach=Ko.prototype.yb,Ko.probeSupport=function(){var e,t,n,i,r,a;return j((function(o){if(1==o.a)return x(o,Ln(),2);e=o.b;var s={};if(Jt()){for(var u in Vr)s[u]=!0;for(var c in Hr)s[c]=!0}u={mpd:"application/dash+xml",m3u8:"application/x-mpegurl",ism:"application/vnd.ms-sstr+xml"},c=d(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"]);for(var l=c.next();!l.done;l=c.next())l=l.value,s[l]=Jt()?!!Vr[l]:Qt(l);for(var f in u)s[f]=Jt()?!!Hr[f]:Qt(u[f]);for(t=s,s={},f=d('video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",")),u=f.next();!u.done;u=f.next())u=u.value,s[u]=Jt()?!!_i(u)||(MediaSource.isTypeSupported(u)||ai(u)):Qt(u),c=u.split(";")[0],s[c]=s[c]||s[u];for(a in n=s,i={manifest:t,media:n,drm:e},r=Au,r)i[a]=r[a]();return o["return"](i)}))},Ko.isBrowserSupported=function(){if(!(e.Promise&&e.Uint8Array&&Array.prototype.forEach))return!1;var t=tn();return!(t&&12>t||!(e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration))&&(!!Jt()||Qt("application/x-mpegurl"))},Ko.setAdManagerFactory=function(e){_u=e},Ko.registerSupportPlugin=function(e,t){Au[e]=t},Ko.prototype.destroy=Ko.prototype.destroy;var Ys="abrstatuschanged",Js="adaptation",Qs="buffering",Zs="drmsessionupdate",eu="emsg",tu="error",nu="expirationupdated",iu="loaded",ru="loading",au="manifestparsed",ou="metadata",su="onstatechange",uu="onstateidle",cu="ratechange",lu="streaming",du="textchanged",fu="texttrackvisibility",hu="timelineregionadded",pu="timelineregionenter",mu="timelineregionexit",gu="trackschanged",vu="unloading",yu="variantchanged",bu={hf:Ys,jf:Js,kf:Qs,lf:Zs,nf:eu,Error:tu,pf:nu,rf:"largegap",sf:iu,tf:ru,uf:au,Metadata:ou,vf:su,wf:uu,xf:cu,yf:lu,zf:du,Af:fu,Bf:hu,Cf:pu,Df:mu,Ef:gu,Ff:vu,Gf:yu},wu=0,Tu=1,Su=2,xu=3;Ko.LoadMode={DESTROYED:wu,NOT_LOADED:Tu,MEDIA_SOURCE:Su,SRC_EQUALS:xu},Ko.version="v3.0.6";var ku=["3","0"];Lt=new function(e){this.a=e,this.c=Rt,this.b=Nt}(new Dt(Number(ku[0]),Number(ku[1])));var Eu=["output-restricted","internal-error"],Au={},_u=null;function Cu(){this.a=[],this.f=this.b=this.c=0}function Iu(e,t){var n=this;this.c=e,this.a=t,this.f=!1,this.g=this.a.getVolume(),this.b=new mt,this.b.l(this.a,google.ima.AdEvent.Type.PAUSED,(function(){n.f=!0})),this.b.l(this.a,google.ima.AdEvent.Type.RESUMED,(function(){n.f=!1}))}function Mu(e,t,n,i){var r=this;this.j=e,this.a=t,this.m=NaN,this.f=i,this.h=null,this.b=new mt,google.ima.settings.setLocale(n),e=new google.ima.AdDisplayContainer(this.j,this.a),e.initialize(),this.g=new google.ima.AdsLoader(e),this.g.getSettings().setPlayerType("shaka-player"),this.g.getSettings().setPlayerVersion("v3.0.6"),this.c=null,this.b.ha(this.g,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){Du(r,e)})),this.b.l(this.g,google.ima.AdEvent.Type.AD_ERROR,(function(e){Pu(r,e)})),this.a.onended=function(){r.g.contentComplete()}}function Pu(e,t){t.getError(),Nu(e,null),e.f(new ze("ad-cue-points-changed",{cuepoints:[]}))}function Du(e,t){e.f(new ze("ads-loaded",{loadTime:Date.now()/1e3-e.m})),e.c=t.getAdsManager(e.a),e.f(new ze("ima-ad-manager-loaded",{imaAdsManager:e.c}));var n=e.c.getCuePoints();if(n.length){var i=[];n=d(n);for(var r=n.next();!r.done;r=n.next())i.push(new Bu(r.value));e.f(new ze("ad-cue-points-changed",{cuepoints:i}))}Ou(e);try{e.c.init(e.a.offsetWidth,e.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL),e.b.l(e.a,"loadeddata",(function(){e.c.resize(e.a.offsetWidth,e.a.offsetHeight,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)})),e.c.start()}catch(a){Nu(e,null)}}function Ou(e){e.b.l(e.c,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){Pu(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(t){Ru(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.STARTED,(function(t){Ru(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e.f(new ze("ad-first-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.MIDPOINT,(function(t){e.f(new ze("ad-midpoint",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e.f(new ze("ad-third-quartile",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.COMPLETE,(function(t){e.f(new ze("ad-complete",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(t){Nu(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){Nu(e,t)})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPED,(function(t){e.f(new ze("ad-skipped",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e.f(new ze("ad-volume-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e.f(new ze("ad-muted",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.PAUSED,(function(t){e.h.f=!0,e.f(new ze("ad-paused",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.RESUMED,(function(t){e.h.f=!1,e.f(new ze("ad-resumed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(t){e.f(new ze("ad-skip-state-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.CLICK,(function(){e.f(new ze("ad-clicked"))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e.f(new ze("ad-progress",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e.f(new ze("ad-buffering",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.IMPRESSION,(function(t){e.f(new ze("ad-impression",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e.f(new ze("ad-duration-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e.f(new ze("ad-closed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOADED,(function(t){e.f(new ze("ad-loaded",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e.f(new ze("all-ads-completed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e.f(new ze("ad-linear-changed",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_METADATA,(function(t){e.f(new ze("ad-metadata",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.LOG,(function(t){e.f(new ze("ad-recoverable-error",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e.f(new ze("ad-break-ready",{originalEvent:t}))})),e.b.l(e.c,google.ima.AdEvent.Type.INTERACTION,(function(t){e.f(new ze("ad-interaction",{originalEvent:t}))}))}function Ru(e,t){var n=t.getAd();e.h=new Iu(n,e.c),e.f(new ze("ad-started",{ad:e.h,sdkAdObject:n,originalEvent:t})),e.j.setAttribute("ad-active","true"),e.a.pause()}function Nu(e,t){e.f(new ze("ad-stopped",{originalEvent:t})),e.j.removeAttribute("ad-active"),e.a.play()}function Lu(e,t){this.c=e,this.b=null,this.a=t}function Uu(e,t,n,i){var r=this;this.v=e,this.a=t,this.g=null,this.H=NaN,this.f=i,this.D=!1,this.A=this.h=this.j=null,this.m="",this.b=new mt,e=new google.ima.dai.api.UiSettings,e.setLocale(n),this.c=new google.ima.dai.api.StreamManager(this.a,this.v,e),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.LOADED,(function(e){ju(r,e)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){r.m.length?r.g.resolve(r.m):r.g.reject("IMA Stream request returned an error and there was no backup asset uri provided."),r.g=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.STARTED,(function(e){e=e.getAd(),r.h=new Lu(e,r.a),r.A&&(r.h.b=r.A),r.f(new ze("ad-started",{ad:r.h})),r.v.setAttribute("ad-active","true")})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){r.v.removeAttribute("ad-active");var e=r.a.currentTime;r.j&&r.j>e&&(r.a.currentTime=r.j,r.j=null)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(e){r.A=e.getStreamData().adProgressData,r.h&&(r.h.b=r.A)})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){r.f(new ze("ad-first-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){r.f(new ze("ad-midpoint"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){r.f(new ze("ad-third-quartile"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){r.f(new ze("ad-complete")),r.f(new ze("ad-stopped")),r.v.removeAttribute("ad-active"),r.h=null})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){r.f(new ze("ad-skipped")),r.f(new ze("ad-stopped"))})),this.b.l(this.c,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(e){var t=e.getStreamData();e=[],t=d(t.cuepoints);for(var n=t.next();!n.done;n=t.next())n=n.value,e.push(new Bu(n.start,n.end));r.f(new ze("ad-cue-points-changed",{cuepoints:e}))}))}function ju(e,t){e.f(new ze("ads-loaded",{loadTime:Date.now()/1e3-e.H}));var n=t.getStreamData().url;e.g.resolve(n),e.g=null,e.D||e.b.l(e.a,"seeked",(function(){var t=e.a.currentTime;if(0!=t){e.c.streamTimeForContentTime(t);var n=e.c.previousCuePointForStreamTime(t);n&&!n.played&&(e.j=t,e.a.currentTime=n.start)}}))}function Fu(){Ke.call(this),this.a=this.b=null,this.f=new Cu,this.c=navigator.language}function Bu(e,t){this.start=e,this.end=void 0===t?null:t}function Vu(e){return JSON.stringify(e,(function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ze){var n={};for(r in t){var i=t[r];i&&"object"==typeof i?"detail"==r&&(n[r]=i):r in Event||(n[r]=i)}return n}if(t instanceof Error){var r=new Set(["name","message","stack"]);for(n in t)r.add(n);for(i=d(Object.getOwnPropertyNames(t)),n=i.next();!n.done;n=i.next())r.add(n.value);for(i={},r=d(r),n=r.next();!n.done;n=r.next())n=n.value,i[n]=t[n];r={__type__:"Error",contents:i}}else if(t instanceof TimeRanges)for(r={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=d(ii(t)),i=n.next();!i.done;i=n.next()){i=i.value;var a=i.end;r.start.push(i.start),r.end.push(a)}else r=t instanceof Uint8Array?{__type__:"Uint8Array",entries:Array.from(t)}:"number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return r}}))}function Hu(e){return JSON.parse(e,(function(e,t){if("NaN"==t)var n=NaN;else if("-Infinity"==t)n=-1/0;else if("Infinity"==t)n=1/0;else if(t&&"object"==typeof t&&"TimeRanges"==t.__type__)n=qu(t);else if(t&&"object"==typeof t&&"Uint8Array"==t.__type__)n=new Uint8Array(t.entries);else if(t&&"object"==typeof t&&"Error"==t.__type__){n=t.contents;var i,r=Error(n.message);for(i in n)r[i]=n[i];n=r}else n=t;return n}))}function qu(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}i=Iu.prototype,i.getDuration=function(){return this.c.getDuration()},i.getRemainingTime=function(){return this.a.getRemainingTime()},i.isPaused=function(){return this.f},i.isSkippable=function(){return 0<=this.c.getSkipTimeOffset()},i.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},i.canSkipNow=function(){return this.a.getAdSkippableState()},i.skip=function(){return this.a.skip()},i.pause=function(){return this.a.pause()},i.play=function(){return this.a.resume()},i.getVolume=function(){return this.a.getVolume()},i.setVolume=function(e){return this.a.setVolume(e)},i.isMuted=function(){return 0==this.a.getVolume()},i.resize=function(e,t){this.a.resize(e,t,document.fullscreenElement?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL)},i.setMuted=function(e){e?(this.g=this.getVolume(),this.setVolume(0)):this.setVolume(this.g)},i.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},i.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},i.release=function(){this.a=this.c=null},$("shaka.ads.ClientSideAd",Iu),Iu.prototype.release=Iu.prototype.release,Iu.prototype.getPositionInSequence=Iu.prototype.getPositionInSequence,Iu.prototype.getSequenceLength=Iu.prototype.getSequenceLength,Iu.prototype.setMuted=Iu.prototype.setMuted,Iu.prototype.resize=Iu.prototype.resize,Iu.prototype.isMuted=Iu.prototype.isMuted,Iu.prototype.setVolume=Iu.prototype.setVolume,Iu.prototype.getVolume=Iu.prototype.getVolume,Iu.prototype.play=Iu.prototype.play,Iu.prototype.pause=Iu.prototype.pause,Iu.prototype.skip=Iu.prototype.skip,Iu.prototype.canSkipNow=Iu.prototype.canSkipNow,Iu.prototype.getTimeUntilSkippable=Iu.prototype.getTimeUntilSkippable,Iu.prototype.isSkippable=Iu.prototype.isSkippable,Iu.prototype.isPaused=Iu.prototype.isPaused,Iu.prototype.getRemainingTime=Iu.prototype.getRemainingTime,Iu.prototype.getDuration=Iu.prototype.getDuration,Mu.prototype.stop=function(){this.c.stop()},i=Lu.prototype,i.getDuration=function(){return this.b?this.b.duration:-1},i.getRemainingTime=function(){return this.b?this.b.duration-this.b.currentTime:-1},i.isPaused=function(){return this.a.paused},i.isSkippable=function(){return this.c.isSkippable()},i.getTimeUntilSkippable=function(){var e=this.c.getSkipTimeOffset();return e=this.getRemainingTime()-e,Math.max(e,0)},i.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},i.skip=function(){this.a.currentTime+=this.getRemainingTime()},i.pause=function(){return this.a.pause()},i.play=function(){return this.a.play()},i.getVolume=function(){return this.a.volume},i.setVolume=function(e){this.a.volume=e},i.isMuted=function(){return this.a.muted},i.resize=function(){},i.setMuted=function(e){this.a.muted=e},i.getSequenceLength=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getTotalAds()},i.getPositionInSequence=function(){var e=this.c.getAdPodInfo();return null==e?1:e.getAdPosition()},i.release=function(){this.a=this.b=this.c=null},$("shaka.ads.ServerSideAd",Lu),Lu.prototype.release=Lu.prototype.release,Lu.prototype.getPositionInSequence=Lu.prototype.getPositionInSequence,Lu.prototype.getSequenceLength=Lu.prototype.getSequenceLength,Lu.prototype.setMuted=Lu.prototype.setMuted,Lu.prototype.resize=Lu.prototype.resize,Lu.prototype.isMuted=Lu.prototype.isMuted,Lu.prototype.setVolume=Lu.prototype.setVolume,Lu.prototype.getVolume=Lu.prototype.getVolume,Lu.prototype.play=Lu.prototype.play,Lu.prototype.pause=Lu.prototype.pause,Lu.prototype.skip=Lu.prototype.skip,Lu.prototype.canSkipNow=Lu.prototype.canSkipNow,Lu.prototype.getTimeUntilSkippable=Lu.prototype.getTimeUntilSkippable,Lu.prototype.isSkippable=Lu.prototype.isSkippable,Lu.prototype.isPaused=Lu.prototype.isPaused,Lu.prototype.getRemainingTime=Lu.prototype.getRemainingTime,Lu.prototype.getDuration=Lu.prototype.getDuration,Uu.prototype.stop=function(){this.c.reset(),this.m="",this.j=null},Uu.prototype.onCueMetadataChange=function(e){if(e.key&&e.data){var t={};t[e.key]=e.data,this.c.onTimedMetadata(t)}},b(Fu,Ke),i=Fu.prototype,i.setLocale=function(e){this.c=e},i.initClientSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.AdsLoader)throw new xe(2,10,1e4);this.b=new Mu(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":i.f.a.push(e.loadTime);break;case"ad-started":i.f.c++;break;case"ad-complete":i.f.b++;break;case"ad-skipped":i.f.f++}i.dispatchEvent(e)}))},i.onAssetUnload=function(){this.b&&this.b.stop(),this.dispatchEvent(new ze("ad-stopped")),this.f=new Cu},i.requestClientSideAds=function(e){if(!this.b)throw new xe(1,10,10001);var t=this.b;t.m=Date.now()/1e3,t.g.requestAds(e)},i.initServerSide=function(t,n){var i=this;if(!e.google||!google.ima||!google.ima.dai)throw new xe(2,10,10002);this.a=new Uu(t,n,this.c,(function(e){if(e&&e.type)switch(e.type){case"ads-loaded":i.f.a.push(e.loadTime);break;case"ad-started":i.f.c++;break;case"ad-complete":i.f.b++;break;case"ad-skipped":i.f.f++}i.dispatchEvent(e)}))},i.requestServerSideStream=function(e,t){if(t=void 0===t?"":t,!this.a)throw new xe(1,10,10003);e.adTagParameters||(e.adTagParameters={});var n=e.adTagParameters;(n.mpt||n.mpv)&&Q('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.adTagParameters.mpt="Shaka Player",e.adTagParameters.mpv="v3.0.6",n=this.a;var i=t;return n.g?n=Promise.reject(new xe(1,10,10004)):(e instanceof google.ima.dai.api.LiveStreamRequest&&(n.D=!0),n.g=new Ie,n.c.requestStream(e),n.m=i||"",n.H=Date.now()/1e3,n=n.g),n},i.replaceServerSideAdTagParameters=function(e){if(!this.a)throw new xe(1,10,10003);(e.mpt||e.mpv)&&Q('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overriden.'),e.mpt="Shaka Player",e.mpv="v3.0.6",this.a.c.replaceAdTagParameters(e)},i.getStats=function(){var e=this.f;return{loadTimes:e.a,started:e.c,playedCompletely:e.b,skipped:e.f}},i.onDashTimedMetadata=function(e){if(this.a&&"urn:google:dai:2018"==e.schemeIdUri){var t=e.schemeIdUri,n=e.eventElement?e.eventElement.getAttribute("messageData"):null;this.a.c.processMetadata(t,n,e.startTime)}},i.onHlsTimedMetadata=function(e,t){this.a&&this.a.c.processMetadata("ID3",e.data,t)},i.onCueMetadataChange=function(e){this.a&&this.a.onCueMetadataChange(e)},$("shaka.ads.AdManager",Fu),Fu.prototype.onCueMetadataChange=Fu.prototype.onCueMetadataChange,Fu.prototype.onHlsTimedMetadata=Fu.prototype.onHlsTimedMetadata,Fu.prototype.onDashTimedMetadata=Fu.prototype.onDashTimedMetadata,Fu.prototype.getStats=Fu.prototype.getStats,Fu.prototype.replaceServerSideAdTagParameters=Fu.prototype.replaceServerSideAdTagParameters,Fu.prototype.requestServerSideStream=Fu.prototype.requestServerSideStream,Fu.prototype.initServerSide=Fu.prototype.initServerSide,Fu.prototype.requestClientSideAds=Fu.prototype.requestClientSideAds,Fu.prototype.onAssetUnload=Fu.prototype.onAssetUnload,Fu.prototype.initClientSide=Fu.prototype.initClientSide,Fu.prototype.setLocale=Fu.prototype.setLocale,Fu.ADS_LOADED="ads-loaded",Fu.AD_STARTED="ad-started",Fu.AD_FIRST_QUARTILE="ad-first-quartile",Fu.AD_MIDPOINT="ad-midpoint",Fu.AD_THIRD_QUARTILE="ad-third-quartile",Fu.AD_COMPLETE="ad-complete",Fu.AD_STOPPED="ad-stopped",Fu.AD_SKIPPED="ad-skipped",Fu.AD_VOLUME_CHANGED="ad-volume-changed",Fu.AD_MUTED="ad-muted",Fu.AD_PAUSED="ad-paused",Fu.AD_RESUMED="ad-resumed",Fu.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",Fu.CUEPOINTS_CHANGED="ad-cue-points-changed",Fu.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",Fu.AD_CLICKED="ad-clicked",Fu.AD_PROGRESS="ad-progress",Fu.AD_BUFFERING="ad-buffering",Fu.AD_IMPRESSION="ad-impression",Fu.AD_DURATION_CHANGED="ad-duration-changed",Fu.AD_CLOSED="ad-closed",Fu.AD_LOADED="ad-loaded",Fu.ALL_ADS_COMPLETED="all-ads-completed",Fu.AD_LINEAR_CHANGED="ad-linear-changed",Fu.AD_METADATA="ad-metadata",Fu.AD_RECOVERABLE_ERROR="ad-recoverable-error",Fu.AD_BREAK_READY="ad-break-ready",Fu.AD_INTERACTION="ad-interaction",_u=function(){return new Fu};var zu="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),$u="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Gu=["loop","playbackRate"],Ku=["pause","play"],Wu={getAssetUri:2,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1,getLoadMode:10},Xu={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Yu=[["getConfiguration","configure"]],Ju=[["isTextTrackVisible","setTextTrackVisibility"]],Qu="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel setTextTrackVisibility trickPlay".split(" "),Zu=["attach","detach","load","unload"];function ec(e,t,n,i,r,a){var o=this;this.T=e,this.f=new Ee(t),this.W=n,this.m=!1,this.D=i,this.M=r,this.I=a,this.b=this.h=!1,this.J="",this.j=null,this.v=function(){return oc(o)},this.A=function(e,t){var n=Hu(t);switch(n.type){case"event":var i=n.targetName;n=n.event,n=new ze(n.type,n),o.D(i,n);break;case"update":for(var r in i=n.update,i)for(var a in n=o.a[r]||{},i[r])n[a]=i[r][a];o.m&&(o.W(),o.m=!1);break;case"asyncComplete":if(r=n.id,n=n.error,a=o.c[r],delete o.c[r],a)if(n){for(i in r=new xe(n.severity,n.category,n.code),n)r[i]=n[i];a.reject(r)}else a.resolve()}},this.a={video:{},player:{}},this.H=0,this.c={},this.g=null,fc.add(this)}function tc(e){if(e.b){var t=e.I();chrome.cast.requestSession((function(n){return nc(e,t,n)}),(function(t){return ic(e,t)}))}}function nc(e,t,n){dc=n,n.addUpdateListener(e.v),n.addMessageListener("urn:x-cast:com.google.shaka.v2",e.A),oc(e),uc(e,{type:"init",initState:t,appData:e.j}),e.g.resolve()}function ic(e,t){var n=8003;switch(t.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}e.g.reject(new xe(2,8,n,t))}function rc(e,t){var n=e.I();e.g=new Ie,e.m=!0,nc(e,n,t)}function ac(e){var t=dc;t.removeUpdateListener(e.v),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.A)}function oc(e){var t=!!dc&&"connected"==dc.status;if(e.b&&!t){for(var n in e.M(),e.a)e.a[n]={};sc(e)}e.b=t,e.J=t?dc.receiver.friendlyName:"",e.f.Qb()}function sc(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new xe(1,7,7e3))}}function uc(e,t){var n=Vu(t),i=dc;try{i.sendMessage("urn:x-cast:com.google.shaka.v2",n,(function(){}),ee)}catch(r){throw n=new xe(2,8,8005,r),i=new ze("error",{detail:n}),e.D("player",i),e.gb(),n}}i=ec.prototype,i.destroy=function(){return fc["delete"](this),sc(this),dc&&ac(this),this.f&&(this.f.stop(),this.f=null),this.M=this.D=null,this.b=this.h=!1,this.A=this.v=this.g=this.c=this.a=this.j=null,Promise.resolve()},i.fa=function(){return this.b},i.bd=function(){return this.J},i.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable&&this.T.length){this.h=!0,this.f.Qb();var t=new chrome.cast.SessionRequest(this.T);t=new chrome.cast.ApiConfig(t,(function(e){for(var t=d(fc),n=t.next();!n.done;n=t.next())rc(n.value,e)}),(function(e){for(var t=d(fc),n=t.next();!n.done;n=t.next())n=n.value,lc="available"==e,n.f.Qb()}),"origin_scoped"),chrome.cast.initialize(t,(function(){}),(function(){})),lc&&this.f.R(cc),(t=dc)&&t.status!=chrome.cast.SessionStatus.STOPPED?rc(this,t):dc=null}},i.hd=function(e){this.j=e,this.b&&uc(this,{type:"appData",appData:this.j})},i.cast=function(e){var t=this;return j((function(n){if(!t.h)throw new xe(1,8,8e3);if(!lc)throw new xe(1,8,8001);if(t.b)throw new xe(1,8,8002);return t.g=new Ie,chrome.cast.requestSession((function(n){return nc(t,e,n)}),(function(e){return ic(t,e)})),x(n,t.g,0)}))},i.gb=function(){if(this.b){if(sc(this),dc){ac(this);try{dc.stop((function(){}),(function(){}))}catch(Fg){}dc=null}oc(this)}},i.get=function(e,t){var n=this;if("video"==e){if(Ku.includes(t))return function(i){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];return n.Ld.apply(n,[e,t].concat(f(r)))}}else if("player"==e){if(Xu[t]&&!this.get("player","isLive")())return function(){};if(Qu.includes(t))return function(i){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];return n.Ld.apply(n,[e,t].concat(f(r)))};if(Zu.includes(t))return function(i){for(var r=[],a=0;a<arguments.length;++a)r[a]=arguments[a];return n.Ne.apply(n,[e,t].concat(f(r)))};if(Wu[t])return function(){return n.a[e][t]}}return this.a[e][t]},i.set=function(e,t,n){this.a[e][t]=n,uc(this,{type:"set",targetName:e,property:t,value:n})},i.Ld=function(e,t,n){for(var i=[],r=2;r<arguments.length;++r)i[r-2]=arguments[r];uc(this,{type:"call",targetName:e,methodName:t,args:i})},i.Ne=function(e,t,n){for(var i=[],r=2;r<arguments.length;++r)i[r-2]=arguments[r];r=new Ie;var a=this.H.toString();this.H++,this.c[a]=r;try{uc(this,{type:"asyncCall",targetName:e,methodName:t,args:i,id:a})}catch(o){r.reject(o)}return r};var cc=.02,lc=!1,dc=null,fc=new Set;function hc(e,t,n){Ke.call(this);var i=this;this.f=e,this.c=t,this.b=this.j=this.g=this.m=this.h=null,this.A=n,this.v=new Map,this.a=new ec(n,(function(){return yc(i)}),(function(){return bc(i)}),(function(e,t){return xc(i,e,t)}),(function(){return wc(i)}),(function(){return vc(i)})),pc(this)}function pc(e){e.a.init(),e.b=new mt;for(var t=d(zu),n=t.next();!n.done;n=t.next())e.b.l(e.f,n.value,(function(t){e.a.fa()||(t=new ze(t.type,t),e.g.dispatchEvent(t))}));for(var i in bu)e.b.l(e.c,bu[i],(function(t){e.a.fa()||e.j.dispatchEvent(t)}));for(var r in e.h={},t={},e.f)t.sb=r,Object.defineProperty(e.h,t.sb,{configurable:!1,enumerable:!0,get:function(t){return function(){return Tc(e,t.sb)}}(t),set:function(t){return function(n){var i=t.sb;e.a.fa()?e.a.set("video",i,n):e.f[i]=n}}(t)}),t={sb:t.sb};e.m={},gc(e,(function(t){Object.defineProperty(e.m,t,{configurable:!1,enumerable:!0,get:function(){return Sc(e,t)}})})),mc(e),e.g=new Ke,e.g.Yb=e.h,e.j=new Ke,e.j.Yb=e.m}function mc(e){var t=new Map;gc(e,(function(n,i){if(t.has(i)){var r=t.get(i);n.length<r.length?e.v.set(n,r):e.v.set(r,n)}else t.set(i,n)}))}function gc(e,t){function n(e){return"constructor"!=e&&"function"==typeof i[e]&&!r.has(e)}var i=e.c,r=new Set;for(a in i)n(a)&&(r.add(a),t(a,i[a]));for(var a=Object.getPrototypeOf(i),o=Object.getPrototypeOf({});a&&a!=o;){for(var s=d(Object.getOwnPropertyNames(a)),u=s.next();!u.done;u=s.next())u=u.value,n(u)&&(r.add(u),t(u,i[u]));a=Object.getPrototypeOf(a)}}function vc(e){var t={video:{},player:{},playerAfterLoad:{},manifest:e.c.Lc(),startTime:null};e.f.pause();for(var n=d(Gu),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.f[i];for(e.f.ended||(t.startTime=e.f.currentTime),n=d(Yu),i=n.next();!i.done;i=n.next()){var r=i.value;i=r[1],r=e.c[r[0]](),t.player[i]=r}for(n=d(Ju),i=n.next();!i.done;i=n.next())r=i.value,i=r[1],r=e.c[r[0]](),t.playerAfterLoad[i]=r;return t}function yc(e){var t=new ze("caststatuschanged");e.dispatchEvent(t)}function bc(e){var t=new ze(e.h.paused?"pause":"play");e.g.dispatchEvent(t)}function wc(e){for(var t=d(Yu),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.a.get("player",i[0])(),e.c[n](i)}var r=e.a.get("player","getAssetUri")();n=e.a.get("video","ended"),t=Promise.resolve();var a=e.f.autoplay;i=null,n||(i=e.a.get("video","currentTime")),r&&(e.f.autoplay=!1,t=e.c.load(r,i));var o={};for(n=d(Gu),i=n.next();!i.done;i=n.next())i=i.value,o[i]=e.a.get("video",i);t.then((function(){if(e.f){for(var t=d(Gu),n=t.next();!n.done;n=t.next())n=n.value,e.f[n]=o[n];for(t=d(Ju),n=t.next();!n.done;n=t.next()){var i=n.value;n=i[1],i=e.a.get("player",i[0])(),e.c[n](i)}e.f.autoplay=a,r&&e.f.play()}}),(function(t){t=new ze(tu,{detail:t}),e.c.dispatchEvent(t)}))}function Tc(e,t){if("addEventListener"==t)return function(t,n,i){return e.g.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.g.removeEventListener(t,n,i)};if(e.a.fa()&&0==Object.keys(e.a.a.video).length){var n=e.f[t];if("function"!=typeof n)return n}return e.a.fa()?e.a.get("video",t):(n=e.f[t],"function"==typeof n&&(n=n.bind(e.f)),n)}function Sc(e,t){if(e.v.has(t)&&(t=e.v.get(t)),"addEventListener"==t)return function(t,n,i){return e.j.addEventListener(t,n,i)};if("removeEventListener"==t)return function(t,n,i){return e.j.removeEventListener(t,n,i)};if("getMediaElement"==t)return function(){return e.h};if("getSharedConfiguration"==t)return e.a.get("player","getConfiguration");if("getNetworkingEngine"==t)return function(){return e.c.Eb()};if("getAdManager"==t)return function(){return e.c.yd()};if("setVideoContainer"==t)return function(t){return e.c.Rd(t)};if(e.a.fa()){if("getManifest"==t||"drmInfo"==t)return function(){return Q(t+"() does not work while casting!"),null};if("attach"==t||"detach"==t)return function(){return Q(t+"() does not work while casting!"),Promise.resolve()}}return e.a.fa()&&0==Object.keys(e.a.a.video).length&&Wu[t]||!e.a.fa()?e.c[t].bind(e.c):e.a.get("player",t)}function xc(e,t,n){e.a.fa()&&("video"==t?e.g.dispatchEvent(n):"player"==t&&e.j.dispatchEvent(n))}function kc(e,t,n,i){Ke.call(this);var r=this;this.a=e,this.c=t,this.b=new mt,this.J={video:e,player:t},this.D=n||function(){},this.M=i||function(e){return e},this.f=null,this.H=!1,this.j=!0,this.h=0,this.A=!1,this.v=!0,this.m=this.g=null,this.I=new Ee((function(){Mc(r)})),Ec(this)}function Ec(e){var t=cast.receiver.CastReceiverManager.getInstance();t.onSenderConnected=function(){return Ac(e)},t.onSenderDisconnected=function(){return Ac(e)},t.onSystemVolumeChanged=function(){var t=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();t&&Lc(e,{type:"update",update:{video:{volume:t.level,muted:t.muted}}},e.g),Lc(e,{type:"event",targetName:"video",event:{type:"volumechange"}},e.g)},e.m=t.getCastMessageBus("urn:x-cast:com.google.cast.media"),e.m.onMessage=function(t){return Rc(e,t)},e.g=t.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),e.g.onMessage=function(t){return Oc(e,t)},t.start(),t=d(zu);for(var n=t.next();!n.done;n=t.next())e.b.l(e.a,n.value,(function(t){return Ic(e,"video",t)}));for(var i in bu)e.b.l(e.c,bu[i],(function(t){return Ic(e,"player",t)}));cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?e.c.jd(3840,2160):e.c.jd(1920,1080),e.b.l(e.a,"loadeddata",(function(){e.A=!0})),e.b.l(e.c,"loading",(function(){e.j=!1,_c(e)})),e.b.l(e.a,"playing",(function(){e.j=!1,_c(e)})),e.b.l(e.a,"pause",(function(){_c(e)})),e.b.l(e.c,"unloading",(function(){e.j=!0,_c(e)})),e.b.l(e.a,"ended",(function(){new Ee((function(){e.a&&e.a.ended&&(e.j=!0,_c(e))})).R(Fc)}))}function Ac(e){e.h=0,e.v=!0,e.H=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,_c(e)}function _c(e){var t;j((function(n){return 1==n.a?x(n,Promise.resolve(),2):e.c?(t=new ze("caststatuschanged"),e.dispatchEvent(t),Pc(e)||Uc(e),void k(n)):n["return"]()}))}function Cc(e,t,n){var i,r,a,o,s,u,c,l,d,f;j((function(h){switch(h.a){case 1:for(i in t.player)r=t.player[i],e.c[i](r);return e.D(n),a=e.a.autoplay,t.manifest?(e.a.autoplay=!1,E(h,5),x(h,e.c.load(t.manifest,t.startTime),7)):x(h,Promise.resolve(),3);case 7:_(h,3);break;case 5:return o=C(h),s=tu,u=new ze(s,{detail:o}),e.c.dispatchEvent(u),h["return"]();case 3:if(!e.c)return h["return"]();for(c in t.video)l=t.video[c],e.a[c]=l;for(d in t.playerAfterLoad)f=t.playerAfterLoad[d],e.c[d](f);e.a.autoplay=a,t.manifest&&(e.a.play(),Uc(e)),k(h)}}))}function Ic(e,t,n){e.c&&(Mc(e),Lc(e,{type:"event",targetName:t,event:n},e.g))}function Mc(e){e.I.R(jc);for(var t={video:{},player:{}},n=d($u),i=n.next();!i.done;i=n.next())i=i.value,t.video[i]=e.a[i];if(e.c.S())for(var r in Xu)0==e.h%Xu[r]&&(t.player[r]=e.c[r]());for(var a in Wu)0==e.h%Wu[a]&&(t.player[a]=e.c[a]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),e.A&&(e.h+=1),Lc(e,{type:"update",update:t},e.g),Pc(e)}function Pc(e){return!(!e.v||!e.a.duration&&!e.c.S())&&(Dc(e),e.v=!1,!0)}function Dc(e,t){var n={contentId:e.c.Lc(),streamType:e.c.S()?"LIVE":"BUFFERED",contentType:""};e.c.S()||(n.duration=e.a.duration),e.f&&(n.metadata=e.f),Uc(e,void 0===t?0:t,n)}function Oc(e,t){var n=Hu(t.data);switch(n.type){case"init":e.h=0,e.A=!1,e.v=!0,Cc(e,n.initState,n.appData),Mc(e);break;case"appData":e.D(n.appData);break;case"set":var i=n.targetName,r=n.property;if(n=n.value,"video"==i){var a=cast.receiver.CastReceiverManager.getInstance();if("volume"==r){a.setSystemVolumeLevel(n);break}if("muted"==r){a.setSystemVolumeMuted(n);break}}e.J[i][r]=n;break;case"call":i=e.J[n.targetName],i[n.methodName].apply(i,n.args);break;case"asyncCall":i=n.targetName,r=n.methodName,"player"==i&&"load"==r&&(e.h=0,e.A=!1);var o=n.id,s=t.senderId;a=e.J[i],n=a[r].apply(a,n.args),"player"==i&&"load"==r&&(n=n.then((function(){e.v=!0}))),n.then((function(){return Nc(e,s,o,null)}),(function(t){return Nc(e,s,o,t)}))}}function Rc(e,t){var n=Hu(t.data);switch(n.type){case"PLAY":e.a.play(),Uc(e);break;case"PAUSE":e.a.pause(),Uc(e);break;case"SEEK":var i=n.currentTime,r=n.resumeState;null!=i&&(e.a.currentTime=Number(i)),r&&"PLAYBACK_START"==r?(e.a.play(),Uc(e)):r&&"PLAYBACK_PAUSE"==r&&(e.a.pause(),Uc(e));break;case"STOP":e.c.pd().then((function(){e.c&&Uc(e)}));break;case"GET_STATUS":Dc(e,Number(n.requestId));break;case"VOLUME":r=n.volume,i=r.level,r=r.muted;var a=e.a.volume,o=e.a.muted;null!=i&&(e.a.volume=Number(i)),null!=r&&(e.a.muted=r),a==e.a.volume&&o==e.a.muted||Uc(e);break;case"LOAD":e.h=0,e.A=!1,e.v=!1,i=n.media,r=n.currentTime,a=e.M(i.contentId),o=n.autoplay||!0,e.D(i.customData),o&&(e.a.autoplay=!0),e.c.load(a,r).then((function(){e.c&&Dc(e)}))["catch"]((function(t){var i="LOAD_FAILED";7==t.category&&7e3==t.code&&(i="LOAD_CANCELLED"),Lc(e,{requestId:Number(n.requestId),type:i},e.m)}));break;default:Lc(e,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},e.m)}}function Nc(e,t,n,i){e.c&&Lc(e,{type:"asyncComplete",id:n,error:i},e.g,t)}function Lc(e,t,n,i){e.H&&(e=Vu(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function Uc(e,t,n){n=void 0===n?null:n;var i={mediaSessionId:0,playbackRate:e.a.playbackRate,playerState:e.j?Bc:e.c.Nc()?Hc:e.a.paused?qc:Vc,currentTime:e.a.currentTime,supportedMediaCommands:63,volume:{level:e.a.volume,muted:e.a.muted}};n&&(i.media=n),Lc(e,{requestId:void 0===t?0:t,type:"MEDIA_STATUS",status:[i]},e.m)}e.__onGCastApiAvailable=function(e){if(e){e=d(fc);for(var t=e.next();!t.done;t=e.next())t.value.init()}},b(hc,Ke),i=hc.prototype,i.destroy=function(e){return e&&this.a.gb(),this.b&&(this.b.release(),this.b=null),e=[],this.c&&(e.push(this.c.destroy()),this.c=null),this.a&&(e.push(this.a.destroy()),this.a=null),this.m=this.h=this.f=null,Promise.all(e)},i.Ae=function(){return this.h},i.se=function(){return this.m},i.$d=function(){return this.a.h&&lc},i.fa=function(){return this.a.fa()},i.bd=function(){return this.a.bd()},i.cast=function(){var e,t=this;return j((function(n){return 1==n.a?(e=vc(t),x(n,t.a.cast(e),2)):t.c?x(n,t.c.pd(),0):n["return"]()}))},i.hd=function(e){this.a.hd(e)},i.Ze=function(){tc(this.a)},i.gb=function(){this.a.gb()},i.be=function(e){var t=this;return j((function(n){if(1==n.a)return e==t.A?n["return"]():(t.A=e,t.a.gb(),x(n,t.a.destroy(),2));t.a=null,t.a=new ec(e,(function(){return yc(t)}),(function(){return bc(t)}),(function(e,n){return xc(t,e,n)}),(function(){return wc(t)}),(function(){return vc(t)})),t.a.init(),k(n)}))},$("shaka.cast.CastProxy",hc),hc.prototype.changeReceiverId=hc.prototype.be,hc.prototype.forceDisconnect=hc.prototype.gb,hc.prototype.suggestDisconnect=hc.prototype.Ze,hc.prototype.setAppData=hc.prototype.hd,hc.prototype.cast=hc.prototype.cast,hc.prototype.receiverName=hc.prototype.bd,hc.prototype.isCasting=hc.prototype.fa,hc.prototype.canCast=hc.prototype.$d,hc.prototype.getPlayer=hc.prototype.se,hc.prototype.getVideo=hc.prototype.Ae,hc.prototype.destroy=hc.prototype.destroy,b(kc,Ke),i=kc.prototype,i.isConnected=function(){return this.H},i.De=function(){return this.j},i.Ve=function(e){this.f=e},i.ee=function(){this.f=null},i.We=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.title=e},i.Ue=function(e){this.f||(this.f={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.f.images=[{url:e}]},i.Te=function(e){this.f||(this.f={}),this.f.artist=e,this.f.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},i.destroy=function(){var e,t,n=this;return j((function(i){if(1==i.a)return n.b&&(n.b.release(),n.b=null),e=[],n.c&&(e.push(n.c.destroy()),n.c=null),n.I&&(n.I.stop(),n.I=null),n.a=null,n.J=null,n.D=null,n.H=!1,n.j=!0,n.g=null,n.m=null,x(i,Promise.all(e),2);t=cast.receiver.CastReceiverManager.getInstance(),t.stop(),k(i)}))},$("shaka.cast.CastReceiver",kc),kc.prototype.destroy=kc.prototype.destroy,kc.prototype.setContentArtist=kc.prototype.Te,kc.prototype.setContentImage=kc.prototype.Ue,kc.prototype.setContentTitle=kc.prototype.We,kc.prototype.clearContentMetadata=kc.prototype.ee,kc.prototype.setContentMetadata=kc.prototype.Ve,kc.prototype.isIdle=kc.prototype.De,kc.prototype.isConnected=kc.prototype.isConnected;var jc=.5,Fc=5,Bc="IDLE",Vc="PLAYING",Hc="BUFFERING",qc="PAUSED";function zc(e){var t=this;this.a=[],this.b=[],this.data=[],(new Oa).box("moov",Ra).ea("pssh",(function(e){if(!(1<e.version)){var n=Ve(e.reader.P,-12,e.size);if(t.data.push(n),t.a.push(fn(e.reader.Wa(16))),0<e.version){n=e.reader.K(),n=d(se(n));for(var i=n.next();!i.done;i=n.next())i=fn(e.reader.Wa(16)),t.b.push(i)}}})).parse(e)}function $c(e){if(!e)return e;var t=new zc(e);if(1>=t.data.length)return e;e=[];var n={};t=d(t.data);for(var i=t.next();!i.done;n={Sb:n.Sb},i=t.next())n.Sb=i.value,e.some(function(e){return function(t){return je(t,e.Sb)}}(n))||e.push(n.Sb);return hn.apply(sn,f(e))}function Gc(e,t){var n=Wc(e,t);return 1!=n.length?null:n[0]}function Kc(e,t,n){return e=Xc(e,t,n),1!=e.length?null:e[0]}function Wc(e,t){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.tagName==t}))}function Xc(e,t,n){return Array.from(e.childNodes).filter((function(e){return e instanceof Element&&e.localName==n&&e.namespaceURI==t}))}function Yc(e,t,n){return e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function Jc(e){return Array.from(e.childNodes).every((function(e){return e.nodeType==Node.TEXT_NODE||e.nodeType==Node.CDATA_SECTION_NODE}))?e.textContent.trim():null}function Qc(e,t,n,i){i=void 0===i?null:i;var r=null;return e=e.getAttribute(t),null!=e&&(r=n(e)),null==r?i:r}function Zc(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function el(e){return e?(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e),e?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null):null}function tl(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function nl(e){return e=Number(e),0===e%1?e:null}function il(e){return e=Number(e),0===e%1&&0<e?e:null}function rl(e){return e=Number(e),0===e%1&&0<=e?e:null}function al(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1])/Number(t[2]):Number(e),isNaN(e)?null:e}function ol(e,t){var n=new DOMParser,i=null,r=null;try{r=n.parseFromString(e,"text/xml")}catch(a){}return r&&r.documentElement.tagName==t&&(i=r.documentElement),i&&0<i.getElementsByTagName("parsererror").length?null:i}function sl(e,t){try{var n=St(e);return ol(n,t)}catch(i){return null}}function ul(e,t){var n=hl(e),i=null,r=[],a=[],o=new Set(n.map((function(e){return e.keyId})));if(o["delete"](null),1<o.size)throw new xe(2,4,4010);if(t||(a=n.filter((function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Nd||(i=e.init||i,!1)})),a.length&&(r=fl(i,a),0==r.length&&(r=[Ht("",i)]))),n.length&&(t||!a.length))for(r=[],n=d(ml.values()),a=n.next();!a.done;a=n.next())a=a.value,"org.w3.clearkey"!=a&&r.push(Ht(a,i));if(o=Array.from(o)[0]||null)for(n=d(r),a=n.next();!a.done;a=n.next()){a=d(a.value.initData);for(var s=a.next();!s.done;s=a.next())s.value.keyId=o}return{ud:o,Hf:i,drmInfos:r,xd:!0}}function cl(e,t,n){var i=ul(e,n);if(t.xd)e=1==t.drmInfos.length&&!t.drmInfos[0].keySystem,n=0==i.drmInfos.length,(0==t.drmInfos.length||e&&!n)&&(t.drmInfos=i.drmInfos),t.xd=!1;else if(0<i.drmInfos.length&&(t.drmInfos=t.drmInfos.filter((function(e){return i.drmInfos.some((function(t){return t.keySystem==e.keySystem}))})),0==t.drmInfos.length))throw new xe(2,4,4008);return i.ud||t.ud}function ll(e){var t=0,n=He(e),i=n.getUint32(t,!0);if(i!=e.byteLength)return[];e:{for(e=t+4+2,t=[];e<n.byteLength-1;){i=n.getUint16(e,!0),e+=2;var r=n.getUint16(e,!0);if(e+=2,0!=(1&r)||r+e>n.byteLength){n=[];break e}var a=Ve(n,e,r);t.push({type:i,value:a}),e+=r}n=t}return n}function dl(e){e=d(e.getElementsByTagName("DATA"));for(var t=e.next();!t.done;t=e.next()){t=d(t.value.childNodes);for(var n=t.next();!n.done;n=t.next())if(n=n.value,n instanceof Element&&"LA_URL"==n.tagName)return n.textContent}return""}function fl(e,t){for(var n=[],i=d(t),r=i.next();!r.done;r=i.next()){r=r.value;var a=ml.get(r.Nd);if(a){var o;if(o=Kc(r.node,"urn:microsoft:playready","pro")){o=ln(o.textContent);var s=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),u=o.length,c=s.length+16+u,l=new Uint8Array(c),f=He(l),h=0;f.setUint32(h,c),h+=4,f.setUint32(h,1886614376),h+=4,f.setUint32(h,0),h+=4,l.set(s,h),h+=s.length,f.setUint32(h,u),h+=4,l.set(o,h),o=[{initData:l,initDataType:"cenc",keyId:r.keyId}]}else o=null;o=Ht(a,r.init||e||o),(a=gl.get(a))&&(o.licenseServerUri=a(r)),n.push(o)}}return n}function hl(e){var t=[];e=d(e);for(var n=e.next();!n.done;n=e.next())(n=pl(n.value))&&t.push(n);return t}function pl(e){var t=e.getAttribute("schemeIdUri"),n=Yc(e,"urn:mpeg:cenc:2013","default_KID"),i=Xc(e,"urn:mpeg:cenc:2013","pssh").map(Jc);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),n.includes(" ")))throw new xe(2,4,4009);var r=[];try{r=i.map((function(e){return{initDataType:"cenc",initData:ln(e),keyId:null}}))}catch(a){throw new xe(2,4,4007)}return{node:e,Nd:t,keyId:n,init:0<r.length?r:null}}var ml=(new Map).set("urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b","org.w3.clearkey").set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine.alpha").set("urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95","com.microsoft.playready").set("urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb","com.adobe.primetime"),gl=(new Map).set("com.widevine.alpha",(function(e){return(e=Kc(e.node,"urn:microsoft","laurl"))&&e.getAttribute("licenseUrl")||""})).set("com.microsoft.playready",(function(e){return e=Kc(e.node,"urn:microsoft:playready","pro"),e?(e=ln(e.textContent),e=ll(e).filter((function(e){return 1===e.type}))[0],e?(e=xt(e.value,!0),(e=ol(e,"WRMHEADER"))?dl(e):""):""):""}));function vl(t,n,i,r,a){var o={RepresentationID:n,Number:i,Bandwidth:r,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(t,n,i,r){if("$$"==t)return"$";var a=o[n];if(null==a)return t;switch("RepresentationID"==n&&i&&(i=void 0),"Time"==n&&(a=Math.round(a)),r){case void 0:case"d":case"i":case"u":t=a.toString();break;case"o":t=a.toString(8);break;case"x":t=a.toString(16);break;case"X":t=a.toString(16).toUpperCase();break;default:t=a.toString()}return i=e.parseInt(i,10)||1,Array(Math.max(0,i-t.length)+1).join("0")+t}))}function yl(e,t){var n=bl(e,t,"timescale"),i=1;n&&(i=il(n)||1),n=bl(e,t,"duration"),(n=il(n||""))&&(n/=i);var r=bl(e,t,"startNumber"),a=Number(bl(e,t,"presentationTimeOffset"))||0,o=rl(r||"");null!=r&&null!=o||(o=1);var s=wl(e,t,"SegmentTimeline");if(r=null,s){r=i;var u=e.O.duration||1/0,c=Wc(s,"S");s=[];var l=-a;c=d(ue(c));for(var f=c.next();!f.done;f=c.next()){f=f.value;var h=f.item,p=f.next,m=Qc(h,"t",rl);f=Qc(h,"d",rl);var g=Qc(h,"r",nl);if(null!=m&&(m-=a),!f)break;if(h=null!=m?m:l,m=g||0,0>m)if(p){if(p=Qc(p,"t",rl),null==p)break;if(h>=p)break;m=Math.ceil((p-h)/f)-1}else{if(1/0==u)break;if(h/r>=u)break;m=Math.ceil((u*r-h)/f)-1}for(0<s.length&&h!=l&&(s[s.length-1].end=h/r),p=d(se(m+1)),m=p.next();!m.done;m=p.next())l=h+f,s.push({start:h/r,end:l/r,ef:h}),h=l}r=s}return{timescale:i,Z:n,qb:o,Ga:a/i||0,qd:a,timeline:r}}function bl(e,t,n){return[t(e.G),t(e.aa),t(e.ka)].filter(Ft).map((function(e){return e.getAttribute(n)})).reduce((function(e,t){return e||t}))}function wl(e,t,n){return[t(e.G),t(e.aa),t(e.ka)].filter(Ft).map((function(e){return Gc(e,n)})).reduce((function(e,t){return e||t}))}function Tl(e,t,n,i,r,a){for(var o=Yc(e,"http://www.w3.org/1999/xlink","href"),s=Yc(e,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=d(Array.from(e.attributes)),c=u.next();!c.done;c=u.next())c=c.value,"http://www.w3.org/1999/xlink"==c.namespaceURI&&e.removeAttributeNS(c.namespaceURI,c.localName);if(5<=a)return Pe(new xe(2,4,4028));if("onLoad"!=s)return Pe(new xe(2,4,4027));var l=Vt([i],[o]);return r.request(0,rt(l,t)).U((function(i){if(i=sl(i.data,e.tagName),!i)return Pe(new xe(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;i.childNodes.length;){var s=i.childNodes[0];i.removeChild(s),e.appendChild(s)}for(i=d(Array.from(i.attributes)),s=i.next();!s.done;s=i.next())e.setAttributeNode(s.value.cloneNode(!1));return Sl(e,t,n,l[0],r,a+1)}))}function Sl(e,t,n,i,r,a){if(a=void 0===a?0:a,Yc(e,"http://www.w3.org/1999/xlink","href")){var o=Tl(e,t,n,i,r,a);return n&&(o=o.U(void 0,(function(){return Sl(e,t,n,i,r,a)}))),o}o=[];for(var s=d(Array.from(e.childNodes)),u=s.next();!u.done;u=s.next())u=u.value,u instanceof Element&&("urn:mpeg:dash:resolve-to-zero:2013"==Yc(u,"http://www.w3.org/1999/xlink","href")?e.removeChild(u):"SegmentTimeline"!=u.tagName&&o.push(Sl(u,t,n,i,r,a)));return Ne(o).U((function(){return e}))}function xl(e,t,n,i,r,a,o){var s,u=(new Oa).ea("sidx",(function(e){s=kl(t,i,r,a,o,n,e)}));if(e&&u.parse(e),s)return s;throw new xe(2,3,3004)}function kl(e,t,n,i,r,a,o){var s=[];o.reader.skip(4);var u=o.reader.K();if(0==u)throw new xe(2,3,3005);if(0==o.version)var c=o.reader.K(),l=o.reader.K();else c=o.reader.pb(),l=o.reader.pb();o.reader.skip(2);var f=o.reader.Mb();for(e=e+o.size+l,f=d(se(f)),l=f.next();!l.done;l=f.next()){var h=o.reader.K();l=(2147483648&h)>>>31,h&=2147483647;var p=o.reader.K();if(o.reader.skip(4),1==l)throw new xe(2,3,3006);s.push(new $r(c/u+n,(c+p)/u+n,(function(){return a}),e,e+h-1,t,n,i,r)),c+=p,e+=h}return o.parser.stop(),s}function El(e){this.b=He(e),this.a=new Ma(this.b,0)}function Al(e){var t=_l(e);if(7<t.length)throw new xe(2,3,3002);var n=0;t=d(t);for(var i=t.next();!i.done;i=t.next())n=256*n+i.value;t=_l(e);e:{i=d(Cl);for(var r=i.next();!r.done;r=i.next())if(je(t,new Uint8Array(r.value))){i=!0;break e}i=!1}if(i)t=e.b.byteLength-e.a.C;else{if(8==t.length&&224&t[1])throw new xe(2,3,3001);i=0,r=d(ue(t));for(var a=r.next();!a.done;a=r.next()){a=a.value;var o=a.item;i=0==a.Y?o&(1<<8-t.length)-1:256*i+o}t=i}return t=e.a.C+t<=e.b.byteLength?t:e.b.byteLength-e.a.C,i=He(e.b,e.a.C,t),e.a.skip(t),new Il(n,i)}function _l(e){var t=e.a.C,n=e.a.oa();if(0==n)throw new xe(2,3,3002);return n=8-Math.floor(Math.log2(n)),e.a.skip(n-1),Ve(e.b,t,n)}El.prototype.ua=function(){return this.a.ua()};var Cl=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Il(e,t){this.id=e,this.a=t}function Ml(e){if(8<e.a.byteLength)throw new xe(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new xe(2,3,3001);for(var t=0,n=d(se(e.a.byteLength)),i=n.next();!i.done;i=n.next())i=e.a.getUint8(i.value),t=256*t+i;return t}function Pl(e,t,n,i,r,a,o,s,u){function c(){return r}var l=[];e=new El(e.a);for(var d=null,f=null;e.ua();){var h=Al(e);if(187==h.id){var p=Dl(h);p&&(h=n*p.ff,p=t+p.Me,null!=d&&l.push(new $r(d+o,h+o,c,f,p-1,a,o,s,u)),d=h,f=p)}}return null!=d&&l.push(new $r(d+o,i+o,c,f,null,a,o,s,u)),l}function Dl(e){var t=new El(e.a);if(e=Al(t),179!=e.id)throw new xe(2,3,3013);if(e=Ml(e),t=Al(t),183!=t.id)throw new xe(2,3,3012);t=new El(t.a);for(var n=0;t.ua();){var i=Al(t);if(241==i.id){n=Ml(i);break}}return{ff:e,Me:n}}function Ol(e,t){var n=wl(e,t,"Initialization");if(!n)return null;var i=e.G.na,r=n.getAttribute("sourceURL");r&&(i=Vt(e.G.na,[r])),r=0;var a=null;return(n=Qc(n,"range",tl))&&(r=n.start,a=n.end),new qr((function(){return i}),r,a)}function Rl(e,t){var n=Number(bl(e,Ll,"presentationTimeOffset"))||0,i=bl(e,Ll,"timescale"),r=1;i&&(r=il(i)||1);var a=n/r||0,o=Ol(e,Ll);jl(e,o);var s=Xe(e);return{hb:function(){var e=wl(s,Ll,"RepresentationIndex"),n=s.G.na;return e&&(e=e.getAttribute("sourceURL"))&&(n=Vt(s.G.na,[e])),e=Ul(s),Nl(s,t,o,n,e.start,e.end,a)}}}function Nl(e,t,n,i,r,a,o){var s,u,c,l,d,f,h,p,m,g,v,y,b,w,T;return j((function(S){var k;if(1==S.a)return s=e.presentationTimeline,u=!e.Na||!e.O.Dd,c=e.O.start,l=e.O.duration,d=e.G.mimeType.split("/")[1],f=t,h=null,p=[f(i,r,a),"webm"==d?f(n.c(),n.b,n.a):null],f=null,x(S,Promise.all(p),2);if(m=S.b,g=m[0],v=m[1]||null,y=null,b=c-o,w=c,T=l?c+l:1/0,"mp4"==d)var E=xl(g,r,i,n,b,w,T);else{if(E=new El(v),440786851!=Al(E).id)throw new xe(2,3,3008);var A=Al(E);if(408125543!=A.id)throw new xe(2,3,3009);for(E=A.a.byteOffset,A=new El(A.a),k=null;A.ua();){var _=Al(A);if(357149030==_.id){k=_;break}}if(!k)throw new xe(2,3,3010);for(k=new El(k.a),_=1e6,A=null;k.ua();){var C=Al(k);if(2807729==C.id)_=Ml(C);else if(17545==C.id)if(4==C.a.byteLength)A=C.a.getFloat32(0);else{if(8!=C.a.byteLength)throw new xe(2,3,3003);A=C.a.getFloat64(0)}}if(null==A)throw new xe(2,3,3011);if(k=_/1e9,k={$e:k,duration:A*k},A=k.$e,k=k.duration,_=Al(new El(g)),475249515!=_.id)throw new xe(2,3,3007);E=Pl(_,E,A,k,i,n,b,w,T)}return y=E,s.mb(y),h=new ma(y),u&&h.Ja(w,T),S["return"](h)}))}function Ll(e){return e.Nb}function Ul(e){var t=wl(e,Ll,"RepresentationIndex");return e=bl(e,Ll,"indexRange"),e=tl(e||""),t&&(e=Qc(t,"range",tl,e)),e}function jl(e,t){if(Fl(e,t),!Ul(e))throw new xe(2,4,4002)}function Fl(e,t){var n=e.G.mimeType.split("/")[1];if("text"!=e.G.contentType&&"mp4"!=n&&"webm"!=n)throw new xe(2,4,4006);if("webm"==n&&!t)throw new xe(2,4,4005)}function Bl(e,t){var n=Ol(e,Vl),i=Hl(e);if(!i.Z&&!i.timeline&&1<i.jb.length)throw new xe(2,4,4002);if(!i.Z&&!e.O.duration&&!i.timeline&&1==i.jb.length)throw new xe(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new xe(2,4,4002);var r=null,a=null;return e.ka.id&&e.G.id&&(a=e.ka.id+","+e.G.id,r=t[a]),n=ql(e.O.start,e.O.duration,e.G.na,i,n),r?(r.kb(n),r.Oa(e.presentationTimeline.Qa())):(e.presentationTimeline.mb(n),r=new ma(n),a&&e.Na&&(t[a]=r)),e.Na&&e.O.Dd||r.Ja(e.O.start,e.O.duration?e.O.start+e.O.duration:1/0),{hb:function(){return Promise.resolve(r)}}}function Vl(e){return e.Ma}function Hl(e){var t=zl(e);e=yl(e,Vl);var n=e.qb;0==n&&(n=1);var i=0;return e.Z?i=e.Z*(n-1):e.timeline&&0<e.timeline.length&&(i=e.timeline[0].start),{Z:e.Z,startTime:i,qb:n,Ga:e.Ga,timeline:e.timeline,jb:t}}function ql(e,t,n,i,r){var a=i.jb.length;i.timeline&&i.timeline.length!=i.jb.length&&(a=Math.min(i.timeline.length,i.jb.length));var o=e-i.Ga,s=t?e+t:1/0,u=[],c=i.startTime,l={};a=d(se(a));for(var f=a.next();!f.done;l={xc:l.xc},f=a.next()){f=f.value;var h=i.jb[f];l.xc=Vt(n,[h.Fe]);var p=void 0;p=null!=i.Z?c+i.Z:i.timeline?i.timeline[f].end:c+t,u.push(new $r(e+c,e+p,function(e){return function(){return e.xc}}(l),h.start,h.end,r,o,e,s)),c=p}return u}function zl(e){return[e.G.Ma,e.aa.Ma,e.ka.Ma].filter(Ft).map((function(e){return Wc(e,"SegmentURL")})).reduce((function(e,t){return 0<e.length?e:t})).map((function(t){t.getAttribute("indexRange")&&!e.Bd&&(e.Bd=!0);var n=t.getAttribute("media");return t=Qc(t,"mediaRange",tl,{start:0,end:null}),{Fe:n,start:t.start,end:t.end}}))}function $l(e,t,n,i,r){var a=Jl(e),o=Kl(e);Wl(o);var s=Xe(e);if(o.Ib)return Fl(e,a),{hb:function(){var e=vl(o.Ib,s.G.id,null,s.bandwidth||null,null);return e=Vt(s.G.na,[e]),Nl(s,t,a,e,0,null,o.Ga)}};if(o.Z)return i||(e.presentationTimeline.Uc(o.Z),e.presentationTimeline.Vc(e.O.start)),{hb:function(){return Xl(s,o,r,a)}};var u=null;i=null,e.ka.id&&e.G.id&&(i=e.ka.id+","+e.G.id,u=n[i]);var c=Yl(s,o,a),l=e.O.start,d=e.O.duration?e.O.start+e.O.duration:1/0,f=1/0!=d;return u?(f&&new ma(c).Ja(l,d),u.kb(c),u.Oa(e.presentationTimeline.Qa())):(e.presentationTimeline.mb(c),u=new ma(c),i&&e.Na&&(n[i]=u)),f&&u.Ja(l,d),{hb:function(){return Promise.resolve(u)}}}function Gl(e){return e.Ob}function Kl(e){var t=yl(e,Gl),n=bl(e,Gl,"media");return e=bl(e,Gl,"index"),{Z:t.Z,timescale:t.timescale,qb:t.qb,Ga:t.Ga,qd:t.qd,timeline:t.timeline,Tc:n,Ib:e}}function Wl(e){var t=e.Ib?1:0;if(t+=e.timeline?1:0,t+=e.Z?1:0,0==t)throw new xe(2,4,4002);if(1!=t&&(e.Ib&&(e.timeline=null),e.Z=null),!e.Ib&&!e.Tc)throw new xe(2,4,4002)}function Xl(e,t,n,i){function r(e){var n=(e-f)*l,r=n+t.Ga;return n+=s,new $r(n,Math.min(n+l,c),(function(){var t=vl(p,g,e,m,r*h);return Vt(v,[t])}),0,null,i,y,s,c)}function a(){var e=[Math.max(o.Qa(),s),Math.min(o.Ka(),c)].map((function(e){return e-s}));return[Math.ceil(e[0]/l),Math.ceil(e[1]/l)-1].map((function(e){return e+f}))}var o=e.presentationTimeline,s=e.O.start,u=e.O.duration,c=u?s+u:1/0,l=t.Z,f=t.qb,h=t.timescale,p=t.Tc,m=e.bandwidth||null,g=e.G.id,v=e.G.na,y=s-t.Ga,b=a();u=b[1];var w=[];for(e=e.Na?Math.max(b[0],b[1]-n+1):b[0];e<=u;++e)n=r(e),w.push(n);var T=new ma(w);if(o.Ka()<c){var S=u+1;T.qc(l,(function(){T.Oa(o.Qa());var e=d(a());e.next(),e=e.next().value;for(var t=[];S<=e;){var n=r(S);t.push(n),S++}return t}))}return Promise.resolve(T)}function Yl(e,t,n){var i=e.O.start,r=e.O.duration,a=i-t.Ga;r=r?i+r:1/0;for(var o=[],s={},u=d(ue(t.timeline)),c=u.next();!c.done;s={yc:s.yc,Bc:s.Bc,vc:s.vc,Cc:s.Cc},c=u.next()){c=c.value;var l=c.item,f=l.start,h=l.ef;l=l.end,s.Bc=c.Y+t.qb,s.Cc=h+t.qd,s.yc=e.G.id,s.vc=e.bandwidth||null,o.push(new $r(i+f,i+l,function(n){return function(){var i=vl(t.Tc,n.yc,n.Bc,n.vc||null,n.Cc);return Vt(e.G.na,[i]).map((function(e){return e.toString()}))}}(s),0,null,n,a,i,r))}return o}function Jl(e){var t=bl(e,Gl,"initialization");if(!t)return null;var n=e.G.id,i=e.bandwidth||null,r=e.G.na;return new qr((function(){var e=vl(t,n,null,i,null);return Vt(r,[e])}),0,null)}function Ql(){this.f=[],this.a=[],this.b=[],this.c=[],this.g=new Set}function Zl(e,t,n){var i,r,a,o,s,u,c,l,f,h,p,m,g,v,y,b,w,T,S,E,A,_,C,I,M,P,D,O,R;return j((function(N){switch(N.a){case 1:if(i=qt,ed(t),nd(t),td(t),!n&&1==t.length){r=t[0],e.a=r.bc,e.b=r.sc,e.c=r.textStreams,N.u(2);break}for(a=-1,o=d(ue(t)),s=o.next();!s.done;s=o.next())u=s.value,c=u.Y,l=u.item,e.g.has(l.id)||(e.g.add(l.id),-1==a&&(a=c));if(-1==a)return N["return"]();for(f=t.map((function(e){return e.bc})),h=t.map((function(e){return e.sc})),p=t.map((function(e){return e.textStreams})),m=d(p),g=m.next();!g.done;g=m.next())v=g.value,v.push(yd());return x(N,rd(e.a,f,a,ud,ld),3);case 3:return x(N,rd(e.b,h,a,ud,ld),4);case 4:return x(N,rd(e.c,p,a,ud,ld),2);case 2:if(y=0,b=[],e.b.length&&e.a.length)for(_=d(e.a),C=_.next();!C.done;C=_.next())for(I=C.value,M=d(e.b),P=M.next();!P.done;P=M.next())D=P.value,O=Bn(I.drmInfos,D.drmInfos),I.drmInfos.length&&D.drmInfos.length&&!O.length||(R=y++,b.push({id:R,language:I.language,primary:I.primary,audio:I,video:D,bandwidth:(I.bandwidth||0)+(D.bandwidth||0),drmInfos:O,allowedByApplication:!0,allowedByKeySystem:!0}));else for(w=e.b.concat(e.a),T=d(w),S=T.next();!S.done;S=T.next())E=S.value,A=y++,b.push({id:A,language:E.language,primary:E.primary,audio:E.type==i.eb?E:null,video:E.type==i.Ca?E:null,bandwidth:E.bandwidth||0,drmInfos:E.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0});e.f=b,k(N)}}))}function ed(e){e=d(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=d(t.bc),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=!1,o=d(n),s=o.next();!s.done;s=o.next())s=s.value,r.id!=s.id&&r.channelsCount==s.channelsCount&&r.language==s.language&&r.bandwidth==s.bandwidth&&Qe(r.roles,s.roles)&&r.audioSamplingRate==s.audioSamplingRate&&r.primary==s.primary&&(a=!0);a||n.push(r)}t.bc=n}}function td(e){e=d(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=d(t.textStreams),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=!1,o=d(n),s=o.next();!s.done;s=o.next())s=s.value,r.id!=s.id&&r.language==s.language&&Qe(r.roles,s.roles)&&(a=!0);a||n.push(r)}t.textStreams=n}}function nd(e){e=d(e);for(var t=e.next();!t.done;t=e.next()){t=t.value;for(var n=[],i=d(t.sc),r=i.next();!r.done;r=i.next()){r=r.value;for(var a=!1,o=d(n),s=o.next();!s.done;s=o.next())s=s.value,r.id!=s.id&&r.width==s.width&&r.frameRate==s.frameRate&&Qe(r.roles,s.roles)&&Gt(r.closedCaptions,s.closedCaptions)&&r.bandwidth==s.bandwidth&&(a=!0);a||n.push(r)}t.sc=n}}function id(e){var t,n,i,r,a,o,s,u,c,l,f,h,p,m,g,v,y,b,w,T,S,k;return j((function(E){switch(E.a){case 1:if(t=qt,1==e.length)return E["return"](e[0]);for(n=e.map((function(e){return e.filter((function(e){return e.type==t.eb}))})),i=e.map((function(e){return e.filter((function(e){return e.type==t.Ca}))})),r=e.map((function(e){return e.filter((function(e){return e.type==t.$}))})),a=d(r),o=a.next();!o.done;o=a.next())s=o.value,s.push({id:0,originalId:"",primary:!1,type:"text",mimeType:"",codecs:"",language:"",label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null});return x(E,rd([],n,0,cd,dd),2);case 2:return u=E.b,x(E,rd([],i,0,cd,dd),3);case 3:return c=E.b,x(E,rd([],r,0,cd,dd),4);case 4:if(l=E.b,f=0,c.length&&u.length)for(v=d(u),y=v.next();!y.done;y=v.next())for(b=y.value,w=d(c),T=w.next();!T.done;T=w.next())S=T.value,k=f++,S.variantIds.push(k),b.variantIds.push(k);else for(h=c.concat(u),p=d(h),m=p.next();!m.done;m=p.next())g=m.value,g.variantIds=[f++];return E["return"](c.concat(u,l))}}))}function rd(e,t,n,i,r){var a,o,s,u,c,l,f,h,p,m,g,v,y,b,w,T,S,k,E,A,_,C;return j((function(I){switch(I.a){case 1:for(a=qt,o=[],s=d(ue(t)),u=s.next();!u.done;u=s.next())c=u.value,l=c.Y,f=c.item,l>=n?o.push(new Set(f)):o.push(new Set);h=d(e),p=h.next();case 2:if(p.done){I.u(4);break}return m=p.value,x(I,ad(m,t,n,r,o),5);case 5:if(g=I.b,!g)throw new xe(2,4,4037);p=h.next(),I.u(2);break;case 4:v=d(o),y=v.next();case 6:if(y.done){I.u(8);break}b=y.value,w=d(b),T=w.next();case 9:if(T.done){y=v.next(),I.u(6);break}return S=T.value,x(I,od(S,t,i,r,o),12);case 12:(k=I.b)&&e.push(k),T=w.next(),I.u(9);break;case 8:for(E=d(o),y=E.next();!y.done;y=E.next())for(A=y.value,_={},C=d(A),T=C.next();!T.done;_={cb:_.cb},T=C.next())if(_.cb=T.value,(_.cb.type!=a.$||_.cb.language)&&e.some(function(e){return function(t){return t.mimeType==e.cb.mimeType&&Xt(t.codecs)[0]==Xt(e.cb.codecs)[0]}}(_)))throw new xe(2,4,4037);return I["return"](e)}}))}function ad(e,t,n,i,r){var a;return j((function(o){return 1==o.a?(a=fd(t,e))?x(o,Promise.all(a.map((function(e){return e.createSegmentIndex()}))),2):o["return"](!1):(sd(e,a,n,i,r),o["return"](!0))}))}function od(e,t,n,i,r){var a,o;return j((function(s){return 1==s.a?(a=n(e),(o=fd(t,a))?a.createSegmentIndex?x(s,Promise.all(o.map((function(e){return e.createSegmentIndex()}))),2):s.u(2):s["return"](null)):(sd(a,o,0,i,r),s["return"](a))}))}function sd(e,t,n,i,r){t=d(ue(t));for(var a=t.next();!a.done;a=t.next()){var o=a.value;if(a=o.Y,o=o.item,a>=n){i(e,o);var s=!0;"audio"==e.type&&0==ir(e.language,o.language)&&(s=!1),s&&r[a]["delete"](o)}}}function ud(e){return e=Object.assign({},e),e.originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.segmentIndex=new ya,e.emsgSchemeIdUris=[],e.keyIds=new Set,e.closedCaptions=null,e.trickModeVideo=null,e}function cd(e){return e=Object.assign({},e),e.keyIds=new Set,e.segments=[],e.variantIds=[],e.closedCaptions=null,e}function ld(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles))),t.emsgSchemeIdUris&&(e.emsgSchemeIdUris=Array.from(new Set(e.emsgSchemeIdUris.concat(t.emsgSchemeIdUris))));var n=t.keyIds;if(n=new Set(f(e.keyIds).concat(f(n))),e.keyIds=n,null==e.originalId?e.originalId=t.originalId:e.originalId+=","+(t.originalId||""),n=Bn(e.drmInfos,t.drmInfos),t.drmInfos.length&&e.drmInfos.length&&!n.length)throw new xe(2,4,4038);if(e.drmInfos=n,e.encrypted=e.encrypted||t.encrypted,t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map),n=d(t.closedCaptions);for(var i=n.next();!i.done;i=n.next()){var r=d(i.value);i=r.next().value,r=r.next().value,e.closedCaptions.set(i,r)}}e.segmentIndex.f.push(t.segmentIndex),t.trickModeVideo?(e.trickModeVideo||(e.trickModeVideo=ud(t.trickModeVideo),e.trickModeVideo.segmentIndex=e.segmentIndex.clone()),ld(e.trickModeVideo,t.trickModeVideo)):e.trickModeVideo&&ld(e.trickModeVideo,t)}function dd(e,t){e.roles=Array.from(new Set(e.roles.concat(t.roles)));var n=t.keyIds;if(n=new Set(f(e.keyIds).concat(f(n))),e.keyIds=n,e.encrypted=e.encrypted&&t.encrypted,e.segments.push.apply(e.segments,f(t.segments)),t.closedCaptions){e.closedCaptions||(e.closedCaptions=new Map),n=d(t.closedCaptions);for(var i=n.next();!i.done;i=n.next()){var r=d(i.value);i=r.next().value,r=r.next().value,e.closedCaptions.set(i,r)}}}function fd(e,t){for(var n=[],i=d(e),r=i.next();!r.done;r=i.next()){var a=t,o={audio:hd,video:hd,text:pd}[a.type],s={audio:md,video:gd,text:vd}[a.type],u=null;r=d(r.value);for(var c=r.next();!c.done;c=r.next())c=c.value,!o(a,c)||u&&!s(a,u,c)||(u=c);if(a=u,!a)return null;n.push(a)}return n}function hd(e,t){var n;if(!(n=t.mimeType!=e.mimeType||Xt(t.codecs)[0]!=Xt(e.codecs)[0])&&(n=e.drmInfos)){n=e.drmInfos;var i=t.drmInfos;n=!(!n.length||!i.length||0<Bn(n,i).length)}return!n}function pd(e,t){return!!e.language&&(!t.language||0!=ir(e.language,t.language)&&t.kind==e.kind)}function md(e,t,n){if(e.id==n.id)return!0;var i=ir(e.language,t.language),r=ir(e.language,n.language);return r>i||!(r<i)&&(!(t.primary||!n.primary)||!(t.primary&&!n.primary)&&(e.roles.length?(i=t.roles.filter((function(t){return e.roles.includes(t)})),r=n.roles.filter((function(t){return e.roles.includes(t)})),r.length>i.length||!(r.length<i.length)&&n.roles.length<t.roles.length):(i=bd(e.channelsCount,t.channelsCount,n.channelsCount),i==Td||i!=xd&&(i=bd(e.audioSamplingRate,t.audioSamplingRate,n.audioSamplingRate),i==Td||i!=xd&&!(!e.bandwidth||wd(e.bandwidth,t.bandwidth,n.bandwidth)!=Td)))))}function gd(e,t,n){if(e.id==n.id)return!0;var i=bd(e.width*e.height,t.width*t.height,n.width*n.height);if(i==Td)return!0;if(i==xd)return!1;if(e.frameRate){if(i=bd(e.frameRate,t.frameRate,n.frameRate),i==Td)return!0;if(i==xd)return!1}return!(!e.bandwidth||wd(e.bandwidth,t.bandwidth,n.bandwidth)!=Td)}function vd(e,t,n){if(e.id==n.id)return!0;var i=ir(e.language,t.language),r=ir(e.language,n.language);if(r>i)return!0;if(r<i)return!1;if(!t.primary&&n.primary)return!0;if(t.primary&&!n.primary)return!1;if(e.roles.length){if(i=t.roles.filter((function(t){return e.roles.includes(t)})),r=n.roles.filter((function(t){return e.roles.includes(t)})),r.length>i.length)return!0;if(r.length<i.length)return!1}return n.mimeType==e.mimeType&&n.codecs==e.codecs&&(t.mimeType!=e.mimeType||t.codecs!=e.codecs)}function yd(){return{id:0,originalId:"",createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new ma([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",label:null,type:"text",primary:!1,trickModeVideo:null,emsgSchemeIdUris:null,roles:[],channelsCount:null,audioSamplingRate:null,closedCaptions:null}}function bd(e,t,n){if(t==e&&e!=n)return xd;if(n==e&&e!=t)return Td;if(t>e){if(n<=e||n-e<t-e)return Td;if(n-e>t-e)return xd}else{if(n>e)return xd;if(e-n<e-t)return Td;if(e-n>e-t)return xd}return Sd}function wd(e,t,n){return t=Math.abs(e-t),e=Math.abs(e-n),e<t?Td:t<e?xd:Sd}Ql.prototype.release=function(){for(var e=d(this.a.concat(this.b,this.c)),t=e.next();!t.done;t=e.next())t=t.value,t.segmentIndex&&t.segmentIndex.release();this.a=[],this.b=[],this.c=[],this.f=[]};var Td=1,Sd=0,xd=-1;function kd(){var e=this;this.s=this.i=null,this.b=[],this.o=null,this.m=1,this.f={},this.a=new Ql,this.h=0,this.j=new G(5),this.g=new Ee((function(){e.Kb()})),this.c=new et}function Ed(e){var t,n,i,r,a,o,s;return j((function(u){return 1==u.a?(t=rt(e.b,e.i.retryParameters),n=e.s.networkingEngine,i=Date.now(),r=n.request(0,t),tt(e.c,r),x(u,r.promise,2)):3!=u.a?(a=u.b,e.s?(a.uri&&!e.b.includes(a.uri)&&e.b.unshift(a.uri),x(u,Ad(e,a.data,a.uri),3)):u["return"](0)):(o=Date.now(),s=(o-i)/1e3,K(e.j,1,s),u["return"](s))}))}function Ad(e,t,n){var i,r,a,o;return j((function(s){if(1==s.a){if(i=sl(t,"MPD"),!i)throw new xe(2,4,4001,n);return r=e.i.dash.xlinkFailGracefully,a=Sl(i,e.i.retryParameters,r,n,e.s.networkingEngine),tt(e.c,a),x(s,a.promise,2)}return o=s.b,s["return"](_d(e,o,n))}))}function _d(e,t,n){var i,r,a,o,s,u,c,l,f,h,p,m,g,v,y,b,w,T,S,k,E,A;return j((function(_){switch(_.a){case 1:i=[n],r=Wc(t,"Location").map(Jc).filter(Ft),0<r.length&&(a=Vt(i,r),i=e.b=a),o=Wc(t,"BaseURL").map(Jc),s=Vt(i,o),u=e.i.dash.ignoreMinBufferTime,c=0,u||(c=Qc(t,"minBufferTime",el)||0),e.h=Qc(t,"minimumUpdatePeriod",el,-1),l=Qc(t,"availabilityStartTime",Zc),f=Qc(t,"timeShiftBufferDepth",el),h=e.i.dash.ignoreSuggestedPresentationDelay,p=null,h||(p=Qc(t,"suggestedPresentationDelay",el)),m=Qc(t,"maxSegmentDuration",el),g=t.getAttribute("type")||"static",e.o?v=e.o.presentationTimeline:(y=e.i.defaultPresentationDelay||1.5*c,b=null!=p?p:y,v=new Gr(l,b,e.i.dash.autoCorrectDrift)),w={Na:"static"!=g,presentationTimeline:v,ka:null,O:null,aa:null,G:null,bandwidth:0,Bd:!1};var C=Qc(t,"mediaPresentationDuration",el),I=[],M=0,P=Wc(t,"Period");P=d(ue(P));for(var D=P.next();!D.done;D=P.next()){var O=D.value;D=O.item,O=O.next,M=Qc(D,"start",el,M);var R=Qc(D,"duration",el),N=null;if(O){var L=Qc(O,"start",el);null!=L&&(N=L-M)}else null!=C&&(N=C-M);if(null==N&&(N=R),D=Cd(e,w,s,{start:M,duration:N,node:D,Dd:null==N||!O}),I.push(D),null==N){M=null;break}M+=N}return T=null!=C?{periods:I,duration:C,vd:!1}:{periods:I,duration:M,vd:!0},S=T.duration,k=T.periods,v.Pb("static"==g),"static"!=g&&T.vd||v.ya(S||1/0),v.S()&&!isNaN(e.i.availabilityWindowOverride)&&(f=e.i.availabilityWindowOverride),null==f&&(f=1/0),v.ld(f),v.Uc(m||1),x(_,Zl(e.a,k,w.Na),2);case 2:if(e.o){e.o.variants=e.a.f,e.o.textStreams=e.a.c,_.u(3);break}if(e.o={presentationTimeline:v,variants:e.a.f,textStreams:e.a.c,offlineSessionIds:[],minBufferTime:c||0},!v.Td()){_.u(3);break}return E=Wc(t,"UTCTiming"),x(_,Ud(e,s,E),5);case 5:if(A=_.b,!e.s)return _["return"]();v.Pd(A);case 3:return e.s.makeTextStreamsForClosedCaptions(e.o),x(_,e.s.filter(e.o),0)}}))}function Cd(e,t,n,i){t.ka=Od(i.node,null,n),t.O=i,t.ka.id||(t.ka.id="__shaka_period_"+i.start),n=Wc(i.node,"EventStream"),n=d(n);for(var r=n.next();!r.done;r=n.next())jd(e,i.start,i.duration,r.value);if(n=Wc(i.node,"AdaptationSet").map((function(n){return Md(e,t,n)})).filter(Ft),t.Na){i=[],r=d(n);for(var a=r.next();!a.done;a=r.next()){a=d(a.value.Pe);for(var o=a.next();!o.done;o=a.next())i.push(o.value)}if(i.length!=new Set(i).size)throw new xe(2,4,4018)}for(i=n.filter((function(e){return!e.od})),n=n.filter((function(e){return e.od})),n=d(n),r=n.next();!r.done;r=n.next()){a=r.value,r=a.streams[0],a=a.od,o=d(i);for(var s=o.next();!s.done;s=o.next())if(s=s.value,s.id==a){s=d(s.streams);for(var u=s.next();!u.done;u=s.next())u.value.trickModeVideo=r}}if(r=e.i.disableAudio?[]:Id(i,"audio"),a=e.i.disableVideo?[]:Id(i,"video"),n=e.i.disableText?[]:Id(i,"text"),!a.length&&!r.length)throw new xe(2,4,4004);for(i=[],r=d(r),o=r.next();!o.done;o=r.next())i.push.apply(i,f(o.value.streams));for(r=[],a=d(a),o=a.next();!o.done;o=a.next())r.push.apply(r,f(o.value.streams));for(a=[],n=d(n),o=n.next();!o.done;o=n.next())a.push.apply(a,f(o.value.streams));return{id:t.ka.id,bc:i,sc:r,textStreams:a}}function Id(e,t){return e.filter((function(e){return e.contentType==t}))}function Md(e,t,n){if(t.aa=Od(n,t.ka,null),"image"==t.aa.contentType)return null;var i=!1,r=Wc(n,"Role"),a=r.map((function(e){return e.getAttribute("value")})).filter(Ft),o=void 0,s="text"==t.aa.contentType;s&&(o="subtitle"),r=d(r);for(var u=r.next();!u.done;u=r.next()){u=u.value;var c=u.getAttribute("schemeIdUri");if(null==c||"urn:mpeg:dash:role:2011"==c)switch(u=u.getAttribute("value"),u){case"main":i=!0;break;case"caption":case"subtitle":o=u}}c=Wc(n,"EssentialProperty"),r=null,u=!1,c=d(c);for(var l=c.next();!l.done;l=c.next())l=l.value,"http://dashif.org/guidelines/trickmode"==l.getAttribute("schemeIdUri")?r=l.getAttribute("value"):u=!0;c=Wc(n,"Accessibility");var h=new Map;for(c=d(c),l=c.next();!l.done;l=c.next()){var p=l.value;if(l=p.getAttribute("schemeIdUri"),p=p.getAttribute("value"),"urn:scte:dash:cc:cea-608:2015"==l||"urn:scte:dash:cc:cea-708:2015"==l)if(l=1,null!=p){p=d(p.split(";"));for(var m=p.next();!m.done;m=p.next()){var g=m.value,v=m=void 0;g.includes("=")?(g=g.split("="),m=g[0].startsWith("CC")?g[0]:"CC"+g[0],v=g[1].split(",")[0].split(":").pop()):(m="CC"+l,l+=2,v=g),h.set(m,nr(v))}}else h.set("CC1","und");else"urn:mpeg:dash:role:2011"==l&&null!=p&&(a.push(p),"captions"==p&&(o="caption"))}if(u)return null;u=Wc(n,"ContentProtection");var y=ul(u,e.i.dash.ignoreDrmInfo),b=nr(n.getAttribute("lang")||"und"),w=n.getAttribute("label");if((u=Wc(n,"Label"))&&u.length&&(u=u[0],u.textContent&&(w=u.textContent)),u=Wc(n,"Representation"),n=u.map((function(n){return Pd(e,t,y,o,b,w,i,a,h,n)})).filter((function(e){return!!e})),0==n.length){if(e.i.dash.ignoreEmptyAdaptationSet||s)return null;throw new xe(2,4,4003)}if(!t.aa.contentType||"application"==t.aa.contentType)for(t.aa.contentType=Bd(n[0].mimeType,n[0].codecs),s=d(n),c=s.next();!c.done;c=s.next())c.value.type=t.aa.contentType;for(s=d(n),c=s.next();!c.done;c=s.next())for(c=c.value,l=d(y.drmInfos),p=l.next();!p.done;p=l.next())p=p.value,p.keyIds=p.keyIds&&c.keyIds?new Set(f(p.keyIds).concat(f(c.keyIds))):p.keyIds||c.keyIds;return s=u.map((function(e){return e.getAttribute("id")})).filter(Ft),{id:t.aa.id||"__fake__"+e.m++,contentType:t.aa.contentType,language:b,If:i,streams:n,drmInfos:y.drmInfos,od:r,Pe:s}}function Pd(e,t,n,i,r,a,o,s,u,c){if(t.G=Od(c,t.aa,null),!Nd(t.G))return null;var l=t.O.start;t.bandwidth=Qc(c,"bandwidth",il)||0;var d=t.G.contentType;d="text"==d||"application"==d;try{var f=function(t,n,i){return Fd(e,t,n,i)};if(t.G.Nb)var h=Rl(t,f);else if(t.G.Ma)h=Bl(t,e.f);else if(t.G.Ob)h=$l(t,f,e.f,!!e.o,e.i.dash.initialSegmentLimit);else{var p=t.G.na,m=t.O.duration||0;h={hb:function(){return Promise.resolve(ga(l,m,p))}}}}catch(v){if(d&&4002==v.code)return null;throw v}d=Wc(c,"ContentProtection"),d=cl(d,n,e.i.dash.ignoreDrmInfo),d=new Set(d?[d]:[]),Wc(c,"SupplementalProperty").some((function(e){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==e.getAttribute("schemeIdUri")&&"JOC"==e.getAttribute("value")}))&&(t.G.mimeType="audio/eac3-joc");var g={id:e.m++,originalId:t.G.id,createSegmentIndex:function(){var e;return j((function(t){if(1==t.a)return g.segmentIndex?t.u(0):(e=g,x(t,h.hb(),3));e.segmentIndex=t.b,k(t)}))},segmentIndex:null,mimeType:t.G.mimeType,codecs:t.G.codecs,frameRate:t.G.frameRate,pixelAspectRatio:t.G.pixelAspectRatio,bandwidth:t.bandwidth,width:t.G.width,height:t.G.height,kind:i,encrypted:0<n.drmInfos.length,drmInfos:n.drmInfos,keyIds:d,language:r,label:a,type:t.aa.contentType,primary:o,trickModeVideo:null,emsgSchemeIdUris:t.G.emsgSchemeIdUris,roles:s,channelsCount:t.G.Wc,audioSamplingRate:t.G.audioSamplingRate,closedCaptions:u};return g}function Dd(e,t){0>e.h||e.g.R(Math.max(3,e.h-t,W(e.j)))}function Od(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Wc:null,audioSamplingRate:null},n=n||t.na;var i=Wc(e,"BaseURL").map(Jc),r=e.getAttribute("contentType")||t.contentType,a=e.getAttribute("mimeType")||t.mimeType,o=e.getAttribute("codecs")||t.codecs,s=Qc(e,"frameRate",al)||t.frameRate,u=e.getAttribute("sar")||t.pixelAspectRatio,c=Wc(e,"InbandEventStream"),l=t.emsgSchemeIdUris.slice();c=d(c);for(var f=c.next();!f.done;f=c.next())f=f.value.getAttribute("schemeIdUri"),l.includes(f)||l.push(f);return c=Wc(e,"AudioChannelConfiguration"),c=Rd(c)||t.Wc,f=Qc(e,"audioSamplingRate",rl)||t.audioSamplingRate,r||(r=Bd(a,o)),{na:Vt(n,i),Nb:Gc(e,"SegmentBase")||t.Nb,Ma:Gc(e,"SegmentList")||t.Ma,Ob:Gc(e,"SegmentTemplate")||t.Ob,width:Qc(e,"width",rl)||t.width,height:Qc(e,"height",rl)||t.height,contentType:r,mimeType:a,codecs:o,frameRate:s,pixelAspectRatio:u,emsgSchemeIdUris:l,id:e.getAttribute("id"),Wc:c,audioSamplingRate:f}}function Rd(e){e=d(e);for(var t=e.next();!t.done;t=e.next()){var n=t.value;if((t=n.getAttribute("schemeIdUri"))&&(n=n.getAttribute("value")))switch(t){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(t=parseInt(n,10),!t)continue;return t;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(t=parseInt(n,16)){for(e=0;t;)1&t&&++e,t>>=1;return e}}}return null}function Nd(e){var t=e.Nb?1:0;return t+=e.Ma?1:0,t+=e.Ob?1:0,0==t?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Nb&&(e.Ma=null),e.Ob=null),!0)}function Ld(e,t,n,i){var r,a,o,s,u,c;return j((function(l){if(1==l.a)return r=Vt(t,[n]),a=rt(r,e.i.retryParameters),a.method=i,o=e.s.networkingEngine.request(4,a),tt(e.c,o),x(l,o.promise,2);if(s=l.b,"HEAD"==i){if(!s.headers||!s.headers.date)return l["return"](0);u=s.headers.date}else u=St(s.data);return c=Date.parse(u),isNaN(c)?l["return"](0):l["return"](c-Date.now())}))}function Ud(e,t,n){var i,r,a,o,s,u,c,l;return j((function(f){switch(f.a){case 1:i=n.map((function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}})),r=e.i.dash.clockSyncUri,!i.length&&r&&i.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),a=d(i),o=a.next();case 2:if(o.done){f.u(4);break}switch(s=o.value,E(f,5),u=s.scheme,c=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return f.u(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return f.u(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return l=Date.parse(c),f["return"](isNaN(l)?0:l-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":Q("NTP UTCTiming scheme is not supported");break;default:Q("Unrecognized scheme in UTCTiming element",u)}f.u(9);break;case 7:return x(f,Ld(e,t,c,"HEAD"),10);case 10:return f["return"](f.b);case 8:return x(f,Ld(e,t,c,"GET"),11);case 11:return f["return"](f.b);case 9:_(f,3);break;case 5:C(f);case 3:o=a.next(),f.u(2);break;case 4:return Q("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),f["return"](0)}}))}function jd(e,t,n,i){var r=i.getAttribute("schemeIdUri")||"",a=i.getAttribute("value")||"",o=Qc(i,"timescale",rl)||1;i=d(Wc(i,"Event"));for(var s=i.next();!s.done;s=i.next()){s=s.value;var u=Qc(s,"presentationTime",rl)||0,c=Qc(s,"duration",rl)||0;u=u/o+t,c=u+c/o,null!=n&&(u=Math.min(u,t+n),c=Math.min(c,t+n)),s={schemeIdUri:r,value:a,startTime:u,endTime:c,id:s.getAttribute("id")||"",eventElement:s},e.s.onTimelineRegionAdded(s)}}function Fd(e,t,n,i){var r,a,o,s,u;return j((function(c){return 1==c.a?(r=lt,a=Va(t,n,i,e.i.retryParameters),o=e.s.networkingEngine,s=o.request(r,a),tt(e.c,s),x(c,s.promise,2)):(u=c.b,c["return"](u.data))}))}function Bd(e,t){return _i(Kt(e,t))?"text":e.split("/")[0]}function Vd(e,t,n,i){this.a=e,this.type=t,this.V=n,this.segments=i||null}function Hd(e,t,n,i){this.id=e,this.name=t,this.a=n,this.value=void 0===i?null:i}function qd(e,t,n){return(e=e.getAttribute(t))?e.value:n||null}function zd(e,t){var n=e.getAttribute(t);if(!n)throw new xe(2,4,4023,t);return n.value}function $d(e,t){this.V=t,this.a=e}function Gd(e,t){this.name=e,this.value=t}function Kd(e,t){return e.filter((function(e){return e.name==t}))}function Wd(e,t){return e.filter((function(e){return zd(e,"TYPE")==t}))}function Xd(e,t){var n=Kd(e,t);return n.length?n[0]:null}function Yd(e,t,n){return n=void 0===n?0:n,(e=Xd(e,t))?Number(e.value):n}function Jd(e){this.b=e,this.a=0}function Qd(e){Zd(e,/[ \t]+/gm)}function Zd(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,results:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.results)}function ef(e){return e.a==e.b.length?null:(e=Zd(e,/[^ \t\n]*/gm))?e[0]:null}function tf(){this.a=0}function nf(e,t,n){t=St(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var i=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new xe(2,4,4015);t=0;for(var r=!0,a=d(i),o=a.next();!o.done;o=a.next())if(o=o.value,/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=rf(e.a++,o),--e.a,af.includes(o.name)){t=1;break}"EXT-X-STREAM-INF"==o.name&&(r=!0)}a=[],r=!0,o=d(ue(i));for(var s=o.next();!s.done;s=o.next()){var u=s.value;s=u.Y;var c=u.item;if(u=u.next,/^#(?!EXT)/m.test(c)||r)r=!1;else{if(c=rf(e.a++,c),of.includes(c.name)){if(1!=t)throw new xe(2,4,4017);for(c=i.splice(s,i.length-s),i=n,r=[],o=[],s=null,c=d(c),u=c.next();!u.done;u=c.next())u=u.value,/^(#EXT)/.test(u)?(u=rf(e.a++,u),af.includes(u.name)?a.push(u):"EXT-X-MAP"==u.name?s=u:o.push(u)):/^#(?!EXT)/m.test(u)||(u=Vt([i],[u.trim()])[0],s&&o.push(s),r.push(new $d(u,o)),o=[]);return new Vd(n,t,a,r)}a.push(c),"EXT-X-STREAM-INF"==c.name&&(c.a.push(new Gd("URI",u)),r=!0)}}return new Vd(n,t,a)}function rf(e,t){var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new xe(2,4,4016,t);var i,r=n[1],a=n[2];if(n=[],a){var o;a=new Jd(a),(o=Zd(a,/^([^,=]+)(?:,|$)/g))&&(i=o[1]);for(var s=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;o=Zd(a,s);)n.push(new Gd(o[1],o[2]||o[3]))}return new Hd(e,r,n,i)}i=kd.prototype,i.configure=function(e){this.i=e},i.start=function(e,t){var n,i=this;return j((function(r){if(1==r.a)return i.b=[e],i.s=t,x(r,Ed(i),2);if(n=r.b,i.s&&Dd(i,n),!i.s)throw new xe(2,7,7001);return r["return"](i.o)}))},i.stop=function(){for(var e=d(Object.values(this.f)),t=e.next();!t.done;t=e.next())t.value.release();return this.a&&this.a.release(),this.i=this.s=null,this.b=[],this.o=null,this.f={},this.a=null,null!=this.g&&(this.g.stop(),this.g=null),this.c.destroy()},i.update=function(){var e,t=this;return j((function(n){return 1==n.a?(E(n,2),x(n,Ed(t),4)):2!=n.a?_(n,0):(e=C(n),t.s&&e?(t.s.onError(e),void k(n)):n["return"]())}))},i.onExpirationUpdated=function(){},i.Kb=function(){var e,t,n=this;return j((function(i){switch(i.a){case 1:return e=0,E(i,2),x(i,Ed(n),4);case 4:e=i.b,_(i,3);break;case 2:t=C(i),n.s&&(t.severity=1,n.s.onError(t));case 3:if(!n.s)return i["return"]();Dd(n,e),k(i)}}))},$("shaka.dash.DashParser",kd),Hr.mpd=function(){return new kd},Vr["application/dash+xml"]=function(){return new kd},Vr["video/vnd.mpeg.dash.mpd"]=function(){return new kd},Hd.prototype.toString=function(){function e(e){return e.name+"="+(isNaN(Number(e.value))?'"'+e.value+'"':e.value)}var t="#"+this.name,n=this.a?this.a.map(e):[];return this.value&&n.unshift(this.value),0<n.length&&(t+=":"+n.join(",")),t},Hd.prototype.getAttribute=function(e){var t=this.a.filter((function(t){return t.name==e}));return t.length?t[0]:null};var af="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),of="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP".split(" ");function sf(){}function uf(e){try{var t=cf(e);return Oe({uri:e,Jd:e,data:t.data,headers:{"content-type":t.contentType}})}catch(n){return Pe(n)}}function cf(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new xe(2,1,1004,t);if(n=n.slice(1).join(":").split(","),2>n.length)throw new xe(2,1,1004,t);var i=n[0];t=e.decodeURIComponent(n.slice(1).join(",")),n=i.split(";"),i=n[0];var r,a=!1;return 1<n.length&&"base64"==n[n.length-1]&&(a=!0,n.pop()),r=a?ln(t):Et(t),{data:r,contentType:i}}function lf(){var e=this;this.i=this.s=null,this.Ba=1,this.j=new Map,this.g=new Map,this.ra=new Set,this.a=new Map,this.b=null,this.J="",this.H=new tf,this.ca=0,this.h=new Ee((function(){e.Kb()})),this.c=Kf,this.o=null,this.M=0,this.T=1/0,this.m=new et,this.W=[],this.A=new Map,this.Aa=!1,this.f=new Map,this.D=null,this.I=new Map,this.v=new Map}function df(e,t){var n,i,r,a,o,s,u,c,l;return j((function(d){if(1==d.a)return n=Yf,i=t.Yd,x(d,Hf(e,rt([i],e.i.retryParameters),0),2);if(3!=d.a){if(r=d.b,a=nf(e.H,r.data,r.uri),1!=a.type)throw new xe(2,4,4017);return o=Kd(a.V,"EXT-X-DEFINE"),s=hf(e,o),u=t.stream,x(d,Mf(e,t.rc,a,u.mimeType,t.Ed,s),3)}c=d.b,u.segmentIndex.kb(c),c.length&&u.segmentIndex.Oa(c[0].startTime),l=c[c.length-1],Xd(a.V,"EXT-X-ENDLIST")&&(Vf(e,n.Wd),e.b.ya(l.endTime)),k(d)}))}function ff(e,t){var n,i,r,a,o,s,u,c,l,f,h,p,m,g,v;return j((function(y){switch(y.a){case 1:if(n=nf(e.H,t,e.J),0!=n.type)throw new xe(2,4,4022);i=Kd(n.V,"EXT-X-DEFINE");for(var b=d(i),w=b.next();!w.done;w=b.next()){var T=w.value;w=qd(T,"NAME"),T=qd(T,"VALUE"),w&&T&&(e.j.has(w)||e.j.set(w,T))}for(r=Kd(n.V,"EXT-X-MEDIA"),a=Kd(n.V,"EXT-X-STREAM-INF"),b=d(a),w=b.next();!w.done;w=b.next()){var S=w.value;T=qd(S,"AUDIO"),w=qd(S,"VIDEO");var k=qd(S,"SUBTITLES");if(S=yf(e,S),k){var E=Uf("text",S);e.f.set(k,E),Je(S,E)}T&&(k=Lf("audio",S),e.f.set(T,k)),w&&(T=Lf("video",S),e.f.set(w,T))}return x(y,mf(e,r),2);case 2:for(b=Wd(r,"CLOSED-CAPTIONS"),b=d(b),w=b.next();!w.done;w=b.next())k=w.value,w=bf(k),T=zd(k,"GROUP-ID"),k=zd(k,"INSTREAM-ID"),e.A.get(T)||e.A.set(T,new Map),e.A.get(T).set(k,w);return x(y,gf(e,a),3);case 3:return o=y.b,x(y,pf(e,r),4);case 4:if(s=y.b,!e.s)throw new xe(2,7,7001);if(e.Aa&&0==o.length)throw new xe(2,4,4034);for(c=u=1/0,l=d(e.a.values()),f=l.next();!f.done;f=l.next())h=f.value,u=Math.min(u,h.Fd),"text"!=h.stream.type&&(c=Math.min(c,h.Ee-h.Fd));if(e.c!=Kf?(e.b=new Gr(0,e.i.defaultPresentationDelay||3*e.M),e.b.Pb(!1)):(e.b=new Gr(null,0),e.b.Pb(!0)),If(e),e.c!=Kf)e.ca=e.T,p=Yf,e.c==p.Vd&&(m=e.b.oc,isNaN(e.i.availabilityWindowOverride)||(m=e.i.availabilityWindowOverride),e.b.ld(m));else for(e.b.ya(c),e.b.offset(-u),g=d(e.a.values()),f=g.next();!f.done;f=g.next())v=f.value,v.stream.segmentIndex.offset(-u),v.stream.segmentIndex.Ja(0,c);return e.o={presentationTimeline:e.b,variants:o,textStreams:s,offlineSessionIds:[],minBufferTime:0},e.s.makeTextStreamsForClosedCaptions(e.o),x(y,e.s.filter(e.o),0)}}))}function hf(e,t){for(var n=new Map,i=d(t),r=i.next();!r.done;r=i.next()){var a=r.value;r=qd(a,"NAME");var o=qd(a,"VALUE");a=qd(a,"IMPORT"),r&&o&&n.set(r,o),a&&(r=e.j.get(a))&&n.set(a,r)}return n}function pf(e,t){var n,i,r,a,o,s,u,c,l,f,h,p;return j((function(m){if(1==m.a)return n=Wd(t,"SUBTITLES"),i=n.map((function(t){var n,i;return j((function(r){if(1==r.a)return e.i.disableText?r["return"](null):(E(r,2),x(r,Sf(e,t),4));if(2!=r.a)return n=r.b,r["return"](n.stream);if(i=C(r),e.i.hls.ignoreTextStreamFailures)return r["return"](null);throw i}))})),x(m,Promise.all(i),2);for(r=m.b,a=d(n),o=a.next();!o.done;o=a.next())if(s=o.value,u=zd(s,"GROUP-ID"),(c=e.f.get(u))&&(l=e.g.get(u)))for(f=d(l),h=f.next();!h.done;h=f.next())p=h.value,p.stream.codecs=c;return m["return"](r.filter((function(e){return e})))}))}function mf(e,t){var n;return j((function(i){return 1==i.a?(t=t.filter((function(e){var t=qd(e,"URI")||"";return"SUBTITLES"!=qd(e,"TYPE")&&""!=t})),t.length?x(i,Sf(e,t[0]),2):i.u(2)):(n=t.slice(1).map((function(t){return Sf(e,t)})),x(i,Promise.all(n),0))}))}function gf(e,t){var n,i,r;return j((function(a){return 1==a.a?(n=t.map((function(t){var n,i,r,a,o,s,u;return j((function(c){return 1==c.a?(n=qd(t,"FRAME-RATE"),i=Number(zd(t,"BANDWIDTH")),r=qd(t,"RESOLUTION"),a=d(r?r.split("x"):[null,null]),o=a.next().value,s=a.next().value,x(c,vf(e,t,r,n),2)):(u=c.b)?c["return"](Tf(e,u.audio,u.video,i,o,s,n)):c["return"]([])}))})),x(a,Promise.all(n),2)):(i=a.b,r=i.reduce(Ut,[]),r=r.filter((function(e){return null!=e})),a["return"](r))}))}function vf(e,t,n,i){var r,a,o,s,u,c,l,d,f,h,p,m,g,v;return j((function(y){if(1==y.a)return r=qt,a=yf(e,t),o=qd(t,"AUDIO"),s=qd(t,"VIDEO"),c=(u=o||s)&&e.g.has(u)?e.g.get(u):[],l={audio:o?c:[],video:s?c:[]},f=!1,h=zd(t,"URI"),p=l.audio.find((function(e){return e&&e.rc==h})),m=Uf(r.Ca,a),g=n||i||m,1!=a.length||g?!c.length&&1<a.length?(d=r.Ca,a=[a.join(",")]):l.audio.length&&p?(d=r.eb,f=!0):d=l.video.length?r.eb:r.Ca:d=r.eb,f?y.u(2):x(y,xf(e,t,a,d),3);if(2!=y.a&&(v=y.b),v)l[v.stream.type]=[v];else if(null===v)return y["return"](null);return wf(l),y["return"](l)}))}function yf(e,t){var n=[];e.i.disableVideo||n.push("avc1.42E01E"),e.i.disableAudio||n.push("mp4a.40.2");var i=qd(t,"CODECS",n.join(",")).split(/\s*,\s*/);n=new Set;var r=[];i=d(i);for(var a=i.next();!a.done;a=i.next()){a=a.value;var o=Xt(a)[0];n.has(o)||(r.push(a),n.add(o))}return r}function bf(e){return e=qd(e,"LANGUAGE")||"und",nr(e)}function wf(e){e=d(e.audio.concat(e.video));for(var t=e.next();!t.done;t=e.next())if(t=t.value){var n=t.stream.codecs.split(",");n=n.filter((function(e){return"mp4a.40.34"!=e})),t.stream.codecs=n.join(",")}}function Tf(e,t,n,i,r,a,o){for(var s=d(n),u=s.next();!u.done;u=s.next()){u=u.value.stream;var c=a,l=o;u&&(u.width=Number(r)||void 0,u.height=Number(c)||void 0,u.frameRate=Number(l)||void 0)}for(r=e.i.disableAudio,t.length&&!r||(t=[null]),r=e.i.disableVideo,n.length&&!r||(n=[null]),r=[],t=d(t),a=t.next();!a.done;a=t.next())for(a=a.value,o=d(n),s=o.next();!s.done;s=o.next()){var f=s.value;s=a?a.stream:null,u=f?f.stream:null,c=a?a.stream.drmInfos:null,l=f?f.stream.drmInfos:null,f=(f?f.rc:"")+" - "+(a?a.rc:""),s&&u&&c.length&&l.length&&!(0<Bn(c,l).length)||e.ra.has(f)||(s={id:e.Ba++,language:s?s.language:"und",primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:i,allowedByApplication:!0,allowedByKeySystem:!0},r.push(s),e.ra.add(f))}return r}function Sf(e,t){var n,i,r,a,o,s,u,c,l,d,f;return j((function(h){if(1==h.a){n=zd(t,"GROUP-ID"),i="";var p=zd(t,"TYPE").toLowerCase();return"subtitles"==p&&(p="text"),r=p,"text"!=r&&n&&e.f.has(n)&&(i=e.f.get(n)),a=jf(zd(t,"URI"),e.j),e.a.has(a)?h["return"](e.a.get(a)):(o=bf(t),s=qd(t,"NAME"),u=t.getAttribute("DEFAULT"),c="YES"==u,p="audio"==r&&(p=qd(t,"CHANNELS"))?parseInt(p.split("/")[0],10):null,l=p,d=qd(t,"CHARACTERISTICS"),x(h,kf(e,a,i,r,o,c,s,l,null,d),2))}return f=h.b,e.g.has(n)?e.g.get(n).push(f):e.g.set(n,[f]),null==f?h["return"](null):e.a.has(a)?h["return"](e.a.get(a)):(e.a.set(a,f),h["return"](f))}))}function xf(e,t,n,i){var r,a,o,s;return j((function(u){if(1==u.a){if(r=jf(zd(t,"URI"),e.j),e.a.has(r))return u["return"](e.a.get(r));var c=qd(t,"CLOSED-CAPTIONS");return a="video"==i&&c&&"NONE"!=c?e.A.get(c):null,o=Lf(i,n),x(u,kf(e,r,o,i,"und",!1,null,null,a,null),2)}return s=u.b,null==s?u["return"](null):e.a.has(r)?u["return"](e.a.get(r)):(e.a.set(r,s),u["return"](s))}))}function kf(e,t,n,i,r,a,o,s,u,c){var l,h,p,m,g,v,y,b,w,T,S,k,A,I,M,P,D,O,R,N,L,U,F,B,V,H,q,z,$,G,K,W,X,Y,J,Z;return j((function(j){switch(j.a){case 1:return l=Vt([e.J],[t])[0],x(j,Hf(e,rt([l],e.i.retryParameters),0),2);case 2:if(h=j.b,l=h.uri,p=nf(e.H,h.data,l),1!=p.type)throw new xe(2,4,4017);if(m=[],p.segments)for(g=d(p.segments),v=g.next();!v.done;v=g.next())y=v.value,b=Kd(y.V,"EXT-X-KEY"),m.push.apply(m,f(b));for(w=!1,T=[],S=new Set,k=d(m),A=k.next();!A.done;A=k.next())if(I=A.value,M=zd(I,"METHOD"),"NONE"!=M){if(w=!0,"AES-128"==M)return e.Aa=!0,j["return"](null);if(P=zd(I,"KEYFORMAT"),O=(D=Gf[P])?D(I):null){if(O.keyIds)for(R=d(O.keyIds),N=R.next();!N.done;N=R.next())L=N.value,S.add(L);T.push(O)}}if(w&&!T.length)throw new xe(2,4,4026);return U=Kd(p.V,"EXT-X-DEFINE"),F=hf(e,U),Ef(e,p),x(j,Ff(e,i,n,p,F),3);case 3:return B=j.b,zf.includes(B)&&(n=""),V=new Map,E(j,4),x(j,Mf(e,t,p,B,V,F),6);case 6:H=j.b,_(j,5);break;case 4:if(q=C(j),4035==q.code)return Q("Skipping unsupported HLS stream",B,t),j["return"](null);throw q;case 5:if(z=H[0].startTime,$=H[H.length-1].endTime,G=new ma(H),K="text"==i?"subtitle":void 0,W=[],c)for(X=d(c.split(",")),Y=X.next();!Y.done;Y=X.next())J=Y.value,W.push(J);return Z={id:e.Ba++,originalId:o,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:G,mimeType:B,codecs:n,kind:K,encrypted:w,drmInfos:T,keyIds:S,language:r,label:o,type:i,primary:a,trickModeVideo:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:W,channelsCount:s,audioSamplingRate:null,closedCaptions:u},j["return"]({stream:Z,rc:t,Yd:l,Fd:z,Ee:$,Ed:V})}}))}function Ef(e,t){var n=Xd(t.V,"EXT-X-PLAYLIST-TYPE"),i=Xd(t.V,"EXT-X-ENDLIST");i=n&&"VOD"==n.value||i,n=n&&"EVENT"==n.value&&!i,n=!i&&!n,i?Vf(e,Kf):(Vf(e,n?Xf:Wf),i=Bf(t.V,"EXT-X-TARGETDURATION"),i=Number(i.value),e.M=Math.max(i,e.M),e.T=Math.min(i,e.T))}function Af(e,t,n,i){if(n=Xd(n,"EXT-X-MAP"),!n)return null;var r=zd(n,"URI");return i=jf(Vt([t],[r])[0],i),t=[i,qd(n,"BYTERANGE","")].join("-"),e.I.has(t)||(n=_f(i,n),e.I.set(t,n)),e.I.get(t)}function _f(e,t){var n=0,i=null,r=qd(t,"BYTERANGE");return r&&(n=r.split("@"),i=Number(n[0]),n=Number(n[1]),i=n+i-1),new qr((function(){return[e]}),n,i)}function Cf(e,t,n,i,r,a){var o=n.V,s=jf(n.a,a);n=Bf(o,"EXTINF").value.split(","),n=i+Number(n[0]),a=0;var u=null;return(o=Xd(o,"EXT-X-BYTERANGE"))&&(a=o.value.split("@"),o=Number(a[0]),a=a[1]?Number(a[1]):t.a+1,u=a+o-1),new $r(i,n,(function(){return[s]}),a,u,e,r,0,1/0)}function If(e){if(e.b){for(var t=d(e.W),n=t.next();!n.done;n=t.next())e.b.mb(n.value);e.W=[]}}function Mf(e,t,n,i,r,a){var o,s,u,c,l,f,h,p,m,g,v,y,b,w,T,S,k,E,A,_;return j((function(C){switch(C.a){case 1:if(o=n.segments,u=Yd(n.V,"EXT-X-MEDIA-SEQUENCE",0),e.c!=Kf&&r.has(u)){c=r.get(u),C.u(2);break}if(null!=e.D){C.u(3);break}return s=Af(e,n.a,o[0].V,a),l=e,x(C,Of(e,t,s,i,u,!1,o[0],a),4);case 4:l.D=C.b;case 3:c=e.D;case 2:f=o[0].a,te(f.split("/").pop()),h=Yd(n.V,"EXT-X-DISCONTINUITY-SEQUENCE"),p=e.v.get(h)||0,m=[],g=function(e){return ue(e)},v=d(g(o)),y=v.next();case 5:if(y.done){C.u(7);break}if(b=y.value,w=b.Y,T=b.item,S=m[m.length-1],k=0==w?c:S.endTime,E=u+w,r.set(E,k),s=Af(e,n.a,T.V,a),A=Xd(T.V,"EXT-X-DISCONTINUITY"),!A){C.u(8);break}return h++,x(C,Pf(e,h,t,s,i,E,T,a,k),9);case 9:p=C.b;case 8:_=Cf(s,S,T,k,p,a),m.push(_),y=v.next(),C.u(5);break;case 7:return e.W.push(m),If(e),C["return"](m)}}))}function Pf(e,t,n,i,r,a,o,s,u){var c,l;return j((function(d){return 1==d.a?(c=0,e.v.has(t)?(c=e.v.get(t),d.u(2)):x(d,Of(e,n,i,r,a,!0,o,s),3)):(2!=d.a&&(l=d.b,c=u-l,e.v.set(t,c)),d["return"](c))}))}function Df(e,t){var n,i,r,a,o,s;return j((function(u){switch(u.a){case 1:return n=lt,i=Va(t.c(),t.b,t.a,e.i.retryParameters),e.i.hls.useFullSegmentsForStartTime?u["return"](Hf(e,i,n)):(r=Va(t.c(),t.b,t.b+2048-1,e.i.retryParameters),E(u,2),x(u,Hf(e,r,n),4));case 4:return a=u.b,u["return"](a);case 2:if(o=C(u),7001==o.code)throw o;return Q("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",r.uris[0]),x(u,Hf(e,i,n),5);case 5:return s=u.b,u["return"](s)}}))}function Of(e,t,n,i,r,a,o,s){var u,c,l,d,f,h,p,m;return j((function(g){switch(g.a){case 1:if(u=Cf(n,null,o,0,0,s),e.o&&!a&&(c=e.a.get(t),l=c.Ed.get(r),void 0!=l))return g["return"](l);if(i=i.toLowerCase(),zf.includes(i))throw Q("Raw formats are not yet supported.  Skipping "+i),new xe(1,4,4035);if("video/webm"==i)throw Q("WebM in HLS is not yet supported.  Skipping."),new xe(1,4,4035);if("video/mp4"!=i&&"audio/mp4"!=i){g.u(2);break}return d=[Df(e,u)],n&&d.push(Df(e,n)),x(g,Promise.all(d),3);case 3:return f=g.b,h=f[0],p=f[1]||f[0],g["return"](Rf(t,h.uri,h.data,p.data));case 2:if("video/mp2t"!=i){g.u(4);break}return x(g,Df(e,u),5);case 5:return m=g.b,g["return"](Nf(t,m.uri,m.data));case 4:throw new xe(2,4,4030,t)}}))}function Rf(e,t,n,i){var r=0;if((new Oa).box("moov",Ra).box("trak",Ra).box("mdia",Ra).ea("mdhd",(function(e){e.reader.skip(0==e.version?8:16),r=e.reader.K(),e.parser.stop()})).parse(i,!0),!r)throw new xe(2,4,4030,e,t);var a=0,o=!1;if((new Oa).box("moof",Ra).box("traf",Ra).ea("tfdt",(function(e){a=(0==e.version?e.reader.K():e.reader.pb())/r,o=!0,e.parser.stop()})).parse(n,!0),!o)throw new xe(2,4,4030,e,t);return a}function Nf(e,t,n){function i(){a.seek(o+188),s=a.oa(),71!=s&&(a.seek(o+192),s=a.oa()),71!=s&&(a.seek(o+204),s=a.oa()),71!=s&&r(),a.Md(1)}function r(){throw new xe(2,4,4030,e,t)}for(var a=new Ma(n,0),o=0,s=0;;)if(o=a.C,s=a.oa(),71!=s&&r(),n=a.Mb(),8191==(8191&n))i();else if(16384&n){if(n=(48&a.oa())>>4,0!=n&&2!=n||r(),3==n&&(n=a.oa(),a.skip(n)),1==a.K()>>8){a.skip(3),n=a.oa()>>6,0!=n&&1!=n||r(),0==a.oa()&&r(),n=a.oa();var u=a.Mb(),c=a.Mb();return(1073741824*((14&n)>>1)+((65534&u)<<14|(65534&c)>>1))/9e4}i()}else i()}function Lf(e,t){if(1==t.length)return t[0];var n=Uf(e,t);if(null!=n)return n;throw new xe(2,4,4025,t)}function Uf(e,t){for(var n=d(qf[e]),i=n.next();!i.done;i=n.next()){i=i.value;for(var r=d(t),a=r.next();!a.done;a=r.next())if(a=a.value,i.test(a.trim()))return a.trim()}return"text"==e?"":null}function jf(e,t){var n=String(e).replace(/%7B/g,"{").replace(/%7D/g,"}"),i=n.match(/{\$\w*}/g);if(i){i=d(i);for(var r=i.next();!r.done;r=i.next()){r=r.value;var a=r.slice(2,r.length-1),o=t.get(a);if(!o)throw new xe(2,4,4039,a);n=n.replace(r,o)}}return n}function Ff(e,t,n,i,r){var a,o,s,u,c,l,d,f,h,p;return j((function(m){if(1==m.a)return a=qt,o=lt,s=jf(i.segments[0].a,r),u=new le(s),c=u.ja.split(".").pop(),l=$f[t],(d=l[c])?m["return"](d):t==a.$?n&&"vtt"!=n&&"wvtt"!=n?m["return"]("application/mp4"):m["return"]("text/vtt"):(f=rt([s],e.i.retryParameters),f.method="HEAD",x(m,Hf(e,f,o),2));if(h=m.b,p=h.headers["content-type"],!p)throw new xe(2,4,4021,c);return m["return"](p.split(";")[0])}))}function Bf(e,t){var n=Xd(e,t);if(!n)throw new xe(2,4,4024,t);return n}function Vf(e,t){e.c=t,e.b&&e.b.Pb(e.c==Kf),e.c!=Kf||e.h.stop()}function Hf(e,t,n){if(!e.m)throw new xe(2,7,7001);return t=e.s.networkingEngine.request(n,t),tt(e.m,t),t.promise}$("shaka.net.DataUriPlugin",sf),sf.parse=uf,it("data",uf),i=lf.prototype,i.configure=function(e){this.i=e},i.start=function(e,t){var n,i,r=this;return j((function(a){return 1==a.a?(r.s=t,x(a,Hf(r,rt([e],r.i.retryParameters),0),2)):3!=a.a?(n=a.b,r.J=n.uri,x(a,ff(r,n.data),3)):(i=r.ca,0<i&&r.h.R(i),a["return"](r.o))}))},i.stop=function(){this.h&&(this.h.stop(),this.h=null);var e=[];return this.m&&(e.push(this.m.destroy()),this.m=null),this.i=this.s=null,this.ra.clear(),this.o=null,this.a.clear(),this.g.clear(),this.f.clear(),this.j.clear(),Promise.all(e)},i.update=function(){var e,t,n,i=this;return j((function(r){if(1==r.a)return i.c==Kf?r["return"]():(e=[],i.D=null,t=Array.from(i.a.values()),t.length?x(r,df(i,t[0]),2):r.u(2));for(n=1;n<t.length;n++)e.push(df(i,t[n]));return x(r,Promise.all(e),0)}))},i.onExpirationUpdated=function(){},i.Kb=function(){var e,t,n=this;return j((function(i){return 1==i.a?n.s?(E(i,2),x(i,n.update(),4)):i["return"]():2!=i.a?(e=n.ca,n.h.R(e),_(i,0)):(t=C(i),n.s?(t.severity=1,n.s.onError(t),n.h.R(.1),void k(i)):i["return"]())}))},$("shaka.hls.HlsParser",lf);var qf={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},zf=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"],$f={audio:{mp4:"audio/mp4",mp4a:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",cmfa:"audio/mp4",ts:"video/mp2t",aac:"audio/aac",ac3:"audio/ac3",ec3:"audio/ec3",mp3:"audio/mpeg"},video:{mp4:"video/mp4",mp4v:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",cmfv:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",cmft:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}},Gf={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=zd(e,"METHOD");return["SAMPLE-AES","SAMPLE-AES-CTR"].includes(t)?(t=zd(e,"URI"),t=cf(t),t=Ve(t.data),t=Ht("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=qd(e,"KEYID"))&&(t.keyIds=new Set([e.toLowerCase().substr(2)])),t):null}},Kf="VOD",Wf="EVENT",Xf="LIVE",Yf={Wd:Kf,mf:Wf,Vd:Xf};function Jf(e,t,n,i,r,a){if(200<=n&&299>=n&&202!=n)return{uri:r||i,Jd:i,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};r=null;try{r=kt(t)}catch(o){}throw new xe(401==n||403==n?2:1,1,1001,i,n,r,e,a)}function Qf(){}function Zf(e,t,n,i){var r=new ah;zt(t.headers).forEach((function(e,t){r.append(t,e)}));var a=new ih,o={sd:!1,Sd:!1};if(e=eh(e,n,{body:t.body||void 0,headers:r,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},o,i),e=new Me(e,(function(){return o.sd=!0,a.abort(),Promise.resolve()})),t=t.retryParameters.timeout){var s=new Ee((function(){o.Sd=!0,a.abort()}));s.R(t/1e3),e["finally"]((function(){s.stop()}))}return e}function eh(e,t,n,i,r){var a,o,s,u,c,l,d,f,h,p,m,g,v,y;return j((function(b){switch(b.a){case 1:return a=nh,o=rh,l=c=0,d=Date.now(),E(b,2),x(b,a(e,n),4);case 4:return s=b.b,f=s.clone().body.getReader(),p=(h=s.headers.get("Content-Length"))?parseInt(h,10):0,m=function(e){function t(){var n,i;return j((function(a){switch(a.a){case 1:return E(a,2),x(a,f.read(),4);case 4:n=a.b,_(a,3);break;case 2:return C(a),a["return"]();case 3:n.done||(c+=n.value.byteLength),i=Date.now(),(100<i-d||n.done)&&(r(i-d,c-l,p-c),l=c,d=i),n.done?e.close():(e.enqueue(n.value),t()),k(a)}}))}t()},new o({start:m}),x(b,s.arrayBuffer(),5);case 5:u=b.b,_(b,3);break;case 2:if(g=C(b),i.sd)throw new xe(1,1,7001,e,t);if(i.Sd)throw new xe(1,1,1003,e,t);throw new xe(1,1,1002,e,g,t);case 3:return v={},y=s.headers,y.forEach((function(e,t){v[t.trim()]=e})),b["return"](Jf(v,u,s.status,e,s.url,t))}}))}function th(){if(!e.ReadableStream)return!1;try{new ReadableStream({})}catch(Fg){return!1}return!(!e.fetch||!e.AbortController)}Hr.m3u8=function(){return new lf},Vr["application/x-mpegurl"]=function(){return new lf},Vr["application/vnd.apple.mpegurl"]=function(){return new lf},$("shaka.net.HttpFetchPlugin",Qf),Qf.isSupported=th,Qf.parse=Zf;var nh=e.fetch,ih=e.AbortController,rh=e.ReadableStream,ah=e.Headers;function oh(){}function sh(e,t,n,i){var r=new uh,a=Date.now(),o=0,s=new Promise((function(s,u){for(var c in r.open(t.method,e,!0),r.responseType="arraybuffer",r.timeout=t.retryParameters.timeout,r.withCredentials=t.allowCrossSiteCredentials,r.onabort=function(){u(new xe(1,1,7001,e,n))},r.onload=function(t){t=t.target;var i=t.getAllResponseHeaders().trim().split("\r\n"),r={};i=d(i);for(var a=i.next();!a.done;a=i.next())a=a.value.split(": "),r[a[0].toLowerCase()]=a.slice(1).join(": ");try{var o=Jf(r,t.response,t.status,e,t.responseURL,n);s(o)}catch(c){u(c)}},r.onerror=function(t){u(new xe(1,1,1002,e,t,n))},r.ontimeout=function(){u(new xe(1,1,1003,e,n))},r.onprogress=function(e){var t=Date.now();(100<t-a||e.lengthComputable&&e.loaded==e.total)&&(i(t-a,e.loaded-o,e.total-e.loaded),o=e.loaded,a=t)},t.headers)r.setRequestHeader(c.toLowerCase(),t.headers[c]);r.send(t.body)}));return new Me(s,(function(){return r.abort(),Promise.resolve()}))}th()&&(it("http",Zf,2),it("https",Zf,2)),$("shaka.net.HttpXHRPlugin",oh),oh.parse=sh;var uh=e.XMLHttpRequest;function ch(){this.a=this.f=this.b=0,this.c=new Map,this.g=0}function lh(e,t){e.b+=t;var n=e.g;return e.g++,e.c.set(n,t),n}function dh(e){var t=this;this.N=e,this.a=new Map,this.F=new ht((function(){var e=Array.from(t.a.values());return Promise.all(e.map((function(e){return e["catch"]((function(){}))})))})),this.b=[],this.Id=function(){},this.Hd=function(){},this.Bb=new ch}function fh(e,t,n){e.Id=t,e.Hd=n}function hh(e){var t=e.b.map((function(e){return e()}));return e.b=[],Promise.all(t)}function ph(e,t,n,i,r,a){pt(e.F);var o=lh(e.Bb,i);return i=(e.a.get(t)||Promise.resolve()).then((function(){var t,i,s,u,c,l,d;return j((function(f){if(1==f.a)return x(f,vh(e,n),2);if(t=f.b,e.F.a)throw new xe(2,9,7001);if(r)for(u in i=Ve(t),s=new zc(i),s.data)c=Number(u),l=s.data[c],d=s.a[c],e.Hd(l,d);e.Bb.close(o,t.byteLength);var h=e.Bb;return e.Id(0==h.b?0:h.f/h.b,e.Bb.a),f["return"](a(t))}))})),e.a.set(t,i),i}function mh(e,t,n){pt(e.F);var i=(e.a.get(t)||Promise.resolve()).then((function(){return j((function(e){return x(e,n(),0)}))}));e.a.set(t,i)}function gh(e){return j((function(t){return 1==t.a?x(t,Promise.all(e.a.values()),2):t["return"](e.Bb.a)}))}function vh(e,t){var n,i,r,a;return j((function(o){return 1==o.a?(n=lt,i=e.N.request(n,t),r=function(){return i.abort()},e.b.push(r),x(o,i.promise,2)):(a=o.b,Je(e.b,r),o["return"](a.data))}))}function yh(e,t){var n=this;this.c=e,this.b=e.objectStore(t),this.a=new Ie,e.onabort=function(e){e.preventDefault(),n.a.reject()},e.onerror=function(e){e.preventDefault(),n.a.reject()},e.oncomplete=function(){n.a.resolve()}}function bh(e,t){return new Promise((function(n,i){var r=e.b.openCursor();r.onerror=i,r.onsuccess=function(){var e;return j((function(i){if(1==i.a)return null==r.result?(n(),i["return"]()):(e=r.result,x(i,t(e.key,e.value,e),2));e["continue"](),k(i)}))}}))}function wh(e){this.b=e,this.a=[]}function Th(e,t){return Sh(e,t,"readwrite")}function Sh(e,t,n){n=e.b.transaction([t],n);var i=new yh(n,t);return e.a.push(i),i.promise().then((function(){Je(e.a,i)}),(function(){Je(e.a,i)})),i}function xh(e,t,n){this.b=new wh(e),this.c=t,this.a=n}function kh(e){return Promise.reject(new xe(2,9,9011,"Cannot add new value to "+e))}function Eh(e,t,n,i){e=Th(e.b,t),t=e.store();var r={};n=d(n);for(var a=n.next();!a.done;r={Ub:r.Ub},a=n.next())r.Ub=a.value,t["delete"](r.Ub).onsuccess=function(e){return function(){return i(e.Ub)}}(r);return e.promise()}function Ah(e,t,n){var i,r,a,o,s,u,c;return j((function(l){if(1==l.a){for(i=Sh(e.b,t,"readonly"),r=i.store(),a={},o=[],s={},u=d(n),c=u.next();!c.done;s={vb:s.vb,tb:s.tb},c=u.next())s.tb=c.value,s.vb=r.get(s.tb),s.vb.onsuccess=function(e){return function(){void 0==e.vb.result&&o.push(e.tb),a[e.tb]=e.vb.result}}(s);return x(l,i.promise(),2)}if(o.length)throw new xe(2,9,9012,"Could not find values for "+o);return l["return"](n.map((function(e){return a[e]})))}))}function _h(e){this.a=new wh(e)}function Ch(){this.a=new Map}function Ih(e){var t=null;if(e.a.forEach((function(e,n){e.getCells().forEach((function(e,i){e.hasFixedKeySpace()||t||(t={path:{wa:n,ba:i},ba:e})}))})),t)return t;throw new xe(2,9,9013,"Could not find a cell that supports add-operations")}function Mh(e,t){e.a.forEach((function(e,n){e.getCells().forEach((function(e,i){t({wa:n,ba:i},e)}))}))}function Ph(e,t,n){if(e=e.a.get(t),!e)throw new xe(2,9,9013,"Could not find mechanism with name "+t);if(t=e.getCells().get(n),!t)throw new xe(2,9,9013,"Could not find cell with name "+n);return t}function Dh(e,t){e.a.forEach((function(e){t(e.getEmeSessionCell())}))}function Oh(e){var t=Array.from(e.a.keys());if(!t.length)throw new xe(2,9,9e3,"No supported storage mechanisms found");return e.a.get(t[0]).getEmeSessionCell()}function Rh(e){var t,n,i;return j((function(r){return 1==r.a?(t=Array.from(e.a.values()),n=0<t.length,n||(i=Lh,i.forEach((function(e){(e=e())&&t.push(e)}))),x(r,Promise.all(t.map((function(e){return e.erase()}))),2)):n?r.u(0):x(r,Promise.all(t.map((function(e){return e.destroy()}))),0)}))}function Nh(e,t){Lh.set(e,t)}it("http",sh,1),it("https",sh,1),ch.prototype.close=function(e,t){if(this.c.has(e)){var n=this.c.get(e);this.c["delete"](e),this.f+=n,this.a+=t}},dh.prototype.destroy=function(){return this.F.destroy()},yh.prototype.abort=function(){var e=this;return j((function(t){if(1==t.a){try{e.c.abort()}catch(n){}return E(t,2),x(t,e.a,4)}if(2!=t.a)return _(t,0);C(t),k(t)}))},yh.prototype.store=function(){return this.b},yh.prototype.promise=function(){return this.a},wh.prototype.destroy=function(){return Promise.all(this.a.map((function(e){return e.abort()})))},i=xh.prototype,i.destroy=function(){return this.b.destroy()},i.hasFixedKeySpace=function(){return!0},i.addSegments=function(){return kh(this.c)},i.removeSegments=function(e,t){return Eh(this,this.c,e,t)},i.getSegments=function(e){var t,n=this;return j((function(i){return 1==i.a?x(i,Ah(n,n.c,e),2):(t=i.b,i["return"](t.map((function(e){return n.td(e)}))))}))},i.addManifests=function(){return kh(this.a)},i.updateManifestExpiration=function(e,t){var n=Th(this.b,this.a),i=n.store();return i.get(e).onsuccess=function(n){(n=n.target.result)&&(n.expiration=t,i.put(n,e))},n.promise()},i.removeManifests=function(e,t){return Eh(this,this.a,e,t)},i.getManifests=function(e){var t,n=this;return j((function(i){return 1==i.a?x(i,Ah(n,n.a,e),2):(t=i.b,i["return"](Promise.all(t.map((function(e){return n.Ab(e)})))))}))},i.getAllManifests=function(){var e,t,n=this;return j((function(i){return 1==i.a?(e=Sh(n.b,n.a,"readonly"),t=new Map,x(i,bh(e,(function(e,i){var r;return j((function(a){if(1==a.a)return x(a,n.Ab(i),2);r=a.b,t.set(e,r),k(a)}))})),2)):3!=i.a?x(i,e.promise(),3):i["return"](t)}))},i.td=function(e){return e},i.Ab=function(e){return Promise.resolve(e)},i.add=function(e,t){var n,i,r,a,o,s,u,c=this;return j((function(l){if(1==l.a){for(n=Th(c.b,e),i=n.store(),r=[],a={},o=d(t),s=o.next();!s.done;a={Vb:a.Vb},s=o.next())u=s.value,a.Vb=i.add(u),a.Vb.onsuccess=function(e){return function(){r.push(e.Vb.result)}}(a);return x(l,n.promise(),2)}return l["return"](r)}))},_h.prototype.destroy=function(){return this.a.destroy()},_h.prototype.getAll=function(){var e,t,n=this;return j((function(i){return 1==i.a?(e=Sh(n.a,"session-ids","readonly"),t=[],x(i,bh(e,(function(e,n){t.push(n)})),2)):3!=i.a?x(i,e.promise(),3):i["return"](t)}))},_h.prototype.add=function(e){var t=Th(this.a,"session-ids"),n=t.store();e=d(e);for(var i=e.next();!i.done;i=e.next())n.add(i.value);return t.promise()},_h.prototype.remove=function(e){var t,n=this;return j((function(i){return 1==i.a?(t=Th(n.a,"session-ids"),x(i,bh(t,(function(t,n,i){e.includes(n.sessionId)&&i["delete"]()})),2)):x(i,t.promise(),0)}))},Ch.prototype.destroy=function(){for(var e=[],t=d(this.a.values()),n=t.next();!n.done;n=t.next())e.push(n.value.destroy());return this.a.clear(),Promise.all(e)},Ch.prototype.init=function(){var e=this;Lh.forEach((function(t,n){var i=t();i&&e.a.set(n,i)}));for(var t=[],n=d(this.a.values()),i=n.next();!i.done;i=n.next())t.push(i.value.init());return Promise.all(t)},$("shaka.offline.StorageMuxer",Ch),Ch.unregister=function(e){Lh["delete"](e)},Ch.register=Nh,Ch.prototype.destroy=Ch.prototype.destroy;var Lh=new Map;function Uh(){xh.apply(this,arguments)}function jh(e,t){Vh(e);for(var n=d(e.streams),i=n.next();!i.done;i=n.next());return e.streams.map((function(n){return Fh(n,e.startTime,t)}))}function Fh(e,t,n){var i=e.initSegmentUri?Bh(e.initSegmentUri):null,r=t+e.presentationTimeOffset,a=t+n;return{id:e.id,originalId:null,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:void 0,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,initSegmentKey:i,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(e){var n=Bh(e.uri);return{startTime:t+e.startTime,endTime:t+e.endTime,dataKey:n,initSegmentKey:i,appendWindowStart:t,appendWindowEnd:a,timestampOffset:r}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}function Bh(e){var t;if((t=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(e))||(t=/^offline:segment\/([0-9]+)$/.exec(e)))return Number(t[1]);throw new xe(2,9,9004,"Could not parse uri "+e)}function Vh(e){var t=e.streams.filter((function(e){return"audio"==e.contentType}));if(e=e.streams.filter((function(e){return"video"==e.contentType})),!t.every((function(e){return e.variantIds}))||!e.every((function(e){return e.variantIds}))){for(var n=d(t),i=n.next();!i.done;i=n.next())i.value.variantIds=[];for(n=d(e),i=n.next();!i.done;i=n.next())i.value.variantIds=[];if(n=0,e.length&&!t.length){var r=n++,a=d(e);for(i=a.next();!i.done;i=a.next())i.value.variantIds.push(r)}if(!e.length&&t.length)for(r=n++,a=d(t),i=a.next();!i.done;i=a.next())i.value.variantIds.push(r);if(e.length&&t.length)for(t=d(t),i=t.next();!i.done;i=t.next())for(i=i.value,r=d(e),a=r.next();!a.done;a=r.next()){a=a.value;var o=n++;i.variantIds.push(o),a.variantIds.push(o)}}}function Hh(){xh.apply(this,arguments)}function qh(e,t,n){return{id:e.id,originalId:e.originalId,primary:e.primary,type:e.contentType,mimeType:e.mimeType,codecs:e.codecs,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,kind:e.kind,language:e.language,label:e.label,width:e.width,height:e.height,encrypted:e.encrypted,keyIds:new Set([e.keyId]),segments:e.segments.map((function(i){return{startTime:t+i.startTime,endTime:t+i.endTime,initSegmentKey:e.initSegmentKey,appendWindowStart:t,appendWindowEnd:n,timestampOffset:t-e.presentationTimeOffset,dataKey:i.dataKey}})),variantIds:e.variantIds,roles:[],audioSamplingRate:null,channelsCount:null,closedCaptions:null}}function zh(){xh.apply(this,arguments)}function $h(){this.h=this.f=this.c=this.b=this.a=this.g=null}function Gh(){var t=new Ie,n=e.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){t.resolve()},n.onerror=function(e){t.reject(new xe(2,9,9001,n.error)),e.preventDefault()},t}function Kh(e,t,n,i){this.a=e,this.g=t,this.f=n,this.c=i,this.b=["offline:",e,"/",t,"/",n,"/",i].join("")}function Wh(e){if(e=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(e),null==e)return null;var t=e[1];if("manifest"!=t&&"segment"!=t)return null;var n=e[2];if(!n)return null;var i=e[3];return i&&null!=t?new Kh(t,n,i,Number(e[4])):null}function Xh(e,t){this.b=e,this.a=t}function Yh(e,t){var n=new Gr(null,0);n.ya(t.duration);var i=t.streams.filter((function(e){return"audio"==e.type})),r=t.streams.filter((function(e){return"video"==e.type}));i=Jh(e,i,r,n),r=t.streams.filter((function(e){return"text"==e.type})).map((function(t){return Qh(e,t,n)}));var a=t.drmInfo?[t.drmInfo]:[];if(t.drmInfo)for(var o=d(i.values()),s=o.next();!s.done;s=o.next())s=s.value,s.audio&&s.audio.encrypted&&(s.audio.drmInfos=a),s.video&&s.video.encrypted&&(s.video.drmInfos=a);return{presentationTimeline:n,minBufferTime:2,offlineSessionIds:t.sessionIds,variants:Array.from(i.values()),textStreams:r}}function Jh(e,t,n,i){for(var r=new Set,a=d(t),o=a.next();!o.done;o=a.next()){var s=d(o.value.variantIds);for(o=s.next();!o.done;o=s.next())r.add(o.value)}for(a=d(n),o=a.next();!o.done;o=a.next())for(s=d(o.value.variantIds),o=s.next();!o.done;o=s.next())r.add(o.value);for(a=new Map,r=d(r),o=r.next();!o.done;o=r.next())o=o.value,a.set(o,{id:o,language:"",primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0});for(t=d(t),r=t.next();!r.done;r=t.next())for(r=r.value,o=Qh(e,r,i),s=d(r.variantIds),r=s.next();!r.done;r=s.next())r=a.get(r.value),r.language=o.language,r.primary=r.primary||o.primary,r.audio=o;for(n=d(n),t=n.next();!t.done;t=n.next())for(r=t.value,t=Qh(e,r,i),o=d(r.variantIds),r=o.next();!r.done;r=o.next())r=a.get(r.value),r.primary=r.primary||t.primary,r.video=t;return a}function Qh(e,t,n){var i=t.segments.map((function(t){return Zh(e,t)}));return n.mb(i),{id:t.id,originalId:t.originalId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new ma(i),mimeType:t.mimeType,codecs:t.codecs,width:t.width||void 0,height:t.height||void 0,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,kind:t.kind,encrypted:t.encrypted,drmInfos:[],keyIds:t.keyIds,language:t.language,label:t.label,type:t.type,primary:t.primary,trickModeVideo:null,emsgSchemeIdUris:null,roles:t.roles,channelsCount:t.channelsCount,audioSamplingRate:t.audioSamplingRate,closedCaptions:t.closedCaptions}}function Zh(e,t){var n=new Kh("segment",e.b,e.a,t.dataKey);return new $r(t.startTime,t.endTime,(function(){return[n.toString()]}),0,null,null!=t.initSegmentKey?ep(e,t.initSegmentKey):null,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd)}function ep(e,t){var n=new Kh("segment",e.b,e.a,t);return new qr((function(){return[n.toString()]}),0,null)}function tp(){this.a=null}function np(){}function ip(e){var t=Wh(e);return t&&"manifest"==t.a?(e={uri:e,Jd:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},e=Oe(e)):e=t&&"segment"==t.a?rp(t.key(),t):Pe(new xe(2,1,9004,e)),e}function rp(e,t){var n=new Ch;return Oe(void 0).U((function(){return n.init()})).U((function(){return Ph(n,t.wa(),t.ba())})).U((function(e){return e.getSegments([t.key()])})).U((function(e){return{uri:t,data:e[0].data,headers:{}}}))["finally"]((function(){return n.destroy()}))}function ap(e,t,n){var i,r,a,o,s,u;return j((function(c){switch(c.a){case 1:i=[];for(var l=[],f=d(n),h=f.next();!h.done;h=f.next()){h=h.value;for(var p=!1,m=d(l),g=m.next();!g.done;g=m.next())if(g=g.value,sp(g.info,h)){g.sessionIds.push(h.sessionId),p=!0;break}p||l.push({info:h,sessionIds:[h.sessionId]})}r=d(l),a=r.next();case 2:if(a.done){c.u(4);break}return o=a.value,s=op(e,t,o),x(c,s,5);case 5:u=c.b,i=i.concat(u),a=r.next(),c.u(2);break;case 4:return c["return"](i)}}))}function op(e,t,n){var i,r;return j((function(a){switch(a.a){case 1:return i=new pn({lb:t,onError:function(){},lc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),E(a,2),i.configure(e),x(a,yn(i,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:_(a,3);break;case 2:return C(a),x(a,i.destroy(),5);case 5:return a["return"]([]);case 3:return E(a,6),x(a,wn(i),8);case 8:_(a,7);break;case 6:return C(a),x(a,i.destroy(),9);case 9:return a["return"]([]);case 7:return r=[],x(a,Promise.all(n.sessionIds.map((function(e){return j((function(t){return 1==t.a?(E(t,2),x(t,Tn(i,e),4)):2!=t.a?(r.push(e),_(t,0)):(C(t),void k(t))}))}))),10);case 10:return x(a,i.destroy(),11);case 11:return a["return"](r)}}))}function sp(e,t){function n(e,t){return e.robustness==t.robustness&&e.contentType==t.contentType}return e.keySystem==t.keySystem&&e.licenseUri==t.licenseUri&&Qe(e.audioCapabilities,t.audioCapabilities,n)&&Qe(e.videoCapabilities,t.videoCapabilities,n)}function up(e,t,n){var i=t.presentationTimeline.getDuration();return t=lp(t),{offlineUri:null,originalManifestUri:e,duration:i,size:0,expiration:1/0,tracks:t,appMetadata:n}}function cp(e,t){var n=Yh(new Xh(e.wa(),e.ba()),t),i=t.appMetadata||{};return n=lp(n),{offlineUri:e.toString(),originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i}}function lp(e){var t=[],n=vr(e.variants);n=d(n);for(var i=n.next();!i.done;i=n.next())t.push(dr(i.value));for(e=d(e.textStreams),n=e.next();!n.done;n=e.next())t.push(fr(n.value));return t}function dp(){this.a={}}function fp(e,t,n){return n=n.endTime-n.startTime,hp(e,t)*n}function hp(e,t){var n=e.a[t];return null==n&&(n=0),n}function pp(e,t,n){e.variants=e.variants.filter((function(e){return ur(e,t,n)}))}function mp(e){e.variants=e.variants.filter((function(e){var t=!0;return e.audio&&(t=t&&Ni(e.audio)),e.video&&(t=t&&Ni(e.video)),t}))}function gp(e,t){e.variants=e.variants.filter((function(e){return Fn(t,e)}))}function vp(e){var t=this;if(e&&e.constructor!=Ko)throw new xe(2,9,9008);this.N=this.i=null,e?(this.i=e.i,this.N=e.Eb()):(this.i=Lo(),this.N=new nt),this.pc=[],this.Lb=[],this.Zc=[],this.a=new Map,this.a.set(null,Promise.resolve(null)),this.b=new Map;var n=!e;this.F=new ht((function(){var e,i,r,a,o;return j((function(s){switch(s.a){case 1:return x(s,Promise.all(t.Zc.map((function(e){return hh(e)}))),2);case 2:for(e=function(){},i=[],r=d(t.Lb),a=r.next();!a.done;a=r.next())o=a.value,i.push(o.then(e,e));return x(s,Promise.all(i),3);case 3:if(!n){s.u(4);break}return x(s,t.N.destroy(),4);case 4:t.i=null,t.N=null,k(s)}}))}))}function yp(){if(Jt())e:{for(var e=d(Lh.values()),t=e.next();!t.done;t=e.next())if(t=t.value,t=t()){t.destroy(),e=!0;break e}e=!1}else e=!1;return e}function bp(e,t,n,i,r,a){var o,s,u,c,l,d,f,h,p,m,g;return j((function(v){switch(v.a){case 1:return Np(),s=o=null,u=new Ch,l=c=null,E(v,2,3),x(v,i(),5);case 5:return o=v.b,x(v,_p(e,t,o,r),6);case 6:if(d=v.b,Rp(e),f=!d.presentationTimeline.S()&&!d.presentationTimeline.Ta(),!f)throw new xe(2,9,9005,t);return x(v,Cp(e,d,(function(e){l=l||e}),r),7);case 7:if(s=v.b,Rp(e),l)throw l;return x(v,e.fb(d,s,r),8);case 8:return x(v,u.init(),9);case 9:return Rp(e),x(v,Ih(u),10);case 10:return c=v.b,Rp(e),x(v,wp(e,c.ba,s,d,t,n,r,a),11);case 11:if(h=v.b,Rp(e),l)throw l;return x(v,c.ba.addManifests([h]),12);case 12:return p=v.b,Rp(e),m=new Kh("manifest",c.path.wa,c.path.ba,p[0]),v["return"](cp(m,h));case 3:return I(v),e.pc=[],x(v,u.destroy(),13);case 13:if(!o){v.u(14);break}return x(v,o.stop(),14);case 14:if(!s){v.u(16);break}return x(v,s.destroy(),16);case 16:M(v,0);break;case 2:if(g=C(v),!c){v.u(18);break}return x(v,c.ba.removeSegments(e.pc,(function(){})),18);case 18:throw l||g}}))}function wp(e,t,n,i,r,a,o,s){var u,c,l,d,f,h,p,m,g,v,y,b;return j((function(w){switch(w.a){case 1:return u=up(r,i,a),c=o.offline.progressCallback,l=function(e,t){u.size=t,c(u,e)},d=function(e,t){p&&o.offline.usePersistentLicense&&m==t&&xn(n,"cenc",e)},fh(s,l,d),f=i.variants.some((function(e){var t=e.audio&&e.audio.encrypted;return e.video&&e.video.encrypted||t})),h=i.variants.some((function(e){return(e.video?e.video.drmInfos:[]).concat(e.audio?e.audio.drmInfos:[]).some((function(e){return e.initData&&e.initData.length}))})),p=f&&!h,m=null,p&&(g=n.c,m=Hp.get(g.keySystem)),A(w),y=v=Ip(e,s,t,n,i,r,a,o),x(w,gh(s),4);case 4:if(y.size=w.b,v.expiration=n.Db(),b=En(n),v.sessionIds=o.offline.usePersistentLicense?b:[],f&&o.offline.usePersistentLicense&&!b.length)throw new xe(2,9,9007);return w["return"](v);case 2:return I(w),x(w,s.destroy(),5);case 5:M(w,0)}}))}function Tp(e,t){var n,i,r,a,o,s;return j((function(u){switch(u.a){case 1:if(Np(),n=Wh(t),null==n||"manifest"!=n.a)throw new xe(2,9,9004,t);return i=n,r=new Ch,A(u),x(u,r.init(),4);case 4:return x(u,Ph(r,i.wa(),i.ba()),5);case 5:return a=u.b,x(u,a.getManifests([i.key()]),6);case 6:return o=u.b,s=o[0],x(u,Promise.all([xp(e,s,r),kp(a,i,s)]),2);case 2:return I(u),x(u,r.destroy(),8);case 8:M(u,0)}}))}function Sp(e,t){for(var n=[],i=d(e.streams),r=i.next();!r.done;r=i.next())r=r.value,t&&"video"==r.type?n.push({contentType:Kt(r.mimeType,r.codecs),robustness:e.drmInfo.videoRobustness}):t||"audio"!=r.type||n.push({contentType:Kt(r.mimeType,r.codecs),robustness:e.drmInfo.audioRobustness});return n}function xp(e,t,n){return j((function(i){return x(i,Fp(e.N,e.i.drm,n,t),0)}))}function kp(e,t,n){function i(){}var r=jp(n);return cp(t,n),Promise.all([e.removeSegments(r,i),e.removeManifests([t.key()],i)])}function Ep(e){var t,n,i,r,a,o,s,u,c,l;return j((function(f){switch(f.a){case 1:return Np(),t=e.N,n=e.i.drm,i=new Ch,r=!1,A(f),x(f,i.init(),4);case 4:a=[],Dh(i,(function(e){return a.push(e)})),o=d(a),s=o.next();case 5:if(s.done){f.u(2);break}return u=s.value,x(f,u.getAll(),8);case 8:return c=f.b,x(f,ap(n,t,c),9);case 9:return l=f.b,x(f,u.remove(l),10);case 10:l.length!=c.length&&(r=!0),s=o.next(),f.u(5);break;case 2:return I(f),x(f,i.destroy(),11);case 11:M(f,3);break;case 3:return f["return"](!r)}}))}function Ap(){var e,t,n;return j((function(i){switch(i.a){case 1:return Np(),e=[],t=new Ch,A(i),x(i,t.init(),4);case 4:return n=Promise.resolve(),Mh(t,(function(t,i){n=n.then((function(){var n;return j((function(r){if(1==r.a)return x(r,i.getAllManifests(),2);n=r.b,n.forEach((function(n,i){var r=cp(new Kh("manifest",t.wa,t.ba,i),n);e.push(r)})),k(r)}))}))})),x(i,n,2);case 2:return I(i),x(i,t.destroy(),6);case 6:M(i,3);break;case 3:return i["return"](e)}}))}function _p(e,t,n,i){var r,a,o,s,u;return j((function(c){if(1==c.a)return r=null,a=e.N,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(e){r=e}},n.configure(i.manifest),Rp(e),x(c,n.start(t,o),2);if(3!=c.a)return s=c.b,Rp(e),u=Bp(s),x(c,Promise.all(ae(u,(function(e){return e.createSegmentIndex()}))),3);if(Rp(e),r)throw r;return c["return"](s)}))}function Cp(e,t,n,i){var r;return j((function(a){switch(a.a){case 1:return r=new pn({lb:e.N,onError:n,lc:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),r.configure(i.drm),x(a,gn(r,t.variants,i.offline.usePersistentLicense),2);case 2:return x(a,wn(r),3);case 3:return x(a,Sn(r),4);case 4:return a["return"](r)}}))}function Ip(e,t,n,i,r,a,o,s){for(var u=new dp,c=d(r.variants),l=c.next();!l.done;l=c.next()){var f=u;l=l.value;var h=l.audio,p=l.video;if(h&&!p&&(f.a[h.id]=h.bandwidth||l.bandwidth),!h&&p&&(f.a[p.id]=p.bandwidth||l.bandwidth),h&&p){var m=h.bandwidth||393216,g=p.bandwidth||l.bandwidth-m;0>=g&&(g=l.bandwidth),f.a[h.id]=m,f.a[p.id]=g}}for(c=d(r.textStreams),f=c.next();!f.done;f=c.next())u.a[f.value.id]=52;for(f=Bp(r),c=new Map,f=d(f),l=f.next();!l.done;l=f.next())l=l.value,h=Mp(e,t,n,u,r,l,s),c.set(l.id,h);for(e=d(r.variants),l=e.next();!l.done;l=e.next())t=l.value,t.audio&&c.get(t.audio.id).variantIds.push(t.id),t.video&&c.get(t.video.id).variantIds.push(t.id);return e=Array.from(c.values()),s=s.offline.usePersistentLicense,(t=i.c)&&s&&(t.initData=[]),{creationTime:Date.now(),originalManifestUri:a,duration:r.presentationTimeline.getDuration(),size:0,expiration:i.Db(),streams:e,sessionIds:s?En(i):[],drmInfo:t,appMetadata:o}}function Mp(e,t,n,i,r,a,o){var s={id:a.id,originalId:a.originalId,primary:a.primary,type:a.type,mimeType:a.mimeType,codecs:a.codecs,frameRate:a.frameRate,pixelAspectRatio:a.pixelAspectRatio,kind:a.kind,language:a.language,label:a.label,width:a.width||null,height:a.height||null,encrypted:a.encrypted,keyIds:a.keyIds,segments:[],variantIds:[],roles:a.roles,channelsCount:a.channelsCount,audioSamplingRate:a.audioSamplingRate,closedCaptions:a.closedCaptions},u=a.id;return Op(a,r.presentationTimeline.Qa(),(function(r){var c=Pp(e,t,u,a.id,n,i,r.f,o),l=Dp(e,t,u,a.id,n,i,r,o);mh(t,u,(function(){var e,t;return j((function(n){return 1==n.a?x(n,c,2):3!=n.a?(e=n.b,x(n,l,3)):(t=n.b,s.segments.push({initSegmentKey:e,startTime:r.startTime,endTime:r.endTime,appendWindowStart:r.appendWindowStart,appendWindowEnd:r.appendWindowEnd,timestampOffset:r.timestampOffset,dataKey:t}),void k(n))}))}))})),s}function Pp(e,t,n,i,r,a,o,s){return e.a.has(o)?e.a.get(o):(s=Va(o.c(),o.b,o.a,s.streaming.retryParameters),t=ph(t,n,s,.5*hp(a,i),!0,(function(t){var n;return j((function(i){return 1==i.a?x(i,r.addSegments([{data:t}]),2):(n=i.b,e.pc.push(n[0]),i["return"](n[0]))}))})),e.a.set(o,t),t)}function Dp(e,t,n,i,r,a,o,s){var u=[o.c()[0],o.b,o.a].join("-");return e.b.has(u)?e.b.get(u):(s=Va(o.c(),o.b,o.a,s.streaming.retryParameters),t=ph(t,n,s,fp(a,i,o),!1,(function(t){var n;return j((function(i){return 1==i.a?x(i,r.addSegments([{data:t}]),2):(n=i.b,e.pc.push(n[0]),i["return"](n[0]))}))})),e.b.set(u,t),t)}function Op(e,t,n){if(t=e.segmentIndex.find(t),null!=t)for(var i=e.segmentIndex.get(t);i;)n(i),i=e.segmentIndex.get(++t)}function Rp(e){if(e.F.a)throw new xe(2,9,7001)}function Np(){if(!yp())throw new xe(2,9,9e3)}function Lp(e,t){return j((function(n){return 1==n.a?(e.Lb.push(t),A(n),x(n,t,4)):2!=n.a?n["return"](n.b):(I(n),Je(e.Lb,t),M(n,0))}))}function Up(e,t){var n=t.promise;return e.Lb.push(n),t["finally"]((function(){Je(e.Lb,n)}))}function jp(e){var t=[];e=d(e.streams);for(var n=e.next();!n.done;n=e.next()){n=d(n.value.segments);for(var i=n.next();!i.done;i=n.next())i=i.value,null!=i.initSegmentKey&&t.push(i.initSegmentKey),t.push(i.dataKey)}return t}function Fp(e,t,n,i){var r,a,o;return j((function(s){return 1==s.a?i.drmInfo?(r=Oh(n),a=i.sessionIds.map((function(e){return{sessionId:e,keySystem:i.drmInfo.keySystem,licenseUri:i.drmInfo.licenseServerUri,serverCertificate:i.drmInfo.serverCertificate,audioCapabilities:Sp(i,!1),videoCapabilities:Sp(i,!0)}})),x(s,ap(t,e,a),2)):s["return"]():3!=s.a?(o=s.b,x(s,r.remove(o),3)):x(s,r.add(a.filter((function(e){return!o.includes(e.sessionId)}))),0)}))}function Bp(e){for(var t=new Set,n=d(e.textStreams),i=n.next();!i.done;i=n.next())t.add(i.value);for(e=d(e.variants),n=e.next();!n.done;n=e.next())n=n.value,n.audio&&t.add(n.audio),n.video&&t.add(n.video);return t}function Vp(e){e.variants.map((function(e){return e.video}));var t=new Set(e.variants.map((function(e){return e.audio})));e=e.textStreams;for(var n=d(t),i=n.next();!i.done;i=n.next()){i=d(t);for(var r=i.next();!r.done;r=i.next());}for(t=d(e),n=t.next();!n.done;n=t.next())for(n=d(e),i=n.next();!i.done;i=n.next());}b(Uh,xh),Uh.prototype.updateManifestExpiration=function(e,t){var n,i,r,a=this;return j((function(o){return n=Th(a.b,a.a),i=n.store(),r=new Ie,i.get(e).onsuccess=function(n){(n=n.target.result)?(n.expiration=t,i.put(n),r.resolve()):r.reject(new xe(2,9,9012,"Could not find values for "+e))},x(o,Promise.all([n.promise(),r]),0)}))},Uh.prototype.Ab=function(e){var t,n,i,r,a,o;return j((function(s){if(1==s.a){for(t=[],n=0;n<e.periods.length;++n)i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime,a=jh(e.periods[n],r),t.push(a);return x(s,id(t),2)}return o=s.b,s["return"]({creationTime:0,originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:null==e.expiration?1/0:e.expiration,streams:o,sessionIds:e.sessionIds,drmInfo:e.drmInfo,appMetadata:e.appMetadata})}))},Uh.prototype.td=function(e){return{data:e.data}},b(Hh,xh),Hh.prototype.Ab=function(e){var t,n,i,r,a,o;return j((function(s){if(1==s.a){for(t=[],n=0;n<e.periods.length;++n){i=n==e.periods.length-1?e.duration:e.periods[n+1].startTime,r=i-e.periods[n].startTime;for(var u=e.periods[n],c=[],l=d(u.streams),f=l.next();!f.done;f=l.next())f=f.value,0!=f.variantIds.length&&c.push(qh(f,u.startTime,u.startTime+r));a=c,t.push(a)}return x(s,id(t),2)}return o=s.b,s["return"]({appMetadata:e.appMetadata,creationTime:0,drmInfo:e.drmInfo,duration:e.duration,expiration:null==e.expiration?1/0:e.expiration,originalManifestUri:e.originalManifestUri,sessionIds:e.sessionIds,size:e.size,streams:o})}))},b(zh,xh),zh.prototype.hasFixedKeySpace=function(){return!1},zh.prototype.addSegments=function(e){return this.add(this.c,e)},zh.prototype.addManifests=function(e){return this.add(this.a,e)},zh.prototype.Ab=function(e){return null==e.expiration&&(e.expiration=1/0),Promise.resolve(e)},i=$h.prototype,i.init=function(){var t=this,n=new Ie,i=e.indexedDB.open("shaka_offline_db",5);return i.onsuccess=function(){var e=i.result;t.g=e;var r=e.objectStoreNames;r=r.contains("manifest")&&r.contains("segment")?new Uh(e,"segment","manifest"):null,t.a=r,r=e.objectStoreNames,r=r.contains("manifest-v2")&&r.contains("segment-v2")?new Hh(e,"segment-v2","manifest-v2"):null,t.b=r,r=e.objectStoreNames,r=r.contains("manifest-v3")&&r.contains("segment-v3")?new Hh(e,"segment-v3","manifest-v3"):null,t.c=r,r=e.objectStoreNames,r=r.contains("manifest-v5")&&r.contains("segment-v5")?new zh(e,"segment-v5","manifest-v5"):null,t.f=r,e=e.objectStoreNames.contains("session-ids")?new _h(e):null,t.h=e,n.resolve()},i.onupgradeneeded=function(){for(var e=i.result,t=d(["segment-v5","manifest-v5","session-ids"]),n=t.next();!n.done;n=t.next())n=n.value,e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},i.onerror=function(e){n.reject(new xe(2,9,9001,i.error)),e.preventDefault()},n},i.destroy=function(){var e=this;return j((function(t){switch(t.a){case 1:if(!e.a){t.u(2);break}return x(t,e.a.destroy(),2);case 2:if(!e.b){t.u(4);break}return x(t,e.b.destroy(),4);case 4:if(!e.c){t.u(6);break}return x(t,e.c.destroy(),6);case 6:if(!e.f){t.u(8);break}return x(t,e.f.destroy(),8);case 8:if(!e.h){t.u(10);break}return x(t,e.h.destroy(),10);case 10:e.g&&e.g.close(),k(t)}}))},i.getCells=function(){var e=new Map;return this.a&&e.set("v1",this.a),this.b&&e.set("v2",this.b),this.c&&e.set("v3",this.c),this.f&&e.set("v5",this.f),e},i.getEmeSessionCell=function(){return this.h},i.erase=function(){var e=this;return j((function(t){switch(t.a){case 1:if(!e.a){t.u(2);break}return x(t,e.a.destroy(),2);case 2:if(!e.b){t.u(4);break}return x(t,e.b.destroy(),4);case 4:if(!e.c){t.u(6);break}return x(t,e.c.destroy(),6);case 6:if(!e.f){t.u(8);break}return x(t,e.f.destroy(),8);case 8:return e.g&&e.g.close(),x(t,Gh(),10);case 10:return e.g=null,e.a=null,e.b=null,e.c=null,e.f=null,x(t,e.init(),0)}}))},Nh("idb",(function(){return nn("CrKey")||!e.indexedDB?null:new $h})),Kh.prototype.wa=function(){return this.g},Kh.prototype.ba=function(){return this.f},Kh.prototype.key=function(){return this.c},Kh.prototype.toString=function(){return this.b},i=tp.prototype,i.configure=function(){},i.start=function(e,t){var n,i,r,a,o,s,u,c=this;return j((function(l){switch(l.a){case 1:if(n=Wh(e),c.a=n,null==n||"manifest"!=n.a)throw new xe(2,1,9004,e);return i=new Ch,A(l),x(l,i.init(),4);case 4:return x(l,Ph(i,n.wa(),n.ba()),5);case 5:return r=l.b,x(l,r.getManifests([n.key()]),6);case 6:return a=l.b,o=a[0],s=new Xh(n.wa(),n.ba()),u=Yh(s,o),t.makeTextStreamsForClosedCaptions(u),l["return"](u);case 2:return I(l),x(l,i.destroy(),7);case 7:M(l,0)}}))},i.stop=function(){return Promise.resolve()},i.update=function(){},i.onExpirationUpdated=function(e,t){var n,i,r,a,o,s,u,c=this;return j((function(l){switch(l.a){case 1:return n=c.a,i=new Ch,E(l,2,3),x(l,i.init(),5);case 5:return x(l,Ph(i,n.wa(),n.ba()),6);case 6:return r=l.b,x(l,r.getManifests([n.key()]),7);case 7:if(a=l.b,o=a[0],s=o.sessionIds.includes(e),u=void 0==o.expiration||o.expiration>t,!s||!u){l.u(3);break}return x(l,r.updateManifestExpiration(n.key(),t),3);case 3:return I(l),x(l,i.destroy(),10);case 10:M(l,0);break;case 2:C(l),l.u(3)}}))},Vr["application/x-offline-manifest"]=function(){return new tp},$("shaka.offline.OfflineScheme",np),np.plugin=ip,it("offline",ip),i=vp.prototype,i.destroy=function(){return this.F.destroy()},i.configure=function(e,t){return 2==arguments.length&&"string"==typeof e&&(e=Ro(e,t)),e.manifest&&e.manifest.dash&&"defaultPresentationDelay"in e.manifest.dash&&(Ot("manifest.dash.defaultPresentationDelay configuration","Please Use manifest.defaultPresentationDelay instead."),e.manifest.defaultPresentationDelay=e.manifest.dash.defaultPresentationDelay,delete e.manifest.dash.defaultPresentationDelay),Uo(this.i,e)},i.getConfiguration=function(){var e=Lo();return Uo(e,this.i,Lo()),e},i.Eb=function(){return this.N},i.store=function(e,t,n){var i=this,r=this.getConfiguration(),a=new dh(this.N);this.Zc.push(a),t=bp(this,e,t||{},(function(){var t;return j((function(a){return 1==a.a?x(a,jr(e,i.N,r.manifest.retryParameters,n||null),2):(t=a.b,a["return"](Bt(t)))}))}),r,a);var o=new Me(t,(function(){return hh(a)}));return o["finally"]((function(){Je(i.Zc,a)})),o.then=function(e){return Ot("shaka.offline.Storage.store.then","Storage operations now return a shaka.util.AbortableOperation, rather than a promise.  Please update to conform to this new API; you can use the |chain| method instead."),o.promise.then(e)},Up(this,o)},i.xe=function(){return Ot("shaka.offline.Storage.getStoreInProgress","Multiple concurrent downloads are now supported."),!1},i.fb=function(e,t,n){var i,r,a,o,s,u,c,l,f,h,p,m,g,v,y;return j((function(b){if(1==b.a){for(i={width:1/0,height:1/0},pp(e,n.restrictions,i),mp(e),gp(e,t),r=[],a=n.preferredAudioChannelCount,sr(e,a),o=d(e.variants),s=o.next();!s.done;s=o.next())u=s.value,r.push(dr(u));for(c=d(e.textStreams),l=c.next();!l.done;l=c.next())f=l.value,r.push(fr(f));return x(b,n.offline.trackSelectionCallback(r),2)}for(h=b.b,p=new Set,m=new Set,g=d(h),v=g.next();!v.done;v=g.next())y=v.value,"variant"==y.type&&p.add(y.id),"text"==y.type&&m.add(y.id);e.variants=e.variants.filter((function(e){return p.has(e.id)})),e.textStreams=e.textStreams.filter((function(e){return m.has(e.id)})),Vp(e),k(b)}))},i.remove=function(e){return Lp(this,Tp(this,e))},i.Oe=function(){return Lp(this,Ep(this))},i.list=function(){return Lp(this,Ap())},$("shaka.offline.Storage",vp),vp.deleteAll=function(){var e;return j((function(t){return 1==t.a?(e=new Ch,A(t),x(t,Rh(e),2)):5!=t.a?(I(t),x(t,e.destroy(),5)):M(t,0)}))},vp.prototype.list=vp.prototype.list,vp.prototype.removeEmeSessions=vp.prototype.Oe,vp.prototype.remove=vp.prototype.remove,vp.prototype.getStoreInProgress=vp.prototype.xe,vp.prototype.store=vp.prototype.store,vp.prototype.getNetworkingEngine=vp.prototype.Eb,vp.prototype.getConfiguration=vp.prototype.getConfiguration,vp.prototype.configure=vp.prototype.configure,vp.prototype.destroy=vp.prototype.destroy,vp.support=yp;var Hp=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.adobe.primetime","f239e769efa348509c16a903c6932efb");function qp(){}function zp(e,t){for(var n={priority:t||0,Zd:e},i=d(ue($p)),r=i.next();!r.done;r=i.next()){r=r.value;var a=r.Y;if(r.item.priority<n.priority)return void $p.splice(a,0,n)}$p.push(n)}Au.offline=yp,$("shaka.polyfill",qp),qp.register=zp,qp.installAll=function(){for(var e=d($p),t=e.next();!t.done;t=e.next()){t=t.value;try{t.Zd()}catch(n){Q("Error installing polyfill!",n)}}};var $p=[];function Gp(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"===typeof Event)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function Kp(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}HTMLInputElement.prototype.originalAddEventListener.call(this,e,t,n)}function Wp(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(t){for(var n=[],i=0;i<arguments.length;++i)n[i]=arguments[i];return n=e.apply(this,n),n.abort=function(){},n}}function Xp(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function Yp(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1].toLowerCase()&&e(t)}}function Jp(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"opus"!=Xt(t)[0]&&e(t)}}function Qp(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){var n=t.split(/ *; */);return n.shift(),n.some((function(e){return e.startsWith("codecs=")}))?cast.__platform__.canDisplayType(t):e(t)}}function Zp(e,t){try{var n=new nm(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function em(e){var t=this.mediaKeys;return t&&t!=e&&rm(t,null),delete this.mediaKeys,(this.mediaKeys=e)?rm(e,this):Promise.resolve()}function tm(e){if(e=Ve(e.initData),He(e).getUint32(0,!0)+4!=e.byteLength)throw new RangeError("Malformed FairPlay init data");e=xt(e.subarray(4),!0),e=Et(e);var t=new Event("encrypted");t.initDataType="skd",t.initData=Be(e),this.dispatchEvent(t)}function nm(e,t){if(this.keySystem=e,e.startsWith("com.apple.fps"))for(var n=d(t),i=n.next();!i.done;i=n.next()){var r=i.value;if("required"==r.persistentState)i=null;else{i={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label};var a=!1,o=!1;if(r.audioCapabilities)for(var s=d(r.audioCapabilities),u=s.next();!u.done;u=s.next())u=u.value,u.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(i.audioCapabilities.push(u),o=!0));if(r.videoCapabilities)for(r=d(r.videoCapabilities),u=r.next();!u.done;u=r.next())s=u.value,s.contentType&&(a=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,s.contentType.split(";")[0])&&(i.videoCapabilities.push(s),o=!0));a||(o=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),i=o?i:null}if(i)return void(this.a=i)}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function im(e){this.a=new WebKitMediaKeys(e),this.b=new mt}function rm(e,t){if(e.b.Xa(),!t)return Promise.resolve();e.b.l(t,"webkitneedkey",tm);try{return Zr(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.webkitSetMediaKeys(e.a)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function am(e){Ke.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new mt,this.sessionId="",this.expiration=NaN,this.closed=new Ie,this.keyStatuses=new sm}function om(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,n=new ze("keystatuseschange"),e.dispatchEvent(n)}function sm(){this.size=0,this.a=void 0}function um(e,t){try{var n=new lm(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function cm(e){if(e.initData){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",t.initData=Be($c(e.initData)),this.dispatchEvent(t)}}function lm(e,t){this.keySystem=e;for(var n=!1,i=d(t),r=i.next();!r.done;r=i.next()){r=r.value;var a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label},o=!1;if(r.audioCapabilities)for(var s=d(r.audioCapabilities),u=s.next();!u.done;u=s.next())u=u.value,u.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(a.audioCapabilities.push(u),n=!0));if(r.videoCapabilities)for(s=d(r.videoCapabilities),u=s.next();!u.done;u=s.next())u=u.value,u.contentType&&(o=!0,MSMediaKeys.isTypeSupported(this.keySystem,u.contentType.split(";")[0])&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==r.persistentState&&(n=!1),n)return void(this.a=a)}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function dm(e){var t=this.mediaKeys;return t&&t!=e&&hm(t,null),delete this.mediaKeys,(this.mediaKeys=e)?hm(e,this):Promise.resolve()}function fm(e){this.a=new MSMediaKeys(e),this.b=new mt}function hm(e,t){if(e.b.Xa(),!t)return Promise.resolve();e.b.l(t,"msneedkey",cm);try{return Zr(t,HTMLMediaElement.HAVE_METADATA,e.b,(function(){t.msSetMediaKeys(e.a)})),Promise.resolve()}catch(n){return Promise.reject(n)}}function pm(e){Ke.call(this),this.f=null,this.g=e,this.c=this.a=null,this.b=new mt,this.sessionId="",this.expiration=NaN,this.closed=new Ie,this.keyStatuses=new gm}function mm(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,n=new ze("keystatuseschange"),e.dispatchEvent(n)}function gm(){this.size=0,this.a=void 0}function vm(){return Promise.reject(Error("The key system specified is not supported."))}function ym(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function bm(){throw new TypeError("Illegal constructor.")}function wm(){throw this.keySystem="",new TypeError("Illegal constructor.")}function Tm(e){var t=Om;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function Sm(e,t){try{var n=new km(e,t);return Promise.resolve(n)}catch(i){return Promise.reject(i)}}function xm(e){var t=this.mediaKeys;return t&&t!=e&&Am(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&Am(e,this),Promise.resolve()}function km(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");for(var a=d(t),o=a.next();!o.done;o=a.next()){o=o.value;var s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var c=d(o.audioCapabilities),l=c.next();!l.done;l=c.next())l=l.value,l.contentType&&(u=!0,r.canPlayType(l.contentType.split(";")[0],this.a)&&(s.audioCapabilities.push(l),i=!0));if(o.videoCapabilities)for(c=d(o.videoCapabilities),l=c.next();!l.done;l=c.next())l=l.value,l.contentType&&(u=!0,r.canPlayType(l.contentType,this.a)&&(s.videoCapabilities.push(l),i=!0));if(u||(i=r.canPlayType("video/mp4",this.a)||r.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),n=Error(n),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Em(e){this.g=e,this.a=null,this.b=new mt,this.c=[],this.f=new Map}function Am(e,t){e.a=t,e.b.Xa();var n=Om;t&&(e.b.l(t,n+"needkey",(function(t){var n=document.createEvent("CustomEvent");n.initCustomEvent("encrypted",!1,!1,null),n.initDataType="cenc",n.initData=Be(t.initData),e.a.dispatchEvent(n)})),e.b.l(t,n+"keymessage",(function(t){var n=_m(e,t.sessionId);n&&(t=new ze("message",{messageType:void 0==n.keyStatuses.a?"licenserequest":"licenserenewal",message:t.message}),n.b&&(n.b.resolve(),n.b=null),n.dispatchEvent(t))})),e.b.l(t,n+"keyadded",(function(t){(t=_m(e,t.sessionId))&&(Pm(t,"usable"),t.a&&t.a.resolve(),t.a=null)})),e.b.l(t,n+"keyerror",(function(t){var n=_m(e,t.sessionId);n&&n.handleError(t)})))}function _m(e,t){var n=e.f.get(t);return n||((n=e.c.shift())?(n.sessionId=t,e.f.set(t,n),n):null)}function Cm(e,t,n){Ke.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new Ie,this.keyStatuses=new Dm}function Im(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var i=Ve(Et("LOAD_SESSION|"+n));else{var r=Et("PERSISTENT|");i=hn(r,t)}else i=Ve(t)}catch(o){return Promise.reject(o)}e.b=new Ie;var a=Tm("generateKeyRequest");try{e.f[a](e.c,i)}catch(o){if("InvalidStateError"!=o.name)return e.b=null,Promise.reject(o);new Ee((function(){try{e.f[a](e.c,i)}catch(t){e.b.reject(t),e.b=null}})).R(.01)}return e.b}function Mm(e,t,n){if(e.a)e.a.then((function(){return Mm(e,t,n)}))["catch"]((function(){return Mm(e,t,n)}));else{if(e.a=t,"webkit-org.w3.clearkey"==e.c){var i=St(n),r=JSON.parse(i);"oct"!=r.keys[0].kty&&(e.a.reject(Error("Response is not a valid JSON Web Key Set.")),e.a=null),i=ln(r.keys[0].k),r=ln(r.keys[0].kid)}else i=Ve(n),r=null;var a=Tm("addKey");try{e.f[a](e.c,i,r,e.sessionId)}catch(o){e.a.reject(o),e.a=null}}}function Pm(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,n=new ze("keystatuseschange"),e.dispatchEvent(n)}function Dm(){this.size=0,this.a=void 0}zp((function(){jg()}),-1),zp((function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Gp),document.addEventListener("webkitfullscreenerror",Gp),document.addEventListener("mozfullscreenchange",Gp),document.addEventListener("mozfullscreenerror",Gp),document.addEventListener("MSFullscreenChange",Gp),document.addEventListener("MSFullscreenError",Gp)}})),zp((function(){nn("Trident/")&&!HTMLInputElement.prototype.originalAddEventListener&&(HTMLInputElement.prototype.originalAddEventListener=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=Kp)})),zp((function(){navigator.languages||Object.defineProperty(navigator,"languages",{get:function(){return navigator.language?[navigator.language]:["en"]}})})),zp((function(){})),zp((function(){var t=tn();e.MediaSource&&(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType?Qp():t?(Yp(),12>=t?(Wp(),Xp()):Wp()):(nn("Tizen 2")||nn("Tizen 3")||nn("Tizen 4"))&&Jp())})),nm.prototype.createMediaKeys=function(){var e=new im(this.keySystem);return Promise.resolve(e)},nm.prototype.getConfiguration=function(){return this.a},im.prototype.createSession=function(e){if(e=e||"temporary","temporary"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");return new am(this.a,e)},im.prototype.setServerCertificate=function(){return Promise.resolve(!1)},b(am,Ke),i=am.prototype,i.generateRequest=function(e,t){var n=this;this.a=new Ie;try{var i=this.g.createSession("video/mp4",Ve(t));this.f=i,this.sessionId=i.sessionId||"",this.b.l(this.f,"webkitkeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new ze("message",{messageType:void 0==n.keyStatuses.a?"license-request":"license-renewal",message:Be(e.message)}),n.dispatchEvent(e)})),this.b.l(i,"webkitkeyadded",(function(){n.c&&(om(n,"usable"),n.c.resolve(),n.c=null)})),this.b.l(i,"webkitkeyerror",(function(){var e=Error("EME PatchedMediaKeysApple key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:om(n,"output-not-allowed");break;default:om(n,"internal-error")}})),om(this,"status-pending")}catch(r){this.a.reject(r)}return this.a},i.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(e){this.c=new Ie;try{this.f.update(Ve(e))}catch(t){this.c.reject(t)}return this.c},i.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(Fg){this.closed.reject(Fg)}return this.closed},i.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},i=sm.prototype,i.forEach=function(e){this.a&&e(this.a,Yn.value())},i.get=function(e){if(this.has(e))return this.a},i.has=function(e){var t=Yn.value();return!(!this.a||!je(e,t))},i.entries=function(){},i.keys=function(){},i.values=function(){},zp((function(){e.HTMLVideoElement&&e.WebKitMediaKeys&&(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=em,e.MediaKeys=im,e.MediaKeySystemAccess=nm,navigator.requestMediaKeySystemAccess=Zp)})),lm.prototype.createMediaKeys=function(){var e=new fm(this.keySystem);return Promise.resolve(e)},lm.prototype.getConfiguration=function(){return this.a},fm.prototype.createSession=function(e){if(e=e||"temporary","temporary"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");return new pm(this.a,e)},fm.prototype.setServerCertificate=function(){return Promise.resolve(!1)},b(pm,Ke),i=pm.prototype,i.generateRequest=function(e,t){var n=this;this.a=new Ie;try{this.f=this.g.createSession("video/mp4",Ve(t),null),this.b.l(this.f,"mskeymessage",(function(e){n.a&&(n.a.resolve(),n.a=null),e=new ze("message",{messageType:void 0==n.keyStatuses.a?"license-request":"license-renewal",message:Be(e.message)}),n.dispatchEvent(e)})),this.b.l(this.f,"mskeyadded",(function(){n.a?(mm(n,"usable"),n.a.resolve(),n.a=null):n.c&&(mm(n,"usable"),n.c.resolve(),n.c=null)})),this.b.l(this.f,"mskeyerror",(function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=n.f.error,null!=n.a)n.a.reject(e),n.a=null;else if(null!=n.c)n.c.reject(e),n.c=null;else switch(n.f.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:mm(n,"output-not-allowed");break;default:mm(n,"internal-error")}})),mm(this,"status-pending")}catch(i){this.a.reject(i)}return this.a},i.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(e){this.c=new Ie;try{this.f.update(Ve(e))}catch(t){this.c.reject(t)}return this.c},i.close=function(){try{this.f.close(),this.closed.resolve(),this.b.Xa()}catch(Fg){this.closed.reject(Fg)}return this.closed},i.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},i=gm.prototype,i.forEach=function(e){this.a&&e(this.a,Yn.value())},i.get=function(e){if(this.has(e))return this.a},i.has=function(e){var t=Yn.value();return!(!this.a||!je(e,t))},i.entries=function(){},i.keys=function(){},i.values=function(){},zp((function(){!e.HTMLVideoElement||!e.MSMediaKeys||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,e.MediaKeys=fm,e.MediaKeySystemAccess=lm,navigator.requestMediaKeySystemAccess=um,HTMLMediaElement.prototype.setMediaKeys=dm)})),bm.prototype.createSession=function(){},bm.prototype.setServerCertificate=function(){},wm.prototype.getConfiguration=function(){},wm.prototype.createMediaKeys=function(){},zp((function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(navigator.requestMediaKeySystemAccess=vm,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ym,e.MediaKeys=bm,e.MediaKeySystemAccess=wm)}),-10),km.prototype.createMediaKeys=function(){var e=new Em(this.a);return Promise.resolve(e)},km.prototype.getConfiguration=function(){return this.b},Em.prototype.createSession=function(e){if(e=e||"temporary","temporary"!=e&&"persistent-license"!=e)throw new TypeError("Session type "+e+" is unsupported on this platform.");var t=this.a||document.createElement("video");return t.src||(t.src="about:blank"),e=new Cm(t,this.g,e),this.c.push(e),e},Em.prototype.setServerCertificate=function(){return Promise.resolve(!1)},b(Cm,Ke),i=Cm.prototype,i.handleError=function(e){var t=Error("EME v0.1b key error"),n=e.errorCode;n.systemCode=e.systemCode,t.errorCode=n,!e.sessionId&&this.b?(45==e.systemCode&&(t.message="Unsupported session type."),this.b.reject(t),this.b=null):e.sessionId&&this.a?(this.a.reject(t),this.a=null):(t=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?Pm(this,"output-restricted"):Pm(this,1==t?"expired":"internal-error"))},i.generateRequest=function(e,t){return Im(this,t,null)},i.load=function(e){return"persistent-license"==this.g?Im(this,null,e):Promise.reject(Error("Not a persistent session."))},i.update=function(e){var t=new Ie;return Mm(this,t,e),t},i.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=Tm("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},i.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()},i=Dm.prototype,i.forEach=function(e){this.a&&e(this.a,Yn.value())},i.get=function(e){if(this.has(e))return this.a},i.has=function(e){var t=Yn.value();return!(!this.a||!je(e,t))},i.entries=function(){},i.keys=function(){},i.values=function(){};var Om="";function Rm(e){if(e=e.target,"picture-in-picture"==e.webkitPresentationMode){document.pictureInPictureElement=e;var t=new Event("enterpictureinpicture");e.dispatchEvent(t)}else document.pictureInPictureElement==e&&(document.pictureInPictureElement=null),t=new Event("leavepictureinpicture"),e.dispatchEvent(t)}function Nm(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function Lm(){var e=document.pictureInPictureElement;return e?(e.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function Um(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function jm(e){e?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function Fm(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Bm(t,n,i){return new e.TextTrackCue(t,n,i)}function Vm(t,n,i){return new e.TextTrackCue(t+"-"+n+"-"+i,t,n,i)}function Hm(){}function qm(e){var t=[];if(!e)return t;for(var n=d(e.childNodes),i=n.next();!i.done;i=n.next())i=i.value,i.nodeType==Node.ELEMENT_NODE&&"br"!==i.nodeName&&(i=qm(i),t=t.concat(i));return t.length||t.push(e),t}function zm(e){if(!e)return[];var t=[];e=d(e.childNodes);for(var n=e.next();!n.done;n=e.next())n=n.value,n instanceof Element&&(n.hasAttribute("begin")?t.push(n):t=t.concat(zm(n)));return t}function $m(e,t){for(var n="",i=d(e.childNodes),r=i.next();!r.done;r=i.next())r=r.value,"br"==r.nodeName&&e.childNodes[0]!==r?n+="\n":r.childNodes&&0<r.childNodes.length?n+=$m(r,t):t?(r=r.textContent.trim(),r=r.replace(/\s+/g," "),n+=r):n+=r.textContent;return n}function Gm(e,t,n,i,r,a,o,s,u,c){if(u&&"br"==e.nodeName)return e=new ui(0,0,""),e.spacer=!0,e;var l=/^[\s\n]*$/.test(e.textContent),f=e.nodeType==Node.ELEMENT_NODE&&!e.hasAttribute("begin")&&!e.hasAttribute("end");if(e.nodeType!=Node.ELEMENT_NODE||f&&l||f&&!u)return null;l=eg(e.getAttribute("begin"),n),f=eg(e.getAttribute("end"),n);var h=eg(e.getAttribute("dur"),n);if(null==f&&null!=h&&(f=l+h),!u&&(null==l||null==f))throw new xe(2,2,2001);if(l=u&&null==l?0:l+t,f=u&&null==f?0:f+t,h="",u=[],Array.from(e.childNodes).some((function(e){return e.nodeType==Node.TEXT_NODE&&/\S+/.test(e.textContent)})))h=$m(e,s);else for(var p=d(e.childNodes),m=p.next();!m.done;m=p.next())(m=Gm(m.value,t,n,i,r,a,o,s,!0,c))&&(m.startTime=m.startTime||l,m.endTime=m.endTime||f,u.push(m));if(t=new ui(l,f,h),t.nestedCues=u,c&&(t.cellResolution=c),(a=Zm(e,"region",a,"")[0])&&a.getAttribute("xml:id")){var g=a.getAttribute("xml:id");t.region=o.filter((function(e){return e.id==g}))[0]}return i=Zm(e,"backgroundImage",i,"#","http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt")[0],Km(t,e,a,i,r),t}function Km(e,t,n,i,r){"rtl"==Xm(t,n,r,"direction")&&(e.direction="rtl");var a=Xm(t,n,r,"writingMode");if("tb"==a||"tblr"==a?e.writingMode="vertical-lr":"tbrl"==a?e.writingMode="vertical-rl":"rltb"==a||"rl"==a?e.direction="rtl":a&&(e.direction=mi),(a=Xm(t,n,r,"textAlign"))?(e.positionAlign=gg[a],e.lineAlign=mg[a],e.textAlign=fi[a.toUpperCase()]):e.textAlign="start",(a=Xm(t,n,r,"displayAlign"))&&(e.displayAlign=pi[a.toUpperCase()]),(a=Xm(t,n,r,"color"))&&(e.color=a),(a=Xm(t,n,r,"backgroundColor"))&&(e.backgroundColor=a),(a=Xm(t,n,r,"border"))&&(e.border=a),(a=Xm(t,n,r,"fontFamily"))&&(e.fontFamily=a),(a=Xm(t,n,r,"fontWeight"))&&"bold"==a&&(e.fontWeight=700),(a=Xm(t,n,r,"wrapOption"))&&"noWrap"==a&&(e.wrapLine=!1),(a=Xm(t,n,r,"lineHeight"))&&a.match(sg)&&(e.lineHeight=a),(a=Xm(t,n,r,"fontSize"))&&(a.match(sg)||a.match(og))&&(e.fontSize=a),(a=Xm(t,n,r,"fontStyle"))&&(e.fontStyle=Si[a.toUpperCase()]),i){a=i.getAttribute("imagetype");var o=i.getAttribute("encoding");i=i.textContent.trim(),"PNG"==a&&"Base64"==o&&i&&(e.backgroundImage="data:image/png;base64,"+i)}(i=Xm(t,n,r,"letterSpacing"))&&i.match(sg)&&(e.letterSpacing=i),(i=Xm(t,n,r,"linePadding"))&&i.match(sg)&&(e.linePadding=i),(i=Xm(t,n,r,"opacity"))&&(e.opacity=parseFloat(i)),(n=Ym(n,r,"textDecoration"))&&Wm(e,n),(t=Jm(t,r,"textDecoration"))&&Wm(e,t)}function Wm(e,t){for(var n=d(t.split(" ")),i=n.next();!i.done;i=n.next())switch(i.value){case"underline":e.textDecoration.includes("underline")||e.textDecoration.push("underline");break;case"noUnderline":e.textDecoration.includes("underline")&&Je(e.textDecoration,"underline");break;case"lineThrough":e.textDecoration.includes("lineThrough")||e.textDecoration.push("lineThrough");break;case"noLineThrough":e.textDecoration.includes("lineThrough")&&Je(e.textDecoration,"lineThrough");break;case"overline":e.textDecoration.includes("overline")||e.textDecoration.push("overline");break;case"noOverline":e.textDecoration.includes("overline")&&Je(e.textDecoration,"overline")}}function Xm(e,t,n,i){return(e=Jm(e,n,i))?e:Ym(t,n,i)}function Ym(e,t,n){if(!e)return null;var i=qm(e);i=d(i);for(var r=i.next();!r.done;r=i.next())if(r=Yc(r.value,"http://www.w3.org/ns/ttml#styling",n))return r;return Qm(e,t,n)}function Jm(e,t,n){var i=Yc(e,"http://www.w3.org/ns/ttml#styling",n);return i||Qm(e,t,n)}function Qm(e,t,n){e=Zm(e,"style",t,"");for(var i=null,r=0;r<e.length;r++){var a=Yc(e[r],"urn:ebu:tt:style",n);a||(a=Yc(e[r],"http://www.w3.org/ns/ttml#styling",n)),a||(a=Jm(e[r],t,n)),a&&(i=a)}return i}function Zm(e,t,n,i,r){var a=[];if(!e||1>n.length)return a;var o=e;for(e=null;o&&!(e=r?Yc(o,r,t):o.getAttribute(t))&&(o=o.parentNode,o instanceof Element););if(t=e)for(t=d(t.split(" ")),r=t.next();!r.done;r=t.next())for(r=r.value,e=d(n),o=e.next();!o.done;o=e.next())if(o=o.value,i+o.getAttribute("xml:id")==r){a.push(o);break}return a}function eg(e,t){var n=null;if(cg.test(e)){n=cg.exec(e);var i=Number(n[1]),r=Number(n[2]),a=Number(n[3]),o=Number(n[4]);o+=(Number(n[5])||0)/t.b,a+=o/t.frameRate,n=a+60*r+3600*i}else lg.test(e)?n=tg(lg,e):dg.test(e)?n=tg(dg,e):fg.test(e)?(n=fg.exec(e),n=Number(n[1])/t.frameRate):hg.test(e)?(n=hg.exec(e),n=Number(n[1])/t.a):pg.test(e)&&(n=tg(pg,e));return n}function tg(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function ng(e,t,n,i){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(i),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(e[1])/Number(e[2]))}zp((function(){if(!(!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)Om="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=Sm,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=xm,e.MediaKeys=Em,e.MediaKeySystemAccess=km}})),zp((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;t.requestPictureInPicture&&document.exitPictureInPicture||!t.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,t.requestPictureInPicture=Nm,Object.defineProperty(t,"disablePictureInPicture",{get:Um,set:jm,enumerable:!0,configurable:!0}),document.exitPictureInPicture=Lm,document.addEventListener("webkitpresentationmodechanged",Rm,!0))}})),zp((function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this);return e&&e["catch"]((function(){})),e}}})),zp((function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Fm)}})),zp((function(){if(!e.VTTCue&&e.TextTrackCue){var t=null,n=TextTrackCue.length;if(3==n)t=Bm;else if(6==n)t=Vm;else{try{var i=!!Bm(1,2,"")}catch(r){i=!1}i&&(t=Bm)}t&&(e.VTTCue=function(e,n,i){return t(e,n,i)})}})),Hm.prototype.parseInit=function(){},Hm.prototype.parseMedia=function(e,t){var n=St(e),i=[],r=new DOMParser,a=null;if(""==n)return i;try{a=r.parseFromString(n,"text/xml")}catch(w){throw new xe(2,2,2005,"Failed to parse TTML.")}if(a){if(n=a.getElementsByTagName("parsererror")[0])throw new xe(2,2,2005,n.textContent);if(!(r=a.getElementsByTagName("tt")[0]))throw new xe(2,2,2005,"TTML does not contain <tt> tag.");var o=Yc(r,"http://www.w3.org/ns/ttml#parameter","frameRate"),s=Yc(r,"http://www.w3.org/ns/ttml#parameter","subFrameRate"),u=Yc(r,"http://www.w3.org/ns/ttml#parameter","frameRateMultiplier"),c=Yc(r,"http://www.w3.org/ns/ttml#parameter","tickRate"),l=Yc(r,"http://www.w3.org/ns/ttml#parameter","cellResolution");if(a=r.getAttribute("xml:space")||"default",n=Yc(r,"http://www.w3.org/ns/ttml#styling","extent"),"default"!=a&&"preserve"!=a)throw new xe(2,2,2005,"Invalid xml:space value: "+a);a="default"==a,o=new ng(o,s,u,c),l=l&&(l=/^(\d+) (\d+)$/.exec(l))?{columns:parseInt(l[1],10),rows:parseInt(l[2],10)}:null,s=qm(r.getElementsByTagName("metadata")[0]),u=qm(r.getElementsByTagName("styling")[0]),c=qm(r.getElementsByTagName("layout")[0]);for(var f=[],h=d(c),p=h.next();!p.done;p=h.next()){var m=p.value,g=n;p=new xi;var v,y,b=m.getAttribute("xml:id");if(b)p.id=b,b=null,g&&(b=ag.exec(g)||ug.exec(g)),g=b?Number(b[1]):null,b=b?Number(b[2]):null,(v=Ym(m,u,"extent"))&&(v=(y=ag.exec(v))||ug.exec(v),null!=v&&(p.width=null!=g?100*Number(v[1])/g:Number(v[1]),p.height=null!=b?100*Number(v[2])/b:Number(v[2]),p.widthUnits=y||null!=g?ki:0,p.heightUnits=y||null!=b?ki:0)),(m=Ym(m,u,"origin"))&&(v=(y=ag.exec(m))||ug.exec(m),null!=v&&(p.viewportAnchorX=null!=b?100*Number(v[1])/b:Number(v[1]),p.viewportAnchorY=null!=g?100*Number(v[2])/g:Number(v[2]),p.viewportAnchorUnits=y||null!=g?ki:0));else p=null;p&&f.push(p)}for(n=zm(r.getElementsByTagName("body")[0]),n=d(n),r=n.next();!r.done;r=n.next())(r=Gm(r.value,t.periodStart,o,s,u,c,f,a,!1,l))&&i.push(r)}return i},$("shaka.text.TtmlTextParser",Hm),Hm.prototype.parseMedia=Hm.prototype.parseMedia,Hm.prototype.parseInit=Hm.prototype.parseInit;var ig,rg,ag=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,og=/^(\d{1,2}(?:\.\d+)?|100)%$/,sg=/^(\d+px|\d+em|\d*\.?\d+c)$/,ug=/^(\d+)px (\d+)px$/,cg=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,lg=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,dg=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,fg=/^(\d*(?:\.\d*)?)f$/,hg=/^(\d*(?:\.\d*)?)t$/,pg=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,mg={left:yi,center:"center",right:"end",start:yi,end:"end"},gg={left:"line-left",center:"center",right:"line-right"};function vg(){this.m=new Hm}function yg(){}function bg(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],e.textAlign="middle"==t?di:fi[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingMode="lr"==i[1]?"vertical-lr":"vertical-rl":(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(i=/^region:(.*)$/.exec(t))?(t=wg(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=bi[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=vi,e.line=Number(n[1]),n[2]&&(e.lineAlign=bi[n[2].toUpperCase()]))}function wg(e,t){var n=e.filter((function(e){return e.id==t}));return n.length?n[0]:null}function Tg(e){if(e=Zd(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g),null==e)return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Sg(){this.a=null}function xg(e,t,n){var i,r,a;return(new Oa).box("payl",La((function(e){i=St(e)}))).box("iden",La((function(e){r=St(e)}))).box("sttg",La((function(e){a=St(e)}))).parse(e),i?kg(i,r,a,t,n):null}function kg(e,t,n,i,r){if(e=new ui(i,r,e),t&&(e.id=t),n)for(t=new Jd(n),n=ef(t);n;)bg(e,n,[]),Qd(t),n=ef(t);return e}
/*
 @license
 EME Encryption Scheme Polyfill
 Copyright 2019 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
function Eg(){}function Ag(){ig?console.debug("EmeEncryptionSchemePolyfill: Already installed."):navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?(ig=navigator.requestMediaKeySystemAccess,console.debug("EmeEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.requestMediaKeySystemAccess=_g):console.debug("EmeEncryptionSchemePolyfill: EME not found")}function _g(e,t){var n,i=this;return j((function(r){return 1==r.a?(console.assert(i==navigator,'bad "this" for requestMediaKeySystemAccess'),x(r,ig.call(i,e,t),2)):(n=r.b,Lg(n)?(console.debug("EmeEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.requestMediaKeySystemAccess=ig,r["return"](n)):(console.debug("EmeEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.requestMediaKeySystemAccess=Cg,r["return"](Cg.call(i,e,t))))}))}function Cg(e,t){var n,i,r,a,o,s,u,c,l,f,h=this;return j((function(p){if(1==p.a){for(console.assert(h==navigator,'bad "this" for requestMediaKeySystemAccess'),n=Ng(e),i=[],r=d(t),a=r.next();!a.done;a=r.next())o=a.value,s=Ig(o.videoCapabilities,n),u=Ig(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||(c=Object.assign({},o),c.videoCapabilities=s,c.audioCapabilities=u,i.push(c));if(!i.length)throw l=Error("Unsupported keySystem or supportedConfigurations."),l.name="NotSupportedError",l.code=DOMException.NOT_SUPPORTED_ERR,l;return x(p,ig.call(h,e,i),2)}return f=p.b,p["return"](new Rg(f,n))}))}function Ig(e,t){return e?e.filter((function(e){return!e.encryptionScheme||e.encryptionScheme==t})):e}function Mg(){}function Pg(){navigator.mediaCapabilities?(rg=navigator.mediaCapabilities.decodingInfo,console.debug("McEncryptionSchemePolyfill: Waiting to detect encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Dg):console.debug("McEncryptionSchemePolyfill: MediaCapabilities not found")}function Dg(e){var t,n,i=this;return j((function(r){return 1==r.a?(console.assert(i==navigator.mediaCapabilities,'bad "this" for decodingInfo'),x(r,rg.call(i,e),2)):(t=r.b,e.keySystemConfiguration?(n=t.keySystemAccess,Lg(n)?(console.debug("McEncryptionSchemePolyfill: Native encryptionScheme support found."),navigator.mediaCapabilities.decodingInfo=rg,r["return"](t)):(console.debug("McEncryptionSchemePolyfill: No native encryptionScheme support found. Patching encryptionScheme support."),navigator.mediaCapabilities.decodingInfo=Og,r["return"](Og.call(i,e)))):r["return"](t))}))}function Og(e){var t,n,i,r,a,o,s,u=this;return j((function(c){return 1==c.a?(console.assert(u==navigator.mediaCapabilities,'bad "this" for decodingInfo'),t=null,e.keySystemConfiguration&&(n=e.keySystemConfiguration,i=n.keySystem,r=n.audio&&n.audio.encryptionScheme,a=n.video&&n.video.encryptionScheme,t=Ng(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:e},r&&r!=t||a&&a!=t)?c["return"](o):x(c,rg.call(u,e),2)):(s=c.b,s.keySystemAccess&&(s.keySystemAccess=new Rg(s.keySystemAccess,t)),c["return"](s))}))}function Rg(e,t){this.b=e,this.a=t,this.keySystem=e.keySystem}function Ng(e){return e.startsWith("com.widevine")||e.startsWith("com.microsoft")||e.startsWith("com.adobe")||e.startsWith("org.w3")?"cenc":e.startsWith("com.apple")?"cbcs-1-9":(console.warn("EmeEncryptionSchemePolyfill: Unknown key system:",e,"Please contribute!"),null)}function Lg(e){e=e.getConfiguration();var t=e.audioCapabilities&&e.audioCapabilities[0];return!(!(e=e.videoCapabilities&&e.videoCapabilities[0]||t)||void 0===e.encryptionScheme)}function Ug(){}function jg(){Ag(),Pg()}Di["application/ttml+xml"]=function(){return new Hm},vg.prototype.parseInit=function(e){var t=!1;if((new Oa).box("moov",Ra).box("trak",Ra).box("mdia",Ra).box("minf",Ra).box("stbl",Ra).ea("stsd",Na).box("stpp",(function(e){t=!0,e.parser.stop()})).parse(e),!t)throw new xe(2,2,2007)},vg.prototype.parseMedia=function(e,t){var n=this,i=!1,r=[];if((new Oa).box("mdat",La((function(e){i=!0,r=r.concat(n.m.parseMedia(e,t))}))).parse(e,!1),!i)throw new xe(2,2,2007);return r},$("shaka.text.Mp4TtmlParser",vg),vg.prototype.parseMedia=vg.prototype.parseMedia,vg.prototype.parseInit=vg.prototype.parseInit,Di['application/mp4; codecs="stpp"']=function(){return new vg},Di['application/mp4; codecs="stpp.ttml.im1t"']=function(){return new vg},Di['application/mp4; codecs="stpp.TTML.im1t"']=function(){return new vg},yg.prototype.parseInit=function(){},yg.prototype.parseMedia=function(e,t){var n=St(e);n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n");var i=n.split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(i[0]))throw new xe(2,2,2e3);if(n=t.periodStart,i[0].includes("X-TIMESTAMP-MAP")){var r=i[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=i[0].match(/MPEGTS:(\d+)/m);if(r&&a){if(n=Tg(new Jd(r[1])),null==n)throw new xe(2,2,2e3);for(a=Number(a[1]),r=t.segmentStart;95443.7176888889<=r;)r-=95443.7176888889,a+=8589934592;n=t.periodStart+a/9e4-n}}a=[],r=d(i[0].split("\n"));for(var o=r.next();!o.done;o=r.next())if(o=o.value,/^Region:/.test(o)){o=new Jd(o);var s=new xi;ef(o),Qd(o);for(var u=ef(o);u;){var c=s,l=u;(u=/^id=(.*)$/.exec(l))?c.id=u[1]:(u=/^width=(\d{1,2}|100)%$/.exec(l))?c.width=Number(u[1]):(u=/^lines=(\d+)$/.exec(l))?(c.height=Number(u[1]),c.heightUnits=2):(u=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(l))?(c.regionAnchorX=Number(u[1]),c.regionAnchorY=Number(u[2])):(u=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(l))?(c.viewportAnchorX=Number(u[1]),c.viewportAnchorY=Number(u[2])):/^scroll=up$/.exec(l)&&(c.scroll="up"),Qd(o),u=ef(o)}a.push(s)}for(r=[],i=d(i.slice(1)),o=i.next();!o.done;o=i.next()){if(c=o.value.split("\n"),u=n,1==c.length&&!c[0]||/^NOTE($|[ \t])/.test(c[0])||"STYLE"==c[0])o=null;else{o=null,c[0].includes("--\x3e")||(o=c[0],c.splice(0,1)),s=new Jd(c[0]),l=Tg(s);var f=Zd(s,/[ \t]+--\x3e[ \t]+/g),h=Tg(s);if(null==l||null==f||null==h)throw new xe(2,2,2001);for(c=new ui(l+u,h+u,c.slice(1).join("\n").trim()),Qd(s),u=ef(s);u;)bg(c,u,a),Qd(s),u=ef(s);null!=o&&(c.id=o),o=c}o&&r.push(o)}return r},$("shaka.text.VttTextParser",yg),yg.prototype.parseMedia=yg.prototype.parseMedia,yg.prototype.parseInit=yg.prototype.parseInit,Di["text/vtt"]=function(){return new yg},Di['text/vtt; codecs="vtt"']=function(){return new yg},Di['text/vtt; codecs="wvtt"']=function(){return new yg},Sg.prototype.parseInit=function(e){var t=this,n=!1;if((new Oa).box("moov",Ra).box("trak",Ra).box("mdia",Ra).ea("mdhd",(function(e){0==e.version?(e.reader.skip(4),e.reader.skip(4),t.a=e.reader.K(),e.reader.skip(4)):(e.reader.skip(8),e.reader.skip(8),t.a=e.reader.K(),e.reader.skip(8)),e.reader.skip(4)})).box("minf",Ra).box("stbl",Ra).ea("stsd",Na).box("wvtt",(function(){n=!0})).parse(e),!this.a)throw new xe(2,2,2008);if(!n)throw new xe(2,2,2008)},Sg.prototype.parseMedia=function(e,t){if(!this.a)throw new xe(2,2,2008);var n,i=0,r=[],a=[],o=!1,s=!1,u=!1,c=null;if((new Oa).box("moof",Ra).box("traf",Ra).ea("tfdt",(function(e){o=!0,i=0==e.version?e.reader.K():e.reader.pb()})).ea("tfhd",(function(e){var t=e.flags;e=e.reader,e.skip(4),1&t&&e.skip(8),2&t&&e.skip(4),c=8&t?e.K():null})).ea("trun",(function(e){s=!0;var t=e.version,n=e.flags;e=e.reader;var i=e.K();1&n&&e.skip(4),4&n&&e.skip(4);var a=[];i=d(se(i));for(var o=i.next();!o.done;o=i.next())o={duration:null,sampleSize:null,nd:null},256&n&&(o.duration=e.K()),512&n&&(o.sampleSize=e.K()),1024&n&&e.skip(4),2048&n&&(o.nd=0==t?e.K():e.Kd()),a.push(o);r=a})).box("mdat",La((function(e){u=!0,n=e}))).parse(e,!1),!u&&!o&&!s)throw new xe(2,2,2008);for(var l=i,f=new Ma(n,0),h=d(r),p=h.next();!p.done;p=h.next()){p=p.value;var m=p.duration||c,g=p.nd?i+p.nd:l;l=g+(m||0);var v=0;do{var y=f.K();v+=y;var b=f.K(),w=null;"vttc"==ja(b)?8<y&&(w=f.Wa(y-8)):f.skip(y-8),m&&w&&(y=xg(w,t.periodStart+g/this.a,t.periodStart+l/this.a),a.push(y))}while(p.sampleSize&&v<p.sampleSize)}return a.filter(Ft)},$("shaka.text.Mp4VttParser",Sg),Sg.prototype.parseMedia=Sg.prototype.parseMedia,Sg.prototype.parseInit=Sg.prototype.parseInit,Di['application/mp4; codecs="wvtt"']=function(){return new Sg},$("EmeEncryptionSchemePolyfill",Eg),Eg.install=Ag,$("McEncryptionSchemePolyfill",Mg),Mg.install=Pg,Rg.prototype.getConfiguration=function(){var e=this.b.getConfiguration();if(e.videoCapabilities)for(var t=d(e.videoCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.a;if(e.audioCapabilities)for(t=d(e.audioCapabilities),n=t.next();!n.done;n=t.next())n.value.encryptionScheme=this.a;return e},Rg.prototype.createMediaKeys=function(){return this.b.createMediaKeys()},$("EncryptionSchemePolyfills",Ug),Ug.install=jg,"undefined"!==typeof n&&n.exports&&(n.exports=Ug)}.call(i,n,n,void 0),i.shaka)t[r]=i.shaka[r]})()}).call(this,n("c8ba"))},"44ad":function(e,t,n){var i=n("d039"),r=n("c6b6"),a="".split;e.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?a.call(e,""):Object(e)}:Object},"44d2":function(e,t,n){var i=n("b622"),r=n("7c73"),a=n("9bf2"),o=i("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),e.exports=function(e){s[o][e]=!0}},"44de":function(e,t,n){var i=n("da84");e.exports=function(e,t){var n=i.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),o=a("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},4720:function(e,t,n){var i=n("4329"),r=n("0ea2"),a=n("3982"),o=n("f585"),s=n("012b"),u=n("ed93"),c=n("fbd0").isLikelyAacData,l=n("4fcf"),d=n("9d56"),f=n("36c6"),h=function(e){return e.prototype=new i,e.prototype.init.call(e),e},p=function(e){var t={type:"ts",tracks:{audio:null,video:null},packet:new r.TransportPacketStream,parse:new r.TransportParseStream,elementary:new r.ElementaryStream,timestampRollover:new r.TimestampRolloverStream,adts:new a.Adts,h264:new a.h264.H264Stream,captionStream:new r.CaptionStream,metadataStream:new r.MetadataStream};return t.headOfPipeline=t.packet,t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),t.timestampRollover.pipe(t.h264),t.h264.pipe(t.captionStream),t.timestampRollover.pipe(t.metadataStream),t.timestampRollover.pipe(t.adts),t.elementary.on("data",(function(n){if("metadata"===n.type){for(var i=0;i<n.tracks.length;i++)t.tracks[n.tracks[i].type]||(t.tracks[n.tracks[i].type]=n.tracks[i],t.tracks[n.tracks[i].type].timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime);t.tracks.video&&!t.videoSegmentStream&&(t.videoSegmentStream=new s(t.tracks.video,e),t.videoSegmentStream.on("timelineStartInfo",(function(n){t.tracks.audio&&!e.keepOriginalTimestamps&&t.audioSegmentStream.setEarliestDts(n.dts-e.baseMediaDecodeTime)})),t.videoSegmentStream.on("timingInfo",t.trigger.bind(t,"videoTimingInfo")),t.videoSegmentStream.on("data",(function(e){t.trigger("data",{type:"video",data:e})})),t.videoSegmentStream.on("done",t.trigger.bind(t,"done")),t.videoSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.videoSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.h264.pipe(t.videoSegmentStream)),t.tracks.audio&&!t.audioSegmentStream&&(t.audioSegmentStream=new o(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adts.pipe(t.audioSegmentStream)),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video})}})),t.captionStream.on("data",(function(n){var i;i=t.tracks.video&&t.tracks.video.timelineStartInfo.pts||0,n.startTime=f.metadataTsToSeconds(n.startPts,i,e.keepOriginalTimestamps),n.endTime=f.metadataTsToSeconds(n.endPts,i,e.keepOriginalTimestamps),t.trigger("caption",n)})),t=h(t),t.metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t},m=function(e){var t={type:"aac",tracks:{audio:null},metadataStream:new r.MetadataStream,aacStream:new d,audioRollover:new r.TimestampRolloverStream("audio"),timedMetadataRollover:new r.TimestampRolloverStream("timed-metadata"),adtsStream:new l(!0)};return t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),t.metadataStream.on("timestamp",(function(e){t.aacStream.setTimestamp(e.timeStamp)})),t.aacStream.on("data",(function(n){"timed-metadata"!==n.type&&"audio"!==n.type||t.audioSegmentStream||(t.tracks.audio=t.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"},t.audioSegmentStream=new o(t.tracks.audio,e),t.audioSegmentStream.on("data",(function(e){t.trigger("data",{type:"audio",data:e})})),t.audioSegmentStream.on("partialdone",t.trigger.bind(t,"partialdone")),t.audioSegmentStream.on("done",t.trigger.bind(t,"done")),t.audioSegmentStream.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),t.audioSegmentStream.on("timingInfo",t.trigger.bind(t,"audioTimingInfo")),t.adtsStream.pipe(t.audioSegmentStream),t.trigger("trackinfo",{hasAudio:!!t.tracks.audio,hasVideo:!!t.tracks.video}))})),t=h(t),t.metadataStream.on("data",t.trigger.bind(t,"id3Frame")),t},g=function(e,t){e.on("data",t.trigger.bind(t,"data")),e.on("done",t.trigger.bind(t,"done")),e.on("partialdone",t.trigger.bind(t,"partialdone")),e.on("endedtimeline",t.trigger.bind(t,"endedtimeline")),e.on("audioTimingInfo",t.trigger.bind(t,"audioTimingInfo")),e.on("videoTimingInfo",t.trigger.bind(t,"videoTimingInfo")),e.on("trackinfo",t.trigger.bind(t,"trackinfo")),e.on("id3Frame",(function(n){n.dispatchType=e.metadataStream.dispatchType,n.cueTime=f.videoTsToSeconds(n.pts),t.trigger("id3Frame",n)})),e.on("caption",(function(e){t.trigger("caption",e)}))},v=function(e){var t=null,n=!0;e=e||{},v.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(i){if(n){var r=c(i);!r||t&&"aac"===t.type?r||t&&"ts"===t.type||(t=p(e),g(t,this)):(t=m(e),g(t,this)),n=!1}t.headOfPipeline.push(i)},this.flush=function(){t&&(n=!0,t.headOfPipeline.flush())},this.partialFlush=function(){t&&t.headOfPipeline.partialFlush()},this.endTimeline=function(){t&&t.headOfPipeline.endTimeline()},this.reset=function(){t&&t.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(n){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=n),t&&(t.tracks.audio&&(t.tracks.audio.timelineStartInfo.dts=void 0,t.tracks.audio.timelineStartInfo.pts=void 0,u.clearDtsInfo(t.tracks.audio),t.audioRollover&&t.audioRollover.discontinuity()),t.tracks.video&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[]),t.tracks.video.timelineStartInfo.dts=void 0,t.tracks.video.timelineStartInfo.pts=void 0,u.clearDtsInfo(t.tracks.video)),t.timestampRollover&&t.timestampRollover.discontinuity())},this.setRemux=function(n){e.remux=n,t&&t.coalesceStream&&t.coalesceStream.setRemux(n)},this.setAudioAppendStart=function(e){t&&t.tracks.audio&&t.audioSegmentStream&&t.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){}};v.prototype=new i,e.exports=v},4840:function(e,t,n){var i=n("825a"),r=n("1c0b"),a=n("b622"),o=a("species");e.exports=function(e,t){var n,a=i(e).constructor;return void 0===a||void 0==(n=i(a)[o])?t:r(n)}},4930:function(e,t,n){var i=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"4d64":function(e,t,n){var i=n("fc6a"),r=n("50c4"),a=n("23cb"),o=function(e){return function(t,n,o){var s,u=i(t),c=r(u.length),l=a(o,c);if(e&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},"4d90":function(e,t,n){"use strict";var i=n("23e7"),r=n("0ccb").start,a=n("9a0c");i({target:"String",proto:!0,forced:a},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").filter,a=n("1dde"),o=n("ae40"),s=a("filter"),u=o("filter");i({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var i=n("0366"),r=n("7b0b"),a=n("9bdd"),o=n("e95a"),s=n("50c4"),u=n("8418"),c=n("35a1");e.exports=function(e){var t,n,l,d,f,h,p=r(e),m="function"==typeof this?this:Array,g=arguments.length,v=g>1?arguments[1]:void 0,y=void 0!==v,b=c(p),w=0;if(y&&(v=i(v,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&o(b))for(t=s(p.length),n=new m(t);t>w;w++)h=y?v(p[w],w):p[w],u(n,w,h);else for(d=b.call(p),f=d.next,n=new m;!(l=f.call(d)).done;w++)h=y?a(d,v,[l.value,w],!0):l.value,u(n,w,h);return n.length=w,n}},"4e69":function(e,t,n){"use strict";var i=n("4329"),r=n("dc6d"),a=function(){a.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new d(0,0),new d(0,1),new d(1,0),new d(1,1)],this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this)};a.prototype=new i,a.prototype.push=function(e){var t,n,i;if("sei_rbsp"===e.nalUnitType&&(t=r.parseSei(e.escapedRBSP),t.payloadType===r.USER_DATA_REGISTERED_ITU_T_T35&&(n=r.parseUserData(t),n)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));i=r.parseCaptionPackets(e.pts,n),this.captionPackets_=this.captionPackets_.concat(i),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},a.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},a.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2&&this.dispatchCea608Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},a.prototype.flush=function(){return this.flushStream("flush")},a.prototype.partialFlush=function(){return this.flushStream("partialFlush")},a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},a.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},a.prototype.setsChannel1Active=function(e){return 4096===(30720&e.ccData)},a.prototype.setsChannel2Active=function(e){return 6144===(30720&e.ccData)},a.prototype.setsTextOrXDSActive=function(e){return 256===(28928&e.ccData)||4138===(30974&e.ccData)||6186===(30974&e.ccData)};var o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},s=function(e){return null===e?"":(e=o[e]||e,String.fromCharCode(e))},u=14,c=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],l=function(){var e=[],t=u+1;while(t--)e.push("");return e},d=function(e,t){d.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,n,i,r,a;if(t=32639&e.ccData,t!==this.lastControlCode_){if(4096===(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),i=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),n=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=n,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=l();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=l();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=l()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(i,r))i=(3&i)<<8,a=s(i|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(i,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),i=(3&i)<<8,a=s(i|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(i,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14===(14&r)&&this.addFormatting(e.pts,["i"]),1===(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(i,r))this.column_+=3&r;else if(this.isPAC(i,r)){var o=c.indexOf(7968&t);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(e.pts,o)),o!==this.row_&&(this.clearFormatting(e.pts),this.row_=o),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16===(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14===(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(i)&&(0===r&&(r=null),a=s(i),a+=s(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};d.prototype=new i,d.prototype.flushDisplayed=function(e){var t=this.displayed_.map((function(e){try{return e.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},d.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=l(),this.nonDisplayed_=l(),this.lastControlCode_=null,this.column_=0,this.row_=u,this.rollUpRows_=2,this.formatting_=[]},d.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},d.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},d.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},d.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},d.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},d.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},d.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},d.prototype.isNormalChar=function(e){return e>=32&&e<=127},d.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=u,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=l(),this.displayed_=l()),void 0!==t&&t!==this.row_)for(var n=0;n<this.rollUpRows_;n++)this.displayed_[t-n]=this.displayed_[this.row_-n],this.displayed_[this.row_-n]="";void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},d.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var n=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,n)},d.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},d.prototype.popOn=function(e,t){var n=this.nonDisplayed_[this.row_];n+=t,this.nonDisplayed_[this.row_]=n},d.prototype.rollUp=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},d.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.row_+1;e<u+1;e++)this.displayed_[e]="";for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]=""},d.prototype.paintOn=function(e,t){var n=this.displayed_[this.row_];n+=t,this.displayed_[this.row_]=n},e.exports={CaptionStream:a,Cea608Stream:d}},"4fb8":function(e,t,n){(function(t){"object"==typeof navigator&&function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw a}}return n}}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={addCSS:!0,thumbWidth:15,watch:!0};function v(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}var y=function(e){return null!=e?e.constructor:null},b=function(e,t){return!!(e&&t&&e instanceof t)},w=function(e){return null==e},T=function(e){return y(e)===Object},S=function(e){return y(e)===String},x=function(e){return Array.isArray(e)},k=function(e){return b(e,NodeList)},E=S,A=x,_=k,C=function(e){return b(e,Element)},I=function(e){return b(e,Event)},M=function(e){return w(e)||(S(e)||x(e)||k(e))&&!e.length||T(e)&&!Object.keys(e).length};function P(e,t){if(1>t){var n=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}var D,O,R,N=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),C(t)?this.element=t:E(t)&&(this.element=document.querySelector(t)),C(this.element)&&M(this.element.rangeTouch)&&(this.config=m({},g,{},n),this.init())}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,n=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach((function(e){t.element[n](e,(function(e){return t.set(e)}),!1)}))}},{key:"get",value:function(t){if(!e.enabled||!I(t))return null;var n,i=t.target,r=t.changedTouches[0],a=parseFloat(i.getAttribute("min"))||0,o=parseFloat(i.getAttribute("max"))||100,s=parseFloat(i.getAttribute("step"))||1,u=i.getBoundingClientRect(),c=100/u.width*(this.config.thumbWidth/2)/100;return 0>(n=100/u.width*(r.clientX-u.left))?n=0:100<n&&(n=100),50>n?n-=(100-2*n)*c:50<n&&(n+=2*(n-50)*c),a+P(n/100*(o-a),s)}},{key:"set",value:function(t){e.enabled&&I(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var n=new Event(t,{bubbles:!0});e.dispatchEvent(n)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;if(M(t)||E(t)?i=Array.from(document.querySelectorAll(E(t)?t:'input[type="range"]')):C(t)?i=[t]:_(t)?i=Array.from(t):A(t)&&(i=t.filter(C)),M(i))return null;var r=m({},g,{},n);if(E(t)&&r.watch){var a=new MutationObserver((function(n){Array.from(n).forEach((function(n){Array.from(n.addedNodes).forEach((function(n){C(n)&&v(n,t)&&new e(n,r)}))}))}));a.observe(document.body,{childList:!0,subtree:!0})}return i.map((function(t){return new e(t,n)}))}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}(),L=function(e){return null!=e?e.constructor:null},U=function(e,t){return Boolean(e&&t&&e instanceof t)},j=function(e){return null==e},F=function(e){return L(e)===Object},B=function(e){return L(e)===String},V=function(e){return L(e)===Function},H=function(e){return Array.isArray(e)},q=function(e){return U(e,NodeList)},z=function(e){return j(e)||(B(e)||H(e)||q(e))&&!e.length||F(e)&&!Object.keys(e).length},$=j,G=F,K=function(e){return L(e)===Number&&!Number.isNaN(e)},W=B,X=function(e){return L(e)===Boolean},Y=V,J=H,Q=q,Z=function(e){return U(e,Element)},ee=function(e){return U(e,Event)},te=function(e){return U(e,KeyboardEvent)},ne=function(e){return U(e,TextTrack)||!j(e)&&B(e.kind)},ie=function(e){return U(e,Promise)&&V(e.then)},re=function(e){if(U(e,window.URL))return!0;if(!B(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!z(new URL(t).hostname)}catch(e){return!1}},ae=z,oe=(D=document.createElement("span"),O={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},R=Object.keys(O).find((function(e){return void 0!==D.style[e]})),!!W(R)&&O[R]);function se(e,t){setTimeout((function(){try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}}),t)}var ue={isIE:
/* @cc_on!@ */
!!document.documentMode,isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function ce(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]}),e)}function le(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n.length)return e;var a=n.shift();return G(a)?(Object.keys(a).forEach((function(t){G(a[t])?(Object.keys(e).includes(t)||Object.assign(e,r({},t,{})),le(e[t],a[t])):Object.assign(e,r({},t,a[t]))})),le.apply(void 0,[e].concat(n))):e}function de(e,t){var n=e.length?e:[e];Array.from(n).reverse().forEach((function(e,n){var i=n>0?t.cloneNode(!0):t,r=e.parentNode,a=e.nextSibling;i.appendChild(e),a?r.insertBefore(i,a):r.appendChild(i)}))}function fe(e,t){Z(e)&&!ae(t)&&Object.entries(t).filter((function(e){var t=u(e,2)[1];return!$(t)})).forEach((function(t){var n=u(t,2),i=n[0],r=n[1];return e.setAttribute(i,r)}))}function he(e,t,n){var i=document.createElement(e);return G(t)&&fe(i,t),W(n)&&(i.innerText=n),i}function pe(e,t,n,i){Z(t)&&t.appendChild(he(e,n,i))}function me(e){Q(e)||J(e)?Array.from(e).forEach(me):Z(e)&&Z(e.parentNode)&&e.parentNode.removeChild(e)}function ge(e){if(Z(e))for(var t=e.childNodes.length;t>0;)e.removeChild(e.lastChild),t-=1}function ve(e,t){return Z(t)&&Z(t.parentNode)&&Z(e)?(t.parentNode.replaceChild(e,t),e):null}function ye(e,t){if(!W(e)||ae(e))return{};var n={},i=le({},t);return e.split(",").forEach((function(e){var t=e.trim(),r=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),o=u(a,1)[0],s=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":W(i.class)?n.class="".concat(i.class," ").concat(r):n.class=r;break;case"#":n.id=t.replace("#","");break;case"[":n[o]=s}})),le(i,n)}function be(e,t){if(Z(e)){var n=t;X(n)||(n=!e.hidden),e.hidden=n}}function we(e,t,n){if(Q(e))return Array.from(e).map((function(e){return we(e,t,n)}));if(Z(e)){var i="toggle";return void 0!==n&&(i=n?"add":"remove"),e.classList[i](t),e.classList.contains(t)}return!1}function Te(e,t){return Z(e)&&e.classList.contains(t)}function Se(e,t){var n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function xe(e){return this.elements.container.querySelectorAll(e)}function ke(e){return this.elements.container.querySelector(e)}function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Z(e)&&(e.focus({preventScroll:!0}),t&&we(e,this.config.classNames.tabFocus))}var Ae,_e={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},Ce={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,n){var i=ue.isIPhone&&n&&Ce.playsinline,r=Ce[e]||"html5"!==t;return{api:r,ui:r&&Ce.rangeInput&&("video"!==e||!ue.isIPhone||i)}},pip:!(ue.isIPhone||!Y(he("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||he("video").disablePictureInPicture)),airplay:Y(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){if(ae(e))return!1;var t=u(e.split("/"),1)[0],n=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(_e).includes(n)&&(n+='; codecs="'.concat(_e[e],'"'));try{return Boolean(n&&this.media.canPlayType(n).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(Ae=document.createElement("input"),Ae.type="range","range"===Ae.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==oe,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},Ie=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function Me(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e&&"addEventListener"in e&&!ae(t)&&Y(n)){var s=t.split(" "),u=o;Ie&&(u={passive:a,capture:o}),s.forEach((function(t){i&&i.eventListeners&&r&&i.eventListeners.push({element:e,type:t,callback:n,options:u}),e[r?"addEventListener":"removeEventListener"](t,n,u)}))}}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Me.call(this,e,t,n,!0,i,r)}function De(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Me.call(this,e,t,n,!1,i,r)}function Oe(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=function o(){De(e,n,o,r,a);for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];i.apply(t,u)};Me.call(this,e,n,o,!0,r,a)}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Z(e)&&!ae(t)){var r=new CustomEvent(t,{bubbles:n,detail:o(o({},i),{},{plyr:this})});e.dispatchEvent(r)}}function Ne(){this&&this.eventListeners&&(this.eventListeners.forEach((function(e){var t=e.element,n=e.type,i=e.callback,r=e.options;t.removeEventListener(n,i,r)})),this.eventListeners=[])}function Le(){var e=this;return new Promise((function(t){return e.ready?setTimeout(t,0):Pe.call(e,e.elements.container,"ready",t)})).then((function(){}))}function Ue(e){ie(e)&&e.then(null,(function(){}))}function je(e){return!!(J(e)||W(e)&&e.includes(":"))&&(J(e)?e:e.split(":")).map(Number).every(K)}function Fe(e){if(!J(e)||!e.every(K))return null;var t=u(e,2),n=t[0],i=t[1],r=function e(t,n){return 0===n?t:e(n,t%n)}(n,i);return[n/r,i/r]}function Be(e){var t=function(e){return je(e)?e.split(":").map(Number):null},n=t(e);if(null===n&&(n=t(this.config.ratio)),null===n&&!ae(this.embed)&&J(this.embed.ratio)&&(n=this.embed.ratio),null===n&&this.isHTML5){var i=this.media;n=Fe([i.videoWidth,i.videoHeight])}return n}function Ve(e){if(!this.isVideo)return{};var t=this.elements.wrapper,n=Be.call(this,e),i=u(J(n)?n:[0,0],2),r=100/i[0]*i[1];if(t.style.paddingBottom="".concat(r,"%"),this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){var a=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),o=(a-r)/(a/50);this.media.style.transform="translateY(-".concat(o,"%)")}else this.isHTML5&&t.classList.toggle(this.config.classNames.videoFixedRatio,null!==n);return{padding:r,ratio:n}}var He={getSources:function(){var e=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter((function(t){var n=t.getAttribute("type");return!!ae(n)||Ce.mime.call(e,n)})):[]},getQualityOptions:function(){return this.config.quality.forced?this.config.quality.options:He.getSources.call(this).map((function(e){return Number(e.getAttribute("size"))})).filter(Boolean)},setup:function(){if(this.isHTML5){var e=this;e.options.speed=e.config.speed.options,ae(this.config.ratio)||Ve.call(e),Object.defineProperty(e.media,"quality",{get:function(){var t=He.getSources.call(e).find((function(t){return t.getAttribute("src")===e.source}));return t&&Number(t.getAttribute("size"))},set:function(t){if(e.quality!==t){if(e.config.quality.forced&&Y(e.config.quality.onChange))e.config.quality.onChange(t);else{var n=He.getSources.call(e).find((function(e){return Number(e.getAttribute("size"))===t}));if(!n)return;var i=e.media,r=i.currentTime,a=i.paused,o=i.preload,s=i.readyState,u=i.playbackRate;e.media.src=n.getAttribute("src"),("none"!==o||s)&&(e.once("loadedmetadata",(function(){e.speed=u,e.currentTime=r,a||Ue(e.play())})),e.media.load())}Re.call(e,e.media,"qualitychange",!1,{quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(me(He.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function qe(e){return J(e)?e.filter((function(t,n){return e.indexOf(t)===n})):e}function ze(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return ae(e)?e:e.toString().replace(/{(\d+)}/g,(function(e,t){return n[t].toString()}))}var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),n.toString())},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toString().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))};function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return t=$e(t,"-"," "),t=$e(t,"_"," "),t=Ge(t),$e(t," ","")}function We(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var Xe={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ae(e)||ae(t))return"";var n=ce(t.i18n,e);if(ae(n))return Object.keys(Xe).includes(e)?Xe[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach((function(e){var t=u(e,2),i=t[0],r=t[1];n=$e(n,i,r)})),n},Je=function(){function t(n){e(this,t),this.enabled=n.config.storage.enabled,this.key=n.config.storage.key}return i(t,[{key:"get",value:function(e){if(!t.supported||!this.enabled)return null;var n=window.localStorage.getItem(this.key);if(ae(n))return null;var i=JSON.parse(n);return W(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(t.supported&&this.enabled&&G(e)){var n=this.get();ae(n)&&(n={}),le(n,e),window.localStorage.setItem(this.key,JSON.stringify(n))}}}],[{key:"supported",get:function(){try{return"localStorage"in window&&(window.localStorage.setItem("___test","___test"),window.localStorage.removeItem("___test"),!0)}catch(e){return!1}}}]),t}();function Qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";return new Promise((function(n,i){try{var r=new XMLHttpRequest;if(!("withCredentials"in r))return;r.addEventListener("load",(function(){if("text"===t)try{n(JSON.parse(r.responseText))}catch(e){n(r.responseText)}else n(r.response)})),r.addEventListener("error",(function(){throw new Error(r.status)})),r.open("GET",e,!0),r.responseType=t,r.send()}catch(e){i(e)}}))}function Ze(e,t){if(W(e)){var n=W(t),i=function(){return null!==document.getElementById(t)},r=function(e,t){e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!i()){var a=Je.supported,o=document.createElement("div");if(o.setAttribute("hidden",""),n&&o.setAttribute("id",t),a){var s=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==s){var u=JSON.parse(s);r(o,u.content)}}Qe(e).then((function(e){ae(e)||(a&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),r(o,e))})).catch((function(){}))}}}var et=function(e){return Math.trunc(e/60/60%60,10)},tt=function(e){return Math.trunc(e/60%60,10)},nt=function(e){return Math.trunc(e%60,10)};function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!K(e))return it(void 0,t,n);var i=function(e){return"0".concat(e).slice(-2)},r=et(e),a=tt(e),o=nt(e);return r=t||r>0?"".concat(r,":"):"","".concat(n&&e>0?"-":"").concat(r).concat(i(a),":").concat(i(o))}var rt={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||ue.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=ke.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:xe.call(this,this.config.selectors.buttons.play),pause:ke.call(this,this.config.selectors.buttons.pause),restart:ke.call(this,this.config.selectors.buttons.restart),rewind:ke.call(this,this.config.selectors.buttons.rewind),fastForward:ke.call(this,this.config.selectors.buttons.fastForward),mute:ke.call(this,this.config.selectors.buttons.mute),pip:ke.call(this,this.config.selectors.buttons.pip),airplay:ke.call(this,this.config.selectors.buttons.airplay),settings:ke.call(this,this.config.selectors.buttons.settings),captions:ke.call(this,this.config.selectors.buttons.captions),fullscreen:ke.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=ke.call(this,this.config.selectors.progress),this.elements.inputs={seek:ke.call(this,this.config.selectors.inputs.seek),volume:ke.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:ke.call(this,this.config.selectors.display.buffer),currentTime:ke.call(this,this.config.selectors.display.currentTime),duration:ke.call(this,this.config.selectors.display.duration)},Z(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var n=rt.getIconUrl.call(this),i="".concat(n.cors?"":n.url,"#").concat(this.config.iconPrefix),r=document.createElementNS("http://www.w3.org/2000/svg","svg");fe(r,le(t,{"aria-hidden":"true",focusable:"false"}));var a=document.createElementNS("http://www.w3.org/2000/svg","use"),o="".concat(i,"-").concat(e);return"href"in a&&a.setAttributeNS("http://www.w3.org/1999/xlink","href",o),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o),r.appendChild(a),r},createLabel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Ye(e,this.config),i=o(o({},t),{},{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")});return he("span",i,n)},createBadge:function(e){if(ae(e))return null;var t=he("span",{class:this.config.classNames.menu.value});return t.appendChild(he("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var n=this,i=le({},t),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.toString();return(t=Ke(t)).charAt(0).toLowerCase()+t.slice(1)}(e),a={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach((function(e){Object.keys(i).includes(e)&&(a[e]=i[e],delete i[e])})),"button"!==a.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some((function(e){return e===n.config.classNames.control}))||le(i,{class:"".concat(i.class," ").concat(this.config.classNames.control)}):i.class=this.config.classNames.control,e){case"play":a.toggle=!0,a.label="play",a.labelPressed="pause",a.icon="play",a.iconPressed="pause";break;case"mute":a.toggle=!0,a.label="mute",a.labelPressed="unmute",a.icon="volume",a.iconPressed="muted";break;case"captions":a.toggle=!0,a.label="enableCaptions",a.labelPressed="disableCaptions",a.icon="captions-off",a.iconPressed="captions-on";break;case"fullscreen":a.toggle=!0,a.label="enterFullscreen",a.labelPressed="exitFullscreen",a.icon="enter-fullscreen",a.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),r="play",a.label="play",a.icon="play";break;default:ae(a.label)&&(a.label=r),ae(a.icon)&&(a.icon=e)}var o=he(a.element);return a.toggle?(o.appendChild(rt.createIcon.call(this,a.iconPressed,{class:"icon--pressed"})),o.appendChild(rt.createIcon.call(this,a.icon,{class:"icon--not-pressed"})),o.appendChild(rt.createLabel.call(this,a.labelPressed,{class:"label--pressed"})),o.appendChild(rt.createLabel.call(this,a.label,{class:"label--not-pressed"}))):(o.appendChild(rt.createIcon.call(this,a.icon)),o.appendChild(rt.createLabel.call(this,a.label))),le(i,ye(this.config.selectors.buttons[r],i)),fe(o,i),"play"===r?(J(this.elements.buttons[r])||(this.elements.buttons[r]=[]),this.elements.buttons[r].push(o)):this.elements.buttons[r]=o,o},createRange:function(e,t){var n=he("input",le(ye(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":Ye(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=n,rt.updateRangeFill.call(this,n),N.setup(n),n},createProgress:function(e,t){var n=he("progress",le(ye(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){n.appendChild(he("span",null,"0"));var i={played:"played",buffer:"buffered"}[e],r=i?Ye(i,this.config):"";n.innerText="% ".concat(r.toLowerCase())}return this.elements.display[e]=n,n},createTime:function(e,t){var n=ye(this.config.selectors.display[e],t),i=he("div",le(n,{class:"".concat(n.class?n.class:""," ").concat(this.config.classNames.display.time," ").trim(),"aria-label":Ye(e,this.config)}),"00:00");return this.elements.display[e]=i,i},bindMenuItemShortcuts:function(e,t){var n=this;Pe.call(this,e,"keydown keyup",(function(i){if([32,38,39,40].includes(i.which)&&(i.preventDefault(),i.stopPropagation(),"keydown"!==i.type)){var r,a=Se(e,'[role="menuitemradio"]');!a&&[32,39].includes(i.which)?rt.showMenuPanel.call(n,t,!0):32!==i.which&&(40===i.which||a&&39===i.which?(r=e.nextElementSibling,Z(r)||(r=e.parentNode.firstElementChild)):(r=e.previousElementSibling,Z(r)||(r=e.parentNode.lastElementChild)),Ee.call(n,r,!0))}}),!1),Pe.call(this,e,"keyup",(function(e){13===e.which&&rt.focusFirstMenuItem.call(n,null,!0)}))},createMenuItem:function(e){var t=this,n=e.value,i=e.list,r=e.type,a=e.title,o=e.badge,s=void 0===o?null:o,u=e.checked,c=void 0!==u&&u,l=ye(this.config.selectors.inputs[r]),d=he("button",le(l,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(l.class?l.class:"").trim(),"aria-checked":c,value:n})),f=he("span");f.innerHTML=a,Z(s)&&f.appendChild(s),d.appendChild(f),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter((function(e){return Se(e,'[role="menuitemradio"]')})).forEach((function(e){return e.setAttribute("aria-checked","false")})),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",(function(e){if(!te(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,r){case"language":t.currentTrack=Number(n);break;case"quality":t.quality=n;break;case"speed":t.speed=parseFloat(n)}rt.showMenuPanel.call(t,"home",te(e))}}),r,!1),rt.bindMenuItemShortcuts.call(this,d,r),i.appendChild(d)},formatTime:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!K(e))return e;var n=et(this.duration)>0;return it(e,n,t)},updateTimeDisplay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Z(e)&&K(t)&&(e.innerText=rt.formatTime(t,n))},updateVolume:function(){this.supported.ui&&(Z(this.elements.inputs.volume)&&rt.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),Z(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Z(e)&&(e.value=t,rt.updateRangeFill.call(this,e))},updateProgress:function(e){var t=this;if(this.supported.ui&&ee(e)){var n,i,r=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":n=this.currentTime,i=this.duration,r=0===n||0===i||Number.isNaN(n)||Number.isNaN(i)?0:(n/i*100).toFixed(2),"timeupdate"===e.type&&rt.setRange.call(this,this.elements.inputs.seek,r);break;case"playing":case"progress":!function(e,n){var i=K(n)?n:0,r=Z(e)?e:t.elements.display.buffer;if(Z(r)){r.value=i;var a=r.getElementsByTagName("span")[0];Z(a)&&(a.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=ee(e)?e.target:e;if(Z(t)&&"range"===t.getAttribute("type")){if(Se(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var n=rt.formatTime(this.currentTime),i=rt.formatTime(this.duration),r=Ye("seekLabel",this.config);t.setAttribute("aria-valuetext",r.replace("{currentTime}",n).replace("{duration}",i))}else if(Se(t,this.config.selectors.inputs.volume)){var a=100*t.value;t.setAttribute("aria-valuenow",a),t.setAttribute("aria-valuetext","".concat(a.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);ue.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&Z(this.elements.inputs.seek)&&Z(this.elements.display.seekTooltip)&&0!==this.duration){var n="".concat(this.config.classNames.tooltip,"--visible"),i=function(e){return we(t.elements.display.seekTooltip,n,e)};if(this.touch)i(!1);else{var r=0,a=this.elements.progress.getBoundingClientRect();if(ee(e))r=100/a.width*(e.pageX-a.left);else{if(!Te(this.elements.display.seekTooltip,n))return;r=parseFloat(this.elements.display.seekTooltip.style.left,10)}r<0?r=0:r>100&&(r=100),rt.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*r),this.elements.display.seekTooltip.style.left="".concat(r,"%"),ee(e)&&["mouseenter","mouseleave"].includes(e.type)&&i("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!Z(this.elements.display.duration)&&this.config.invertTime;rt.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||rt.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return be(this.elements.display.currentTime,!0),void be(this.elements.progress,!0);Z(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=Z(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&rt.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&rt.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),rt.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){be(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,n){var i=this.elements.settings.panels[e],r=null,a=t;if("captions"===e)r=this.currentTrack;else{if(r=ae(n)?this[e]:n,ae(r)&&(r=this.config[e].default),!ae(this.options[e])&&!this.options[e].includes(r))return void this.debug.warn("Unsupported value of '".concat(r,"' for ").concat(e));if(!this.config[e].options.includes(r))return void this.debug.warn("Disabled value of '".concat(r,"' for ").concat(e))}if(Z(a)||(a=i&&i.querySelector('[role="menu"]')),Z(a)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=rt.getLabel.call(this,e,r);var o=a&&a.querySelector('[value="'.concat(r,'"]'));Z(o)&&(o.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?Ye("normal",this.config):"".concat(t,"&times;");case"quality":if(K(t)){var n=Ye("qualityLabel.".concat(t),this.config);return n.length?n:"".concat(t,"p")}return Ge(t);case"captions":return st.getLabel.call(this);default:return null}},setQualityMenu:function(e){var t=this;if(Z(this.elements.settings.panels.quality)){var n=this.elements.settings.panels.quality.querySelector('[role="menu"]');J(e)&&(this.options.quality=qe(e).filter((function(e){return t.config.quality.options.includes(e)})));var i=!ae(this.options.quality)&&this.options.quality.length>1;if(rt.toggleMenuButton.call(this,"quality",i),ge(n),rt.checkMenu.call(this),i){var r=function(e){var n=Ye("qualityBadge.".concat(e),t.config);return n.length?rt.createBadge.call(t,n):null};this.options.quality.sort((function(e,n){var i=t.config.quality.options;return i.indexOf(e)>i.indexOf(n)?1:-1})).forEach((function(e){rt.createMenuItem.call(t,{value:e,list:n,type:"quality",title:rt.getLabel.call(t,"quality",e),badge:r(e)})})),rt.updateSetting.call(this,"quality",n)}}},setCaptionsMenu:function(){var e=this;if(Z(this.elements.settings.panels.captions)){var t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),n=st.getTracks.call(this),i=Boolean(n.length);if(rt.toggleMenuButton.call(this,"captions",i),ge(t),rt.checkMenu.call(this),i){var r=n.map((function(n,i){return{value:i,checked:e.captions.toggled&&e.currentTrack===i,title:st.getLabel.call(e,n),badge:n.language&&rt.createBadge.call(e,n.language.toUpperCase()),list:t,type:"language"}}));r.unshift({value:-1,checked:!this.captions.toggled,title:Ye("disabled",this.config),list:t,type:"language"}),r.forEach(rt.createMenuItem.bind(this)),rt.updateSetting.call(this,"captions",t)}}},setSpeedMenu:function(){var e=this;if(Z(this.elements.settings.panels.speed)){var t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter((function(t){return t>=e.minimumSpeed&&t<=e.maximumSpeed}));var n=!ae(this.options.speed)&&this.options.speed.length>1;rt.toggleMenuButton.call(this,"speed",n),ge(t),rt.checkMenu.call(this),n&&(this.options.speed.forEach((function(n){rt.createMenuItem.call(e,{value:n,list:t,type:"speed",title:rt.getLabel.call(e,"speed",n)})})),rt.updateSetting.call(this,"speed",t))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!ae(e)&&Object.values(e).some((function(e){return!e.hidden}));be(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var n=e;Z(n)||(n=Object.values(this.elements.settings.panels).find((function(e){return!e.hidden})));var i=n.querySelector('[role^="menuitem"]');Ee.call(this,i,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,n=this.elements.buttons.settings;if(Z(t)&&Z(n)){var i=t.hidden,r=i;if(X(e))r=e;else if(te(e)&&27===e.which)r=!1;else if(ee(e)){var a=Y(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(a);if(o||!o&&e.target!==n&&r)return}n.setAttribute("aria-expanded",r),be(t,!r),we(this.elements.container,this.config.classNames.menu.open,r),r&&te(e)?rt.focusFirstMenuItem.call(this,null,!0):r||i||Ee.call(this,n,te(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var n=t.scrollWidth,i=t.scrollHeight;return me(t),{width:n,height:i}},showMenuPanel:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.elements.container.querySelector("#plyr-settings-".concat(this.id,"-").concat(t));if(Z(i)){var r=i.parentNode,a=Array.from(r.children).find((function(e){return!e.hidden}));if(Ce.transitions&&!Ce.reducedMotion){r.style.width="".concat(a.scrollWidth,"px"),r.style.height="".concat(a.scrollHeight,"px");var o=rt.getMenuSize.call(this,i),s=function t(n){n.target===r&&["width","height"].includes(n.propertyName)&&(r.style.width="",r.style.height="",De.call(e,r,oe,t))};Pe.call(this,r,oe,s),r.style.width="".concat(o.width,"px"),r.style.height="".concat(o.height,"px")}be(a,!0),be(i,!1),rt.focusFirstMenuItem.call(this,i,n)}},setDownloadUrl:function(){var e=this.elements.buttons.download;Z(e)&&e.setAttribute("href",this.download)},create:function(e){var t=this,n=rt.bindMenuItemShortcuts,i=rt.createButton,r=rt.createProgress,a=rt.createRange,o=rt.createTime,s=rt.setQualityMenu,u=rt.setSpeedMenu,c=rt.showMenuPanel;this.elements.controls=null,J(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));var l=he("div",ye(this.config.selectors.controls.wrapper));this.elements.controls=l;var d={class:"plyr__controls__item"};return qe(J(this.config.controls)?this.config.controls:[]).forEach((function(s){if("restart"===s&&l.appendChild(i.call(t,"restart",d)),"rewind"===s&&l.appendChild(i.call(t,"rewind",d)),"play"===s&&l.appendChild(i.call(t,"play",d)),"fast-forward"===s&&l.appendChild(i.call(t,"fast-forward",d)),"progress"===s){var u=he("div",{class:"".concat(d.class," plyr__progress__container")}),f=he("div",ye(t.config.selectors.progress));if(f.appendChild(a.call(t,"seek",{id:"plyr-seek-".concat(e.id)})),f.appendChild(r.call(t,"buffer")),t.config.tooltips.seek){var h=he("span",{class:t.config.classNames.tooltip},"00:00");f.appendChild(h),t.elements.display.seekTooltip=h}t.elements.progress=f,u.appendChild(t.elements.progress),l.appendChild(u)}if("current-time"===s&&l.appendChild(o.call(t,"currentTime",d)),"duration"===s&&l.appendChild(o.call(t,"duration",d)),"mute"===s||"volume"===s){var p=t.elements.volume;if(Z(p)&&l.contains(p)||(p=he("div",le({},d,{class:"".concat(d.class," plyr__volume").trim()})),t.elements.volume=p,l.appendChild(p)),"mute"===s&&p.appendChild(i.call(t,"mute")),"volume"===s&&!ue.isIos){var m={max:1,step:.05,value:t.config.volume};p.appendChild(a.call(t,"volume",le(m,{id:"plyr-volume-".concat(e.id)})))}}if("captions"===s&&l.appendChild(i.call(t,"captions",d)),"settings"===s&&!ae(t.config.settings)){var g=he("div",le({},d,{class:"".concat(d.class," plyr__menu").trim(),hidden:""}));g.appendChild(i.call(t,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(e.id),"aria-expanded":!1}));var v=he("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(e.id),hidden:""}),y=he("div"),b=he("div",{id:"plyr-settings-".concat(e.id,"-home")}),w=he("div",{role:"menu"});b.appendChild(w),y.appendChild(b),t.elements.settings.panels.home=b,t.config.settings.forEach((function(i){var r=he("button",le(ye(t.config.selectors.buttons.settings),{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));n.call(t,r,i),Pe.call(t,r,"click",(function(){c.call(t,i,!1)}));var a=he("span",null,Ye(i,t.config)),o=he("span",{class:t.config.classNames.menu.value});o.innerHTML=e[i],a.appendChild(o),r.appendChild(a),w.appendChild(r);var s=he("div",{id:"plyr-settings-".concat(e.id,"-").concat(i),hidden:""}),u=he("button",{type:"button",class:"".concat(t.config.classNames.control," ").concat(t.config.classNames.control,"--back")});u.appendChild(he("span",{"aria-hidden":!0},Ye(i,t.config))),u.appendChild(he("span",{class:t.config.classNames.hidden},Ye("menuBack",t.config))),Pe.call(t,s,"keydown",(function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),c.call(t,"home",!0))}),!1),Pe.call(t,u,"click",(function(){c.call(t,"home",!1)})),s.appendChild(u),s.appendChild(he("div",{role:"menu"})),y.appendChild(s),t.elements.settings.buttons[i]=r,t.elements.settings.panels[i]=s})),v.appendChild(y),g.appendChild(v),l.appendChild(g),t.elements.settings.popup=v,t.elements.settings.menu=g}if("pip"===s&&Ce.pip&&l.appendChild(i.call(t,"pip",d)),"airplay"===s&&Ce.airplay&&l.appendChild(i.call(t,"airplay",d)),"download"===s){var T=le({},d,{element:"a",href:t.download,target:"_blank"});t.isHTML5&&(T.download="");var S=t.config.urls.download;!re(S)&&t.isEmbed&&le(T,{icon:"logo-".concat(t.provider),label:t.provider}),l.appendChild(i.call(t,"download",T))}"fullscreen"===s&&l.appendChild(i.call(t,"fullscreen",d))})),this.isHTML5&&s.call(this,He.getQualityOptions.call(this)),u.call(this),l},inject:function(){var e=this;if(this.config.loadSprite){var t=rt.getIconUrl.call(this);t.cors&&Ze(t.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var n=null;this.elements.controls=null;var i,r,a={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;if(Y(this.config.controls)&&(this.config.controls=this.config.controls.call(this,a)),this.config.controls||(this.config.controls=[]),Z(this.config.controls)||W(this.config.controls)?n=this.config.controls:(n=rt.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:st.getLabel.call(this)}),o=!1),o&&W(this.config.controls)&&(i=n,Object.entries(a).forEach((function(e){var t=u(e,2),n=t[0],r=t[1];i=$e(i,"{".concat(n,"}"),r)})),n=i),W(this.config.selectors.controls.container)&&(r=document.querySelector(this.config.selectors.controls.container)),Z(r)||(r=this.elements.container),r[Z(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),Z(this.elements.controls)||rt.findElements.call(this),!ae(this.elements.buttons)){var s=function(t){var n=e.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return Te(t,n)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];we(t,n,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach((function(e){J(e)||Q(e)?Array.from(e).filter(Boolean).forEach(s):s(e)}))}if(ue.isEdge&&se(r),this.config.tooltips.controls){var c=this.config,l=c.classNames,d=c.selectors,f="".concat(d.controls.wrapper," ").concat(d.labels," .").concat(l.hidden),h=xe.call(this,f);Array.from(h).forEach((function(t){we(t,e.config.classNames.hidden,!1),we(t,e.config.classNames.tooltip,!0)}))}}};function at(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e;if(t){var i=document.createElement("a");i.href=n,n=i.href}try{return new URL(n)}catch(e){return null}}function ot(e){var t=new URLSearchParams;return G(e)&&Object.entries(e).forEach((function(e){var n=u(e,2),i=n[0],r=n[1];t.set(i,r)})),t}var st={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!Ce.textTracks)J(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&rt.setCaptionsMenu.call(this);else{if(Z(this.elements.captions)||(this.elements.captions=he("div",ye(this.config.selectors.captions)),function(e,t){Z(e)&&Z(t)&&t.parentNode.insertBefore(e,t.nextSibling)}(this.elements.captions,this.elements.wrapper)),ue.isIE&&window.URL){var e=this.media.querySelectorAll("track");Array.from(e).forEach((function(e){var t=e.getAttribute("src"),n=at(t);null!==n&&n.hostname!==window.location.href.hostname&&["http:","https:"].includes(n.protocol)&&Qe(t,"blob").then((function(t){e.setAttribute("src",window.URL.createObjectURL(t))})).catch((function(){me(e)}))}))}var t=qe((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map((function(e){return e.split("-")[0]}))),n=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===n&&(n=u(t,1)[0]);var i=this.storage.get("captions");if(X(i)||(i=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:i,language:n,languages:t}),this.isHTML5){var r=this.config.captions.update?"addtrack removetrack":"removetrack";Pe.call(this,this.media.textTracks,r,st.update.bind(this))}setTimeout(st.update.bind(this),0)}},update:function(){var e=this,t=st.getTracks.call(this,!0),n=this.captions,i=n.active,r=n.language,a=n.meta,o=n.currentTrackNode,s=Boolean(t.find((function(e){return e.language===r})));this.isHTML5&&this.isVideo&&t.filter((function(e){return!a.get(e)})).forEach((function(t){e.debug.log("Track added",t),a.set(t,{default:"showing"===t.mode}),"showing"===t.mode&&(t.mode="hidden"),Pe.call(e,t,"cuechange",(function(){return st.updateCues.call(e)}))})),(s&&this.language!==r||!t.includes(o))&&(st.setLanguage.call(this,r),st.toggle.call(this,i&&s)),we(this.elements.container,this.config.classNames.captions.enabled,!ae(t)),J(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&rt.setCaptionsMenu.call(this)},toggle:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,r=this.config.classNames.captions.active,a=$(e)?!i:e;if(a!==i){if(n||(this.captions.active=a,this.storage.set({captions:a})),!this.language&&a&&!n){var o=st.getTracks.call(this),s=st.findTrack.call(this,[this.captions.language].concat(c(this.captions.languages)),!0);return this.captions.language=s.language,void st.set.call(this,o.indexOf(s))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=a),we(this.elements.container,r,a),this.captions.toggled=a,rt.updateSetting.call(this,"captions"),Re.call(this,this.media,a?"captionsenabled":"captionsdisabled")}setTimeout((function(){a&&t.captions.toggled&&(t.captions.currentTrackNode.mode="hidden")}))}},set:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=st.getTracks.call(this);if(-1!==e)if(K(e))if(e in n){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;var i=n[e],r=i||{},a=r.language;this.captions.currentTrackNode=i,rt.updateSetting.call(this,"captions"),t||(this.captions.language=a,this.storage.set({language:a})),this.isVimeo&&this.embed.enableTextTrack(a),Re.call(this,this.media,"languagechange")}st.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&st.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else st.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(W(e)){var n=e.toLowerCase();this.captions.language=n;var i=st.getTracks.call(this),r=st.findTrack.call(this,[n]);st.set.call(this,i.indexOf(r),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=Array.from((this.media||{}).textTracks||[]);return n.filter((function(n){return!e.isHTML5||t||e.captions.meta.has(n)})).filter((function(e){return["captions","subtitles"].includes(e.kind)}))},findTrack:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=st.getTracks.call(this),a=function(e){return Number((n.captions.meta.get(e)||{}).default)},o=Array.from(r).sort((function(e,t){return a(t)-a(e)}));return e.every((function(e){return!(t=o.find((function(t){return t.language===e})))})),t||(i?o[0]:void 0)},getCurrentTrack:function(){return st.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!ne(t)&&Ce.textTracks&&this.captions.toggled&&(t=st.getCurrentTrack.call(this)),ne(t)?ae(t.label)?ae(t.language)?Ye("enabled",this.config):e.language.toUpperCase():t.label:Ye("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(Z(this.elements.captions))if($(e)||Array.isArray(e)){var t=e;if(!t){var n=st.getCurrentTrack.call(this);t=Array.from((n||{}).activeCues||[]).map((function(e){return e.getCueAsHTML()})).map(We)}var i=t.map((function(e){return e.trim()})).join("\n");if(i!==this.elements.captions.innerHTML){ge(this.elements.captions);var r=he("span",ye(this.config.selectors.caption));r.innerHTML=i,this.elements.captions.appendChild(r),Re.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},ut={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.6.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,premium:!1,referrerPolicy:null},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1}},ct="picture-in-picture",lt="inline",dt={html5:"html5",youtube:"youtube",vimeo:"vimeo"},ft="audio",ht="video",pt=function(){},mt=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(this,t),this.enabled=window.console&&n,this.enabled&&this.log("Debugging enabled")}return i(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):pt}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):pt}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):pt}}]),t}(),gt=function(){function t(n){var i=this;e(this,t),this.player=n,this.prefix=t.prefix,this.property=t.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===n.config.fullscreen.fallback,this.player.elements.fullscreen=n.config.fullscreen.container&&function(e,t){return(Element.prototype.closest||function(){var e=this;do{if(Se.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,n.config.fullscreen.container),Pe.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),(function(){i.onChange()})),Pe.call(this.player,this.player.elements.container,"dblclick",(function(e){Z(i.player.elements.controls)&&i.player.elements.controls.contains(e.target)||i.toggle()})),Pe.call(this,this.player.elements.container,"keydown",(function(e){return i.trapFocus(e)})),this.update()}return i(t,[{key:"onChange",value:function(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;Z(e)&&(e.pressed=this.active),Re.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0)}}},{key:"toggleFallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",we(this.target,this.player.config.classNames.fullscreen.fallback,e),ue.isIos){var t=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");var i=W(t.content)&&t.content.includes(n);e?(this.cleanupViewport=!i,i||(t.content+=",".concat(n))):this.cleanupViewport&&(t.content=t.content.split(",").filter((function(e){return e.trim()!==n})).join(","))}this.onChange()}},{key:"trapFocus",value:function(e){if(!ue.isIos&&this.active&&"Tab"===e.key&&9===e.keyCode){var t=document.activeElement,n=xe.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),i=u(n,1)[0],r=n[n.length-1];t!==r||e.shiftKey?t===i&&e.shiftKey&&(r.focus(),e.preventDefault()):(i.focus(),e.preventDefault())}}},{key:"update",value:function(){var e;this.enabled?(e=this.forceFallback?"Fallback (forced)":t.native?"Native":"Fallback",this.player.debug.log("".concat(e," fullscreen enabled"))):this.player.debug.log("Fullscreen not supported and fallback disabled"),we(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(ue.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():!t.native||this.forceFallback?this.toggleFallback(!0):this.prefix?ae(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen({navigationUI:"hide"}))}},{key:"exit",value:function(){if(this.enabled)if(ue.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),Ue(this.player.play());else if(!t.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!ae(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"usingNative",get:function(){return t.native&&!this.forceFallback}},{key:"enabled",get:function(){return(t.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){if(!this.enabled)return!1;if(!t.native||this.forceFallback)return Te(this.target,this.player.config.classNames.fullscreen.fallback);var e=this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}},{key:"target",get:function(){return ue.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(Y(document.exitFullscreen))return"";var e="";return["webkit","moz","ms"].some((function(t){return!(!Y(document["".concat(t,"ExitFullscreen")])&&!Y(document["".concat(t,"CancelFullScreen")]))&&(e=t,!0)})),e}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),t}();function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new Promise((function(n,i){var r=new Image,a=function(){delete r.onload,delete r.onerror,(r.naturalWidth>=t?n:i)(r)};Object.assign(r,{onload:a,onerror:a,src:e})}))}var yt={addStyleHook:function(){we(this.elements.container,this.config.selectors.container.replace(".",""),!0),we(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void yt.toggleNativeControls.call(this,!0);Z(this.elements.controls)||(rt.inject.call(this),this.listeners.controls()),yt.toggleNativeControls.call(this),this.isHTML5&&st.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,rt.updateVolume.call(this),rt.timeUpdate.call(this),yt.checkPlaying.call(this),we(this.elements.container,this.config.classNames.pip.supported,Ce.pip&&this.isHTML5&&this.isVideo),we(this.elements.container,this.config.classNames.airplay.supported,Ce.airplay&&this.isHTML5),we(this.elements.container,this.config.classNames.isIos,ue.isIos),we(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout((function(){Re.call(e,e.media,"ready")}),0),yt.setTitle.call(this),this.poster&&yt.setPoster.call(this,this.poster,!1).catch((function(){})),this.config.duration&&rt.durationUpdate.call(this)},setTitle:function(){var e=Ye("play",this.config);if(W(this.config.title)&&!ae(this.config.title)&&(e+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach((function(t){t.setAttribute("aria-label",e)})),this.isEmbed){var t=ke.call(this,"iframe");if(!Z(t))return;var n=ae(this.config.title)?"video":this.config.title,i=Ye("frameTitle",this.config);t.setAttribute("title",i.replace("{title}",n))}},togglePoster:function(e){we(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),Le.call(this).then((function(){return vt(e)})).catch((function(n){throw e===t.poster&&yt.togglePoster.call(t,!1),n})).then((function(){if(e!==t.poster)throw new Error("setPoster cancelled by later call to setPoster")})).then((function(){return Object.assign(t.elements.poster.style,{backgroundImage:"url('".concat(e,"')"),backgroundSize:""}),yt.togglePoster.call(t,!0),e})))},checkPlaying:function(e){var t=this;we(this.elements.container,this.config.classNames.playing,this.playing),we(this.elements.container,this.config.classNames.paused,this.paused),we(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach((function(e){Object.assign(e,{pressed:t.playing}),e.setAttribute("aria-label",Ye(t.playing?"pause":"play",t.config))})),ee(e)&&"timeupdate"===e.type||yt.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout((function(){we(t.elements.container,t.config.classNames.loading,t.loading),yt.toggleControls.call(t)}),this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var n=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||n))}},migrateStyles:function(){var e=this;Object.values(o({},this.media.style)).filter((function(e){return!ae(e)&&e.startsWith("--plyr")})).forEach((function(t){e.elements.container.style.setProperty(t,e.media.style.getPropertyValue(t)),e.media.style.removeProperty(t)})),ae(this.media.style)&&this.media.removeAttribute("style")}},bt=function(){function t(n){e(this,t),this.player=n,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return i(t,[{key:"handleKey",value:function(e){var t=this.player,n=t.elements,i=e.keyCode?e.keyCode:e.which,r="keydown"===e.type,a=r&&i===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&K(i))if(r){var o=document.activeElement;if(Z(o)){var s=t.config.selectors.editable;if(o!==n.inputs.seek&&Se(o,s))return;if(32===e.which&&Se(o,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a||(t.currentTime=t.duration/10*(i-48));break;case 32:case 75:a||Ue(t.togglePlay());break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:a||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:a||t.toggleCaptions();break;case 76:t.loop=!t.loop}27===i&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}},{key:"toggleMenu",value:function(e){rt.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,we(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,n=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var i,r=e.timeStamp-this.lastKeyDown<=20;("focus"!==e.type||r)&&(i=t.config.classNames.tabFocus,we(xe.call(t,".".concat(i)),i,!1),"focusout"!==e.type&&(this.focusTimer=setTimeout((function(){var e=document.activeElement;n.container.contains(e)&&we(document.activeElement,t.config.classNames.tabFocus,!0)}),10)))}}},{key:"global",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&Me.call(t,window,"keydown keyup",this.handleKey,e,!1),Me.call(t,document.body,"click",this.toggleMenu,e),Oe.call(t,document.body,"touchstart",this.firstTouch),Me.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var e=this.player,t=e.config,n=e.elements,i=e.timers;!t.keyboard.global&&t.keyboard.focused&&Pe.call(e,n.container,"keydown keyup",this.handleKey,!1),Pe.call(e,n.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",(function(t){var r=n.controls;r&&"enterfullscreen"===t.type&&(r.pressed=!1,r.hover=!1);var a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(yt.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(i.controls),i.controls=setTimeout((function(){return yt.toggleControls.call(e,!1)}),a)}));var r=function(t){if(!t)return Ve.call(e);var i=n.container.getBoundingClientRect(),r=i.width,a=i.height;return Ve.call(e,"".concat(r,":").concat(a))},a=function(){clearTimeout(i.resized),i.resized=setTimeout(r,50)};Pe.call(e,n.container,"enterfullscreen exitfullscreen",(function(t){var i=e.fullscreen,o=i.target,s=i.usingNative;if(o===n.container&&(e.isEmbed||!ae(e.config.ratio))){var c="enterfullscreen"===t.type,l=r(c);l.padding,!function(t,n,i){if(e.isVimeo&&!e.config.vimeo.premium){var r=e.elements.wrapper.firstChild,a=u(t,2)[1],o=u(Be.call(e),2),s=o[0],c=o[1];r.style.maxWidth=i?"".concat(a/c*s,"px"):null,r.style.margin=i?"0 auto":null}}(l.ratio,0,c),s||(c?Pe.call(e,window,"resize",a):De.call(e,window,"resize",a))}}))}},{key:"media",value:function(){var e=this,t=this.player,n=t.elements;if(Pe.call(t,t.media,"timeupdate seeking seeked",(function(e){return rt.timeUpdate.call(t,e)})),Pe.call(t,t.media,"durationchange loadeddata loadedmetadata",(function(e){return rt.durationUpdate.call(t,e)})),Pe.call(t,t.media,"ended",(function(){t.isHTML5&&t.isVideo&&t.config.resetOnEnd&&(t.restart(),t.pause())})),Pe.call(t,t.media,"progress playing seeking seeked",(function(e){return rt.updateProgress.call(t,e)})),Pe.call(t,t.media,"volumechange",(function(e){return rt.updateVolume.call(t,e)})),Pe.call(t,t.media,"playing play pause ended emptied timeupdate",(function(e){return yt.checkPlaying.call(t,e)})),Pe.call(t,t.media,"waiting canplay seeked playing",(function(e){return yt.checkLoading.call(t,e)})),t.supported.ui&&t.config.clickToPlay&&!t.isAudio){var i=ke.call(t,".".concat(t.config.classNames.video));if(!Z(i))return;Pe.call(t,n.container,"click",(function(r){([n.container,i].includes(r.target)||i.contains(r.target))&&(t.touch&&t.config.hideControls||(t.ended?(e.proxy(r,t.restart,"restart"),e.proxy(r,(function(){Ue(t.play())}),"play")):e.proxy(r,(function(){Ue(t.togglePlay())}),"play")))}))}t.supported.ui&&t.config.disableContextMenu&&Pe.call(t,n.wrapper,"contextmenu",(function(e){e.preventDefault()}),!1),Pe.call(t,t.media,"volumechange",(function(){t.storage.set({volume:t.volume,muted:t.muted})})),Pe.call(t,t.media,"ratechange",(function(){rt.updateSetting.call(t,"speed"),t.storage.set({speed:t.speed})})),Pe.call(t,t.media,"qualitychange",(function(e){rt.updateSetting.call(t,"quality",null,e.detail.quality)})),Pe.call(t,t.media,"ready qualitychange",(function(){rt.setDownloadUrl.call(t)}));var r=t.config.events.concat(["keyup","keydown"]).join(" ");Pe.call(t,t.media,r,(function(e){var i=e.detail,r=void 0===i?{}:i;"error"===e.type&&(r=t.media.error),Re.call(t,n.container,e.type,!0,r)}))}},{key:"proxy",value:function(e,t,n){var i=this.player,r=i.config.listeners[n],a=!0;Y(r)&&(a=r.call(i,e)),!1!==a&&Y(t)&&t.call(i,e)}},{key:"bind",value:function(e,t,n,i){var r=this,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.player,s=o.config.listeners[i],u=Y(s);Pe.call(o,e,t,(function(e){return r.proxy(e,n,i)}),a&&!u)}},{key:"controls",value:function(){var e=this,t=this.player,n=t.elements,i=ue.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach((function(n){e.bind(n,"click",(function(){Ue(t.togglePlay())}),"play")})),this.bind(n.buttons.restart,"click",t.restart,"restart"),this.bind(n.buttons.rewind,"click",t.rewind,"rewind"),this.bind(n.buttons.fastForward,"click",t.forward,"fastForward"),this.bind(n.buttons.mute,"click",(function(){t.muted=!t.muted}),"mute"),this.bind(n.buttons.captions,"click",(function(){return t.toggleCaptions()})),this.bind(n.buttons.download,"click",(function(){Re.call(t,t.media,"download")}),"download"),this.bind(n.buttons.fullscreen,"click",(function(){t.fullscreen.toggle()}),"fullscreen"),this.bind(n.buttons.pip,"click",(function(){t.pip="toggle"}),"pip"),this.bind(n.buttons.airplay,"click",t.airplay,"airplay"),this.bind(n.buttons.settings,"click",(function(e){e.stopPropagation(),e.preventDefault(),rt.toggleMenu.call(t,e)}),null,!1),this.bind(n.buttons.settings,"keyup",(function(e){var n=e.which;[13,32].includes(n)&&(13!==n?(e.preventDefault(),e.stopPropagation(),rt.toggleMenu.call(t,e)):rt.focusFirstMenuItem.call(t,null,!0))}),null,!1),this.bind(n.settings.menu,"keydown",(function(e){27===e.which&&rt.toggleMenu.call(t,e)})),this.bind(n.inputs.seek,"mousedown mousemove",(function(e){var t=n.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)})),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",(function(e){var n=e.currentTarget,i=e.keyCode?e.keyCode:e.which;if(!te(e)||39===i||37===i){t.lastSeekTime=Date.now();var r=n.hasAttribute("play-on-seeked"),a=["mouseup","touchend","keyup"].includes(e.type);r&&a?(n.removeAttribute("play-on-seeked"),Ue(t.play())):!a&&t.playing&&(n.setAttribute("play-on-seeked",""),t.pause())}})),ue.isIos){var r=xe.call(t,'input[type="range"]');Array.from(r).forEach((function(t){return e.bind(t,i,(function(e){return se(e.target)}))}))}this.bind(n.inputs.seek,i,(function(e){var n=e.currentTarget,i=n.getAttribute("seek-value");ae(i)&&(i=n.value),n.removeAttribute("seek-value"),t.currentTime=i/n.max*t.duration}),"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",(function(e){return rt.updateSeekTooltip.call(t,e)})),this.bind(n.progress,"mousemove touchmove",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startMove(e)})),this.bind(n.progress,"mouseleave touchend click",(function(){var e=t.previewThumbnails;e&&e.loaded&&e.endMove(!1,!0)})),this.bind(n.progress,"mousedown touchstart",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.startScrubbing(e)})),this.bind(n.progress,"mouseup touchend",(function(e){var n=t.previewThumbnails;n&&n.loaded&&n.endScrubbing(e)})),ue.isWebkit&&Array.from(xe.call(t,'input[type="range"]')).forEach((function(n){e.bind(n,"input",(function(e){return rt.updateRangeFill.call(t,e.target)}))})),t.config.toggleInvert&&!Z(n.display.duration)&&this.bind(n.display.currentTime,"click",(function(){0!==t.currentTime&&(t.config.invertTime=!t.config.invertTime,rt.timeUpdate.call(t))})),this.bind(n.inputs.volume,i,(function(e){t.volume=e.target.value}),"volume"),this.bind(n.controls,"mouseenter mouseleave",(function(e){n.controls.hover=!t.touch&&"mouseenter"===e.type})),n.fullscreen&&Array.from(n.fullscreen.children).filter((function(e){return!e.contains(n.container)})).forEach((function(i){e.bind(i,"mouseenter mouseleave",(function(e){n.controls.hover=!t.touch&&"mouseenter"===e.type}))})),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",(function(e){n.controls.pressed=["mousedown","touchstart"].includes(e.type)})),this.bind(n.controls,"focusin",(function(){var i=t.config,r=t.timers;we(n.controls,i.classNames.noTransition,!0),yt.toggleControls.call(t,!0),setTimeout((function(){we(n.controls,i.classNames.noTransition,!1)}),0);var a=e.touch?3e3:4e3;clearTimeout(r.controls),r.controls=setTimeout((function(){return yt.toggleControls.call(t,!1)}),a)})),this.bind(n.inputs.volume,"wheel",(function(e){var n=e.webkitDirectionInvertedFromDevice,i=u([e.deltaX,-e.deltaY].map((function(e){return n?-e:e})),2),r=i[0],a=i[1],o=Math.sign(Math.abs(r)>Math.abs(a)?r:a);t.increaseVolume(o/50);var s=t.media.volume;(1===o&&s<1||-1===o&&s>0)&&e.preventDefault()}),"volume",!1)}}]),t}();"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t||"undefined"!=typeof self&&self;var wt=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){e.exports=function(){var e=function(){},t={},n={},i={};function r(e,t){if(e){var r=i[e];if(n[e]=t,r)for(;r.length;)r[0](e,t),r.splice(0,1)}}function a(t,n){t.call&&(t={success:t}),n.length?(t.error||e)(n):(t.success||e)(t)}function o(t,n,i,r){var a,s,u=document,c=i.async,l=(i.numRetries||0)+1,d=i.before||e,f=t.replace(/[\?|#].*$/,""),h=t.replace(/^(css|img)!/,"");r=r||0,/(^css!|\.css$)/.test(f)?((s=u.createElement("link")).rel="stylesheet",s.href=h,(a="hideFocus"in s)&&s.relList&&(a=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(f)?(s=u.createElement("img")).src=h:((s=u.createElement("script")).src=t,s.async=void 0===c||c),s.onload=s.onerror=s.onbeforeload=function(e){var u=e.type[0];if(a)try{s.sheet.cssText.length||(u="e")}catch(e){18!=e.code&&(u="e")}if("e"==u){if((r+=1)<l)return o(t,n,i,r)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(t,u,e.defaultPrevented)},!1!==d(t,s)&&u.head.appendChild(s)}function s(e,n,i){var s,u;if(n&&n.trim&&(s=n),u=(s?i:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function c(t,n){!function(e,t,n){var i,r,a=(e=e.push?e:[e]).length,s=a,u=[];for(i=function(e,n,i){if("e"==n&&u.push(e),"b"==n){if(!i)return;u.push(e)}--a||t(u)},r=0;r<s;r++)o(e[r],i,n)}(e,(function(e){a(u,e),t&&a({success:t,error:n},e),r(s,e)}),u)}if(u.returnPromise)return new Promise(c);c()}return s.ready=function(e,t){return function(e,t){e=e.push?e:[e];var r,a,o,s=[],u=e.length,c=u;for(r=function(e,n){n.length&&s.push(e),--c||t(s)};u--;)a=e[u],(o=n[a])?r(a,o):(i[a]=i[a]||[]).push(r)}(e,(function(e){a(t,e)})),s},s.done=function(e){r(e,[])},s.reset=function(){t={},n={},i={}},s.isDefined=function(e){return e in t},s}()}));function Tt(e){return new Promise((function(t,n){wt(e,{success:t,error:n})}))}function St(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Re.call(this,this.media,e?"play":"pause"))}var xt={setup:function(){var e=this;we(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,Ve.call(e),G(window.Vimeo)?xt.ready.call(e):Tt(e.config.urls.vimeo.sdk).then((function(){xt.ready.call(e)})).catch((function(t){e.debug.warn("Vimeo SDK (player.js) failed to load",t)}))},ready:function(){var e=this,t=this,n=t.config.vimeo,i=n.premium,r=n.referrerPolicy,a=s(n,["premium","referrerPolicy"]);i&&Object.assign(a,{controls:!1,sidedock:!1});var c=ot(o({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative},a)),l=t.media.getAttribute("src");ae(l)&&(l=t.media.getAttribute(t.config.attributes.embed.id));var d,f=ae(d=l)?null:K(Number(d))?d:d.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:d,h=he("iframe"),p=ze(t.config.urls.vimeo.iframe,f,c);h.setAttribute("src",p),h.setAttribute("allowfullscreen",""),h.setAttribute("allow","autoplay,fullscreen,picture-in-picture"),ae(r)||h.setAttribute("referrerPolicy",r);var m=t.poster;if(i)h.setAttribute("data-poster",m),t.media=ve(h,t.media);else{var g=he("div",{class:t.config.classNames.embedContainer,"data-poster":m});g.appendChild(h),t.media=ve(g,t.media)}Qe(ze(t.config.urls.vimeo.api,f),"json").then((function(e){if(!ae(e)){var n=new URL(e[0].thumbnail_large);n.pathname="".concat(n.pathname.split("_")[0],".jpg"),yt.setPoster.call(t,n.href).catch((function(){}))}})),t.embed=new window.Vimeo.Player(h,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=function(){return St.call(t,!0),t.embed.play()},t.media.pause=function(){return St.call(t,!1),t.embed.pause()},t.media.stop=function(){t.pause(),t.currentTime=0};var v=t.media.currentTime;Object.defineProperty(t.media,"currentTime",{get:function(){return v},set:function(e){var n=t.embed,i=t.media,r=t.paused,a=t.volume,o=r&&!n.hasPlayed;i.seeking=!0,Re.call(t,i,"seeking"),Promise.resolve(o&&n.setVolume(0)).then((function(){return n.setCurrentTime(e)})).then((function(){return o&&n.pause()})).then((function(){return o&&n.setVolume(a)})).catch((function(){}))}});var y=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:function(){return y},set:function(e){t.embed.setPlaybackRate(e).then((function(){y=e,Re.call(t,t.media,"ratechange")})).catch((function(){t.options.speed=[1]}))}});var b=t.config.volume;Object.defineProperty(t.media,"volume",{get:function(){return b},set:function(e){t.embed.setVolume(e).then((function(){b=e,Re.call(t,t.media,"volumechange")}))}});var w=t.config.muted;Object.defineProperty(t.media,"muted",{get:function(){return w},set:function(e){var n=!!X(e)&&e;t.embed.setVolume(n?0:t.config.volume).then((function(){w=n,Re.call(t,t.media,"volumechange")}))}});var T,S=t.config.loop;Object.defineProperty(t.media,"loop",{get:function(){return S},set:function(e){var n=X(e)?e:t.config.loop.active;t.embed.setLoop(n).then((function(){S=n}))}}),t.embed.getVideoUrl().then((function(e){T=e,rt.setDownloadUrl.call(t)})).catch((function(t){e.debug.warn(t)})),Object.defineProperty(t.media,"currentSrc",{get:function(){return T}}),Object.defineProperty(t.media,"ended",{get:function(){return t.currentTime===t.duration}}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then((function(n){var i=u(n,2),r=i[0],a=i[1];t.embed.ratio=[r,a],Ve.call(e)})),t.embed.setAutopause(t.config.autopause).then((function(e){t.config.autopause=e})),t.embed.getVideoTitle().then((function(n){t.config.title=n,yt.setTitle.call(e)})),t.embed.getCurrentTime().then((function(e){v=e,Re.call(t,t.media,"timeupdate")})),t.embed.getDuration().then((function(e){t.media.duration=e,Re.call(t,t.media,"durationchange")})),t.embed.getTextTracks().then((function(e){t.media.textTracks=e,st.setup.call(t)})),t.embed.on("cuechange",(function(e){var n=e.cues,i=(void 0===n?[]:n).map((function(e){return function(e){var t=document.createDocumentFragment(),n=document.createElement("div");return t.appendChild(n),n.innerHTML=e,t.firstChild.innerText}(e.text)}));st.updateCues.call(t,i)})),t.embed.on("loaded",(function(){t.embed.getPaused().then((function(e){St.call(t,!e),e||Re.call(t,t.media,"playing")})),Z(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)})),t.embed.on("bufferstart",(function(){Re.call(t,t.media,"waiting")})),t.embed.on("bufferend",(function(){Re.call(t,t.media,"playing")})),t.embed.on("play",(function(){St.call(t,!0),Re.call(t,t.media,"playing")})),t.embed.on("pause",(function(){St.call(t,!1)})),t.embed.on("timeupdate",(function(e){t.media.seeking=!1,v=e.seconds,Re.call(t,t.media,"timeupdate")})),t.embed.on("progress",(function(e){t.media.buffered=e.percent,Re.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&Re.call(t,t.media,"canplaythrough"),t.embed.getDuration().then((function(e){e!==t.media.duration&&(t.media.duration=e,Re.call(t,t.media,"durationchange"))}))})),t.embed.on("seeked",(function(){t.media.seeking=!1,Re.call(t,t.media,"seeked")})),t.embed.on("ended",(function(){t.media.paused=!0,Re.call(t,t.media,"ended")})),t.embed.on("error",(function(e){t.media.error=e,Re.call(t,t.media,"error")})),setTimeout((function(){return yt.build.call(t)}),0)}};function kt(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,Re.call(this,this.media,e?"play":"pause"))}function Et(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}var At,_t={setup:function(){var e=this;if(we(this.elements.wrapper,this.config.classNames.embed,!0),G(window.YT)&&Y(window.YT.Player))_t.ready.call(this);else{var t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){Y(t)&&t(),_t.ready.call(e)},Tt(this.config.urls.youtube.sdk).catch((function(t){e.debug.warn("YouTube API failed to load",t)}))}},getTitle:function(e){var t=this;Qe(ze(this.config.urls.youtube.api,e)).then((function(e){if(G(e)){var n=e.title,i=e.height,r=e.width;t.config.title=n,yt.setTitle.call(t),t.embed.ratio=[r,i]}Ve.call(t)})).catch((function(){Ve.call(t)}))},ready:function(){var e=this,t=e.media&&e.media.getAttribute("id");if(ae(t)||!t.startsWith("youtube-")){var n=e.media.getAttribute("src");ae(n)&&(n=e.media.getAttribute(this.config.attributes.embed.id));var i,r,a=ae(i=n)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i,o=(r=e.provider,"".concat(r,"-").concat(Math.floor(1e4*Math.random()))),s=he("div",{id:o,"data-poster":e.poster});e.media=ve(s,e.media);var u=function(e){return"https://i.ytimg.com/vi/".concat(a,"/").concat(e,"default.jpg")};vt(u("maxres"),121).catch((function(){return vt(u("sd"),121)})).catch((function(){return vt(u("hq"))})).then((function(t){return yt.setPoster.call(e,t.src)})).then((function(t){t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")})).catch((function(){}));var c=e.config.youtube;e.embed=new window.YT.Player(o,{videoId:a,host:Et(c),playerVars:le({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},c),events:{onError:function(t){if(!e.media.error){var n=t.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[n]||"An unknown error occured";e.media.error={code:n,message:i},Re.call(e,e.media,"error")}},onPlaybackRateChange:function(t){var n=t.target;e.media.playbackRate=n.getPlaybackRate(),Re.call(e,e.media,"ratechange")},onReady:function(t){if(!Y(e.media.play)){var n=t.target;_t.getTitle.call(e,a),e.media.play=function(){kt.call(e,!0),n.playVideo()},e.media.pause=function(){kt.call(e,!1),n.pauseVideo()},e.media.stop=function(){n.stopVideo()},e.media.duration=n.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:function(){return Number(n.getCurrentTime())},set:function(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,Re.call(e,e.media,"seeking"),n.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:function(){return n.getPlaybackRate()},set:function(e){n.setPlaybackRate(e)}});var i=e.config.volume;Object.defineProperty(e.media,"volume",{get:function(){return i},set:function(t){i=t,n.setVolume(100*i),Re.call(e,e.media,"volumechange")}});var r=e.config.muted;Object.defineProperty(e.media,"muted",{get:function(){return r},set:function(t){var i=X(t)?t:r;r=i,n[i?"mute":"unMute"](),Re.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:function(){return n.getVideoUrl()}}),Object.defineProperty(e.media,"ended",{get:function(){return e.currentTime===e.duration}});var o=n.getAvailablePlaybackRates();e.options.speed=o.filter((function(t){return e.config.speed.options.includes(t)})),e.supported.ui&&e.media.setAttribute("tabindex",-1),Re.call(e,e.media,"timeupdate"),Re.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval((function(){e.media.buffered=n.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&Re.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),Re.call(e,e.media,"canplaythrough"))}),200),setTimeout((function(){return yt.build.call(e)}),50)}},onStateChange:function(t){var n=t.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(t.data)&&(e.media.seeking=!1,Re.call(e,e.media,"seeked")),t.data){case-1:Re.call(e,e.media,"timeupdate"),e.media.buffered=n.getVideoLoadedFraction(),Re.call(e,e.media,"progress");break;case 0:kt.call(e,!1),e.media.loop?(n.stopVideo(),n.playVideo()):Re.call(e,e.media,"ended");break;case 1:e.config.autoplay||!e.media.paused||e.embed.hasPlayed?(kt.call(e,!0),Re.call(e,e.media,"playing"),e.timers.playing=setInterval((function(){Re.call(e,e.media,"timeupdate")}),50),e.media.duration!==n.getDuration()&&(e.media.duration=n.getDuration(),Re.call(e,e.media,"durationchange"))):e.media.pause();break;case 2:e.muted||e.embed.unMute(),kt.call(e,!1);break;case 3:Re.call(e,e.media,"waiting")}Re.call(e,e.elements.container,"statechange",!1,{code:t.data})}}})}}},Ct={setup:function(){this.media?(we(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),we(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&we(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=he("div",{class:this.config.classNames.video}),de(this.media,this.elements.wrapper),this.elements.poster=he("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?He.setup.call(this):this.isYouTube?_t.setup.call(this):this.isVimeo&&xt.setup.call(this)):this.debug.warn("No media element found!")}},It=function(){function t(n){var i=this;e(this,t),this.player=n,this.config=n.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((function(e,t){i.on("loaded",e),i.on("error",t)})),this.load()}return i(t,[{key:"load",value:function(){var e=this;this.enabled&&(G(window.google)&&G(window.google.ima)?this.ready():Tt(this.player.config.urls.googleIMA.sdk).then((function(){e.ready()})).catch((function(){e.trigger("error",new Error("Google IMA SDK failed to load"))})))}},{key:"ready",value:function(){var e,t=this;this.enabled||((e=this).manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then((function(){t.clearSafetyTimer("onAdsManagerLoaded()")})),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){var e=this;this.elements.container=he("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){return e.onAdsManagerLoaded(t)}),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){return e.onAdError(t)}),!1),this.requestAds()}},{key:"requestAds",value:function(){var e=this.player.elements.container;try{var t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!t)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");var n=function(){var t=it(Math.max(e.manager.getRemainingTime(),0)),n="".concat(Ye("advertisement",e.player.config)," - ").concat(t);e.elements.container.setAttribute("data-badge-text",n)};this.countdownTimer=setInterval(n,100)}},{key:"onAdsManagerLoaded",value:function(e){var t=this;if(this.enabled){var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.enablePreloading=!0,this.manager=e.getAdsManager(this.player,n),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){return t.onAdError(e)})),Object.keys(google.ima.AdEvent.Type).forEach((function(e){t.manager.addEventListener(google.ima.AdEvent.Type[e],(function(e){return t.onAdEvent(e)}))})),this.trigger("loaded")}}},{key:"addCuePoints",value:function(){var e=this;ae(this.cuePoints)||this.cuePoints.forEach((function(t){if(0!==t&&-1!==t&&t<e.player.duration){var n=e.player.elements.progress;if(Z(n)){var i=100/e.player.duration*t,r=he("span",{class:e.player.config.classNames.cues});r.style.left="".concat(i.toString(),"%"),n.appendChild(r)}}}))}},{key:"onAdEvent",value:function(e){var t=this,n=this.player.elements.container,i=e.getAd(),r=e.getAdData();switch(function(e){Re.call(t.player,t.player.media,"ads".concat(e.replace(/_/g,"").toLowerCase()))}(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=n.offsetWidth,i.height=n.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:r.adError&&this.player.debug.warn("Non-fatal ad error: ".concat(r.adError.getMessage()))}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var e,t=this,n=this.player.elements.container;this.player.on("canplay",(function(){t.addCuePoints()})),this.player.on("ended",(function(){t.loader.contentComplete()})),this.player.on("timeupdate",(function(){e=t.player.currentTime})),this.player.on("seeked",(function(){var n=t.player.currentTime;ae(t.cuePoints)||t.cuePoints.forEach((function(i,r){e<i&&i<n&&(t.manager.discardAdBreak(),t.cuePoints.splice(r,1))}))})),window.addEventListener("resize",(function(){t.manager&&t.manager.resize(n.offsetWidth,n.offsetHeight,google.ima.ViewMode.NORMAL)}))}},{key:"play",value:function(){var e=this,t=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then((function(){e.manager.setVolume(e.player.volume),e.elements.displayContainer.initialize();try{e.initialized||(e.manager.init(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL),e.manager.start()),e.initialized=!0}catch(t){e.onAdError(t)}})).catch((function(){}))}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,Ue(this.player.media.play())}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var e=this;this.managerPromise.then((function(){e.manager&&e.manager.destroy(),e.managerPromise=new Promise((function(t){e.on("loaded",t),e.player.debug.log(e.manager)})),e.initialized=!1,e.requestAds()})).catch((function(){}))}},{key:"trigger",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var a=this.events[e];J(a)&&a.forEach((function(e){Y(e)&&e.apply(t,i)}))}},{key:"on",value:function(e,t){return J(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var n=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout((function(){n.cancel(),n.clearSafetyTimer("startSafetyTimer()")}),e)}},{key:"clearSafetyTimer",value:function(e){$(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){var e=this.config;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!ae(e.publisherId)||re(e.tagUrl))}},{key:"tagUrl",get:function(){var e=this.config;if(re(e.tagUrl))return e.tagUrl;var t={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(ot(t))}}]),t}(),Mt=function(e,t){var n={};return e>t.width/t.height?(n.width=t.width,n.height=1/e*t.width):(n.height=t.height,n.width=e*t.height),n},Pt=function(){function t(n){e(this,t),this.player=n,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}return i(t,[{key:"load",value:function(){var e=this;this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then((function(){e.enabled&&(e.render(),e.determineContainerAutoSizing(),e.loaded=!0)}))}},{key:"getThumbnails",value:function(){var e=this;return new Promise((function(t){var n=e.player.config.previewThumbnails.src;if(ae(n))throw new Error("Missing previewThumbnails.src config attribute");var i=function(){e.thumbnails.sort((function(e,t){return e.height-t.height})),e.player.debug.log("Preview thumbnails",e.thumbnails),t()};if(Y(n))n((function(t){e.thumbnails=t,i()}));else{var r=(W(n)?[n]:n).map((function(t){return e.getThumbnail(t)}));Promise.all(r).then(i)}}))}},{key:"getThumbnail",value:function(e){var t=this;return new Promise((function(n){Qe(e).then((function(i){var r,a,o={frames:(r=i,a=[],r.split(/\r\n\r\n|\n\n|\r\r/).forEach((function(e){var t={};e.split(/\r\n|\n|\r/).forEach((function(e){if(K(t.startTime)){if(!ae(e.trim())&&ae(t.text)){var n=e.trim().split("#xywh="),i=u(n,1);if(t.text=i[0],n[1]){var r=u(n[1].split(","),4);t.x=r[0],t.y=r[1],t.w=r[2],t.h=r[3]}}}else{var a=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);a&&(t.startTime=60*Number(a[1]||0)*60+60*Number(a[2])+Number(a[3])+Number("0.".concat(a[4])),t.endTime=60*Number(a[6]||0)*60+60*Number(a[7])+Number(a[8])+Number("0.".concat(a[9])))}})),t.text&&a.push(t)})),a),height:null,urlPrefix:""};o.frames[0].text.startsWith("/")||o.frames[0].text.startsWith("http://")||o.frames[0].text.startsWith("https://")||(o.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));var s=new Image;s.onload=function(){o.height=s.naturalHeight,o.width=s.naturalWidth,t.thumbnails.push(o),n()},s.src=o.urlPrefix+o.frames[0].text}))}))}},{key:"startMove",value:function(e){if(this.loaded&&ee(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t=this.player.elements.progress.getBoundingClientRect(),n=100/t.width*(e.pageX-t.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=it(this.seekTime)}this.showImageAtCurrentTime()}}},{key:"endMove",value:function(){this.toggleThumbContainer(!1,!0)}},{key:"startScrubbing",value:function(e){($(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}},{key:"endScrubbing",value:function(){var e=this;this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Oe.call(this.player,this.player.media,"timeupdate",(function(){e.mouseDown||e.toggleScrubbingContainer(!1)}))}},{key:"listeners",value:function(){var e=this;this.player.on("play",(function(){e.toggleThumbContainer(!1,!0)})),this.player.on("seeked",(function(){e.toggleThumbContainer(!1)})),this.player.on("timeupdate",(function(){e.lastTime=e.player.media.currentTime}))}},{key:"render",value:function(){this.elements.thumb.container=he("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=he("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);var e=he("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=he("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.container.appendChild(e),Z(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=he("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}},{key:"destroy",value:function(){this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}},{key:"showImageAtCurrentTime",value:function(){var e=this;this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();var t=this.thumbnails[0].frames.findIndex((function(t){return e.seekTime>=t.startTime&&e.seekTime<=t.endTime})),n=t>=0,i=0;this.mouseDown||this.toggleThumbContainer(n),n&&(this.thumbnails.forEach((function(n,r){e.loadedImages.includes(n.frames[t].text)&&(i=r)})),t!==this.showingThumb&&(this.showingThumb=t,this.loadImage(i)))}},{key:"loadImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.showingThumb,i=this.thumbnails[t],r=i.urlPrefix,a=i.frames[n],o=i.frames[n].text,s=r+o;if(this.currentImageElement&&this.currentImageElement.dataset.filename===o)this.showImage(this.currentImageElement,a,t,n,o,!1),this.currentImageElement.dataset.index=n,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);var u=new Image;u.src=s,u.dataset.index=n,u.dataset.filename=o,this.showingThumbFilename=o,this.player.debug.log("Loading image: ".concat(s)),u.onload=function(){return e.showImage(u,a,t,n,o,!0)},this.loadingImage=u,this.removeOldImages(u)}}},{key:"showImage",value:function(e,t,n,i,r){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];this.player.debug.log("Showing thumb: ".concat(r,". num: ").concat(i,". qual: ").concat(n,". newimg: ").concat(a)),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(r)||this.loadedImages.push(r)),this.preloadNearby(i,!0).then(this.preloadNearby(i,!1)).then(this.getHigherQuality(n,e,t,r))}},{key:"removeOldImages",value:function(e){var t=this;Array.from(this.currentImageContainer.children).forEach((function(n){if("img"===n.tagName.toLowerCase()){var i=t.usingSprites?500:1e3;if(n.dataset.index!==e.dataset.index&&!n.dataset.deleting){n.dataset.deleting=!0;var r=t.currentImageContainer;setTimeout((function(){r.removeChild(n),t.player.debug.log("Removing thumb: ".concat(n.dataset.filename))}),i)}}}))}},{key:"preloadNearby",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(i){setTimeout((function(){var r=t.thumbnails[0].frames[e].text;if(t.showingThumbFilename===r){var a;a=n?t.thumbnails[0].frames.slice(e):t.thumbnails[0].frames.slice(0,e).reverse();var o=!1;a.forEach((function(e){var n=e.text;if(n!==r&&!t.loadedImages.includes(n)){o=!0,t.player.debug.log("Preloading thumb filename: ".concat(n));var a=t.thumbnails[0].urlPrefix+n,s=new Image;s.src=a,s.onload=function(){t.player.debug.log("Preloaded thumb filename: ".concat(n)),t.loadedImages.includes(n)||t.loadedImages.push(n),i()}}})),o||i()}}),300)}))}},{key:"getHigherQuality",value:function(e,t,n,i){var r=this;if(e<this.thumbnails.length-1){var a=t.naturalHeight;this.usingSprites&&(a=n.h),a<this.thumbContainerHeight&&setTimeout((function(){r.showingThumbFilename===i&&(r.player.debug.log("Showing higher quality thumb for: ".concat(i)),r.loadImage(e+1))}),300)}}},{key:"toggleThumbContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(n,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"toggleScrubbingContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}},{key:"determineContainerAutoSizing",value:function(){(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}},{key:"setThumbContainerSizeAndPos",value:function(){if(this.sizeSpecifiedInCSS){if(this.elements.thumb.imageContainer.clientHeight>20&&this.elements.thumb.imageContainer.clientWidth<20){var e=Math.floor(this.elements.thumb.imageContainer.clientHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.width="".concat(e,"px")}else if(this.elements.thumb.imageContainer.clientHeight<20&&this.elements.thumb.imageContainer.clientWidth>20){var t=Math.floor(this.elements.thumb.imageContainer.clientWidth/this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(t,"px")}}else{var n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);this.elements.thumb.imageContainer.style.height="".concat(this.thumbContainerHeight,"px"),this.elements.thumb.imageContainer.style.width="".concat(n,"px")}this.setThumbContainerPos()}},{key:"setThumbContainerPos",value:function(){var e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),n=this.elements.thumb.container,i=t.left-e.left+10,r=t.right-e.left-n.clientWidth-10,a=this.mousePosX-e.left-n.clientWidth/2;a<i&&(a=i),a>r&&(a=r),n.style.left="".concat(a,"px")}},{key:"setScrubbingContainerSize",value:function(){var e=Mt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}),t=e.width,n=e.height;this.elements.scrubbing.container.style.width="".concat(t,"px"),this.elements.scrubbing.container.style.height="".concat(n,"px")}},{key:"setImageSizeAndOffset",value:function(e,t){if(this.usingSprites){var n=this.thumbContainerHeight/t.h;e.style.height="".concat(e.naturalHeight*n,"px"),e.style.width="".concat(e.naturalWidth*n,"px"),e.style.left="-".concat(t.x*n,"px"),e.style.top="-".concat(t.y*n,"px")}}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}},{key:"currentImageContainer",get:function(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}},{key:"usingSprites",get:function(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}},{key:"thumbAspectRatio",get:function(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}},{key:"thumbContainerHeight",get:function(){return this.mouseDown?Mt(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight}).height:this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}},{key:"currentImageElement",get:function(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement},set:function(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}]),t}(),Dt={insertElements:function(e,t){var n=this;W(t)?pe(e,this.media,{src:t}):J(t)&&t.forEach((function(t){pe(e,n.media,t)}))},change:function(e){var t=this;ce(e,"sources.length")?(He.cancelRequests.call(this),this.destroy.call(this,(function(){t.options.quality=[],me(t.media),t.media=null,Z(t.elements.container)&&t.elements.container.removeAttribute("class");var n=e.sources,i=e.type,r=u(n,1)[0],a=r.provider,o=void 0===a?dt.html5:a,s=r.src,c="html5"===o?i:"div",l="html5"===o?{}:{src:s};Object.assign(t,{provider:o,type:i,supported:Ce.check(i,o,t.config.playsinline),media:he(c,l)}),t.elements.container.appendChild(t.media),X(e.autoplay)&&(t.config.autoplay=e.autoplay),t.isHTML5&&(t.config.crossorigin&&t.media.setAttribute("crossorigin",""),t.config.autoplay&&t.media.setAttribute("autoplay",""),ae(e.poster)||(t.poster=e.poster),t.config.loop.active&&t.media.setAttribute("loop",""),t.config.muted&&t.media.setAttribute("muted",""),t.config.playsinline&&t.media.setAttribute("playsinline","")),yt.addStyleHook.call(t),t.isHTML5&&Dt.insertElements.call(t,"source",n),t.config.title=e.title,Ct.setup.call(t),t.isHTML5&&Object.keys(e).includes("tracks")&&Dt.insertElements.call(t,"track",e.tracks),(t.isHTML5||t.isEmbed&&!t.supported.ui)&&yt.build.call(t),t.isHTML5&&t.media.load(),ae(e.previewThumbnails)||(Object.assign(t.config.previewThumbnails,e.previewThumbnails),t.previewThumbnails&&t.previewThumbnails.loaded&&(t.previewThumbnails.destroy(),t.previewThumbnails=null),t.config.previewThumbnails.enabled&&(t.previewThumbnails=new Pt(t))),t.fullscreen.update()}),!0)):this.debug.warn("Invalid source format")}},Ot=function(){function t(n,i){var r=this;if(e(this,t),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=Ce.touch,this.media=n,W(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||Q(this.media)||J(this.media))&&(this.media=this.media[0]),this.config=le({},ut,t.defaults,i||{},function(){try{return JSON.parse(r.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new mt(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",Ce),!$(this.media)&&Z(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(Ce.check().api){var a=this.media.cloneNode(!0);a.autoplay=!1,this.elements.original=a;var o=this.media.tagName.toLowerCase(),s=null,u=null;switch(o){case"div":if(s=this.media.querySelector("iframe"),Z(s)){if(u=at(s.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?dt.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?dt.vimeo:null}(u.toString()),this.elements.container=this.media,this.media=s,this.elements.container.className="",u.search.length){var c=["1","true"];c.includes(u.searchParams.get("autoplay"))&&(this.config.autoplay=!0),c.includes(u.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=c.includes(u.searchParams.get("playsinline")),this.config.youtube.hl=u.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(ae(this.provider)||!Object.keys(dt).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=ht;break;case"video":case"audio":this.type=o,this.provider=dt.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=Ce.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new bt(this),this.storage=new Je(this),this.media.plyr=this,Z(this.elements.container)||(this.elements.container=he("div",{tabindex:0}),de(this.media,this.elements.container)),yt.migrateStyles.call(this),yt.addStyleHook.call(this),Ct.setup.call(this),this.config.debug&&Pe.call(this,this.elements.container,this.config.events.join(" "),(function(e){r.debug.log("event: ".concat(e.type))})),this.fullscreen=new gt(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&yt.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new It(this)),this.isHTML5&&this.config.autoplay&&setTimeout((function(){return Ue(r.play())}),10),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new Pt(this))):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return i(t,[{key:"play",value:function(){var e=this;return Y(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then((function(){return e.ads.play()})).catch((function(){return Ue(e.media.play())})),this.media.play()):null}},{key:"pause",value:function(){return this.playing&&Y(this.media.pause)?this.media.pause():null}},{key:"togglePlay",value:function(e){return(X(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):Y(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime-=K(e)?e:this.config.seekTime}},{key:"forward",value:function(e){this.currentTime+=K(e)?e:this.config.seekTime}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(K(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){st.toggle.call(this,e,!1)}},{key:"airplay",value:function(){Ce.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=Te(this.elements.container,this.config.classNames.hideControls),n=void 0===e?void 0:!e,i=we(this.elements.container,this.config.classNames.hideControls,n);if(i&&J(this.config.controls)&&this.config.controls.includes("settings")&&!ae(this.config.settings)&&rt.toggleMenu.call(this,!1),i!==t){var r=i?"controlshidden":"controlsshown";Re.call(this,this.media,r)}return!i}return!1}},{key:"on",value:function(e,t){Pe.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){Oe.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){De(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ready){var i=function(){document.body.style.overflow="",t.embed=null,n?(Object.keys(t.elements).length&&(me(t.elements.buttons.play),me(t.elements.captions),me(t.elements.controls),me(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),Y(e)&&e()):(Ne.call(t),ve(t.elements.original,t.elements.container),Re.call(t,t.elements.original,"destroyed",!0),Y(e)&&e.call(t.elements.original),t.ready=!1,setTimeout((function(){t.elements=null,t.media=null}),200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(yt.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&Y(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}}},{key:"supports",value:function(e){return Ce.mime.call(this,e)}},{key:"isHTML5",get:function(){return this.provider===dt.html5}},{key:"isEmbed",get:function(){return this.isYouTube||this.isVimeo}},{key:"isYouTube",get:function(){return this.provider===dt.youtube}},{key:"isVimeo",get:function(){return this.provider===dt.vimeo}},{key:"isVideo",get:function(){return this.type===ht}},{key:"isAudio",get:function(){return this.type===ft}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=K(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return K(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,n=K(t)&&t!==1/0?t:0;return e||n}},{key:"volume",set:function(e){var t=e;W(t)&&(t=Number(t)),K(t)||(t=this.storage.get("volume")),K(t)||(t=this.config.volume),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!ae(e)&&this.muted&&t>0&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;X(t)||(t=this.storage.get("muted")),X(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}},{key:"speed",set:function(e){var t=this,n=null;K(e)&&(n=e),K(n)||(n=this.storage.get("speed")),K(n)||(n=this.config.speed.selected);var i=this.minimumSpeed,r=this.maximumSpeed;n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.min(Math.max(e,t),n)}(n,i,r),this.config.speed.selected=n,setTimeout((function(){t.media.playbackRate=n}),0)},get:function(){return Number(this.media.playbackRate)}},{key:"minimumSpeed",get:function(){return this.isYouTube?Math.min.apply(Math,c(this.options.speed)):this.isVimeo?.5:.0625}},{key:"maximumSpeed",get:function(){return this.isYouTube?Math.max.apply(Math,c(this.options.speed)):this.isVimeo?2:16}},{key:"quality",set:function(e){var t=this.config.quality,n=this.options.quality;if(n.length){var i=[!ae(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(K),r=!0;if(!n.includes(i)){var a=function(e,t){return J(e)&&e.length?e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e})):null}(n,i);this.debug.warn("Unsupported quality option: ".concat(i,", using ").concat(a," instead")),i=a,r=!1}t.selected=i,this.media.quality=i,r&&this.storage.set({quality:i})}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=X(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){Dt.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return re(e)?e:this.source},set:function(e){re(e)&&(this.config.urls.download=e,rt.setDownloadUrl.call(this))}},{key:"poster",set:function(e){this.isVideo?yt.setPoster.call(this,e,!1).catch((function(){})):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}},{key:"ratio",get:function(){if(!this.isVideo)return null;var e=Fe(Be.call(this));return J(e)?e.join(":"):e},set:function(e){this.isVideo?W(e)&&je(e)?(this.config.ratio=e,Ve.call(this)):this.debug.error("Invalid aspect ratio specified (".concat(e,")")):this.debug.warn("Aspect ratio can only be set for video")}},{key:"autoplay",set:function(e){var t=X(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){st.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,n=e.currentTrack;return t?n:-1}},{key:"language",set:function(e){st.setLanguage.call(this,e,!1)},get:function(){return(st.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){if(Ce.pip){var t=X(e)?e:!this.pip;Y(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?ct:lt),Y(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}},get:function(){return Ce.pip?ae(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===ct:null}}],[{key:"supported",value:function(e,t,n){return Ce.check(e,t,n)}},{key:"loadSprite",value:function(e,t){return Ze(e,t)}},{key:"setup",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null;return W(e)?i=Array.from(document.querySelectorAll(e)):Q(e)?i=Array.from(e):J(e)&&(i=e.filter(Z)),ae(i)?null:i.map((function(e){return new t(e,n)}))}}]),t}();return Ot.defaults=(At=ut,JSON.parse(JSON.stringify(At))),Ot}))}).call(this,n("c8ba"))},"4fcf":function(e,t,n){"use strict";var i,r=n("4329"),a=n("36c6").ONE_SECOND_IN_TS,o=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=function(e){var t,n=0;i.prototype.init.call(this),this.push=function(i){var r,s,u,c,l,d,f=0;if(e||(n=0),"audio"===i.type){t?(c=t,t=new Uint8Array(c.byteLength+i.data.byteLength),t.set(c),t.set(i.data,c.byteLength)):t=i.data;while(f+5<t.length)if(255===t[f]&&240===(246&t[f+1])){if(s=2*(1&~t[f+1]),r=(3&t[f+3])<<11|t[f+4]<<3|(224&t[f+5])>>5,l=1024*(1+(3&t[f+6])),d=l*a/o[(60&t[f+2])>>>2],u=f+r,t.byteLength<u)return;if(this.trigger("data",{pts:i.pts+n*d,dts:i.dts+n*d,sampleCount:l,audioobjecttype:1+(t[f+2]>>>6&3),channelcount:(1&t[f+2])<<2|(192&t[f+3])>>>6,samplerate:o[(60&t[f+2])>>>2],samplingfrequencyindex:(60&t[f+2])>>>2,samplesize:16,data:t.subarray(f+7+s,u)}),n++,t.byteLength===u)return void(t=void 0);t=t.subarray(u)}else f++}},this.flush=function(){n=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},i.prototype=new r,e.exports=i},"50c4":function(e,t,n){var i=n("a691"),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},5135:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},5692:function(e,t,n){var i=n("c430"),r=n("c6cd");(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(e,t,n){var i=n("d066"),r=n("241c"),a=n("7418"),o=n("825a");e.exports=i("Reflect","ownKeys")||function(e){var t=r.f(o(e)),n=a.f;return n?t.concat(n(e)):t}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var i=n("1d80"),r=n("5899"),a="["+r+"]",o=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),u=function(e){return function(t){var n=String(i(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},"5a34":function(e,t,n){var i=n("44e7");e.exports=function(e){if(i(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5bc0":function(e,t,n){"use strict";var i,r=n("4329"),a=n("ae75"),o=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},s=function(e,t,n){return decodeURIComponent(o(e,t,n))},u=function(e,t,n){return unescape(o(e,t,n))},c=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},l={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.value=s(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=s(e.data,1,t),e.url=s(e.data,t+1,e.data.length);break}},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=u(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};i=function(e){var t,n={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},r=0,o=[],s=0;if(i.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),n.descriptor)for(t=0;t<n.descriptor.length;t++)this.dispatchType+=("00"+n.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,a,u,d,f;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(s=0,o.length=0),0===o.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))n.debug&&console.log("Skipping unrecognized metadata packet");else if(o.push(e),s+=e.data.byteLength,1===o.length&&(r=c(e.data.subarray(6,10)),r+=10),!(s<r)){for(t={data:new Uint8Array(r),frames:[],pts:o[0].pts,dts:o[0].dts},d=0;d<r;)t.data.set(o[0].data.subarray(0,r-d),d),d+=o[0].data.byteLength,s-=o[0].data.byteLength,o.shift();i=10,64&t.data[5]&&(i+=4,i+=c(t.data.subarray(10,14)),r-=c(t.data.subarray(16,20)));do{if(a=c(t.data.subarray(i+4,i+8)),a<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if(f=String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),u={id:f,data:t.data.subarray(i+10,i+a+10)},u.key=u.id,l[u.id]&&(l[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var h=u.data,p=(1&h[3])<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;p*=4,p+=3&h[7],u.timeStamp=p,void 0===t.pts&&void 0===t.dts&&(t.pts=u.timeStamp,t.dts=u.timeStamp),this.trigger("timestamp",u)}t.frames.push(u),i+=10,i+=a}while(i<r);this.trigger("data",t)}}},i.prototype=new r,e.exports=i},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5fb2":function(e,t,n){"use strict";var i=2147483647,r=36,a=1,o=26,s=38,u=700,c=72,l=128,d="-",f=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",m=r-a,g=Math.floor,v=String.fromCharCode,y=function(e){var t=[],n=0,i=e.length;while(n<i){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),n--)}else t.push(r)}return t},b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var i=0;for(e=n?g(e/u):e>>1,e+=g(e/t);e>m*o>>1;i+=r)e=g(e/m);return g(i+(m+1)*e/(e+s))},T=function(e){var t=[];e=y(e);var n,s,u=e.length,f=l,h=0,m=c;for(n=0;n<e.length;n++)s=e[n],s<128&&t.push(v(s));var T=t.length,S=T;T&&t.push(d);while(S<u){var x=i;for(n=0;n<e.length;n++)s=e[n],s>=f&&s<x&&(x=s);var k=S+1;if(x-f>g((i-h)/k))throw RangeError(p);for(h+=(x-f)*k,f=x,n=0;n<e.length;n++){if(s=e[n],s<f&&++h>i)throw RangeError(p);if(s==f){for(var E=h,A=r;;A+=r){var _=A<=m?a:A>=m+o?o:A-m;if(E<_)break;var C=E-_,I=r-_;t.push(v(b(_+C%I))),E=g(C/I)}t.push(v(b(E))),m=w(h,k,S==T),h=0,++S}}++h,++f}return t.join("")};e.exports=function(e){var t,n,i=[],r=e.toLowerCase().replace(h,".").split(".");for(t=0;t<r.length;t++)n=r[t],i.push(f.test(n)?"xn--"+T(n):n);return i.join(".")}},"60da":function(e,t,n){"use strict";var i=n("83ab"),r=n("d039"),a=n("df75"),o=n("7418"),s=n("d1e7"),u=n("7b0b"),c=n("44ad"),l=Object.assign,d=Object.defineProperty;e.exports=!l||r((function(){if(i&&1!==l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||a(l({},t)).join("")!=r}))?function(e,t){var n=u(e),r=arguments.length,l=1,d=o.f,f=s.f;while(r>l){var h,p=c(arguments[l++]),m=d?a(p).concat(d(p)):a(p),g=m.length,v=0;while(g>v)h=m[v++],i&&!f.call(p,h)||(n[h]=p[h])}return n}:l},"631a":function(e,t,n){"use strict";var i,r,a,o=n("4329"),s=n("3240");r=function(){var e,t,n=0;r.prototype.init.call(this),this.push=function(i){var r;t?(r=new Uint8Array(t.byteLength+i.data.byteLength),r.set(t),r.set(i.data,t.byteLength),t=r):t=i.data;for(var a=t.byteLength;n<a-3;n++)if(1===t[n+2]){e=n+5;break}while(e<a)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}n+3!==e-2&&this.trigger("data",t.subarray(n+3,e-2));do{e++}while(1!==t[e]&&e<a);n=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(n+3,e-2)),n=e-2,e+=3;break;default:e+=3;break}t=t.subarray(n),e-=n,n=0},this.reset=function(){t=null,n=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(n+3)),t=null,n=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},r.prototype=new o,a={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},i=function(){var e,t,n,o,u,c,l,d=new r;i.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,n=e.pts,o=e.dts,d.push(e))},d.on("data",(function(i){var r={trackId:t,pts:n,dts:o,data:i};switch(31&i[0]){case 5:r.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:r.nalUnitType="sei_rbsp",r.escapedRBSP=u(i.subarray(1));break;case 7:r.nalUnitType="seq_parameter_set_rbsp",r.escapedRBSP=u(i.subarray(1)),r.config=c(r.escapedRBSP);break;case 8:r.nalUnitType="pic_parameter_set_rbsp";break;case 9:r.nalUnitType="access_unit_delimiter_rbsp";break;default:break}e.trigger("data",r)})),d.on("done",(function(){e.trigger("done")})),d.on("partialdone",(function(){e.trigger("partialdone")})),d.on("reset",(function(){e.trigger("reset")})),d.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){d.flush()},this.partialFlush=function(){d.partialFlush()},this.reset=function(){d.reset()},this.endTimeline=function(){d.endTimeline()},l=function(e,t){var n,i,r=8,a=8;for(n=0;n<e;n++)0!==a&&(i=t.readExpGolomb(),a=(r+i+256)%256),r=0===a?r:a},u=function(e){var t,n,i=e.byteLength,r=[],a=1;while(a<i-2)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=e[o];return n},c=function(e){var t,n,i,r,o,u,c,d,f,h,p,m,g,v,y=0,b=0,w=0,T=0,S=1;if(t=new s(e),n=t.readUnsignedByte(),r=t.readUnsignedByte(),i=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),a[n]&&(o=t.readUnsignedExpGolomb(),3===o&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(p=3!==o?8:12,v=0;v<p;v++)t.readBoolean()&&l(v<6?16:64,t);if(t.skipUnsignedExpGolomb(),u=t.readUnsignedExpGolomb(),0===u)t.readUnsignedExpGolomb();else if(1===u)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),c=t.readUnsignedExpGolomb(),v=0;v<c;v++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),d=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),h=t.readBits(1),0===h&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(y=t.readUnsignedExpGolomb(),b=t.readUnsignedExpGolomb(),w=t.readUnsignedExpGolomb(),T=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(g=t.readUnsignedByte(),g){case 1:m=[1,1];break;case 2:m=[12,11];break;case 3:m=[10,11];break;case 4:m=[16,11];break;case 5:m=[40,33];break;case 6:m=[24,11];break;case 7:m=[20,11];break;case 8:m=[32,11];break;case 9:m=[80,33];break;case 10:m=[18,11];break;case 11:m=[15,11];break;case 12:m=[64,33];break;case 13:m=[160,99];break;case 14:m=[4,3];break;case 15:m=[3,2];break;case 16:m=[2,1];break;case 255:m=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()];break}m&&(S=m[0]/m[1])}return{profileIdc:n,levelIdc:i,profileCompatibility:r,width:Math.ceil((16*(d+1)-2*y-2*b)*S),height:(2-h)*(f+1)*16-2*w-2*T,sarRatio:m}}},i.prototype=new o,e.exports={H264Stream:i,NalByteStream:r}},6547:function(e,t,n){var i=n("a691"),r=n("1d80"),a=function(e){return function(t,n){var a,o,s=String(r(t)),u=i(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}};e.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(e,t,n){var i=n("861d"),r=n("e8b5"),a=n("b622"),o=a("species");e.exports=function(e,t){var n;return r(e)&&(n=e.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},6909:function(e,t,n){"use strict";var i={codecs:n("3982"),mp4:n("28e5"),flv:n("6d5a"),mp2t:n("b116"),partial:n("f911")};i.mp4.tools=n("9afa"),i.flv.tools=n("75a4"),i.mp2t.tools=n("dc3e"),e.exports=i},"69f3":function(e,t,n){var i,r,a,o=n("7f9a"),s=n("da84"),u=n("861d"),c=n("9112"),l=n("5135"),d=n("f772"),f=n("d012"),h=s.WeakMap,p=function(e){return a(e)?r(e):i(e,{})},m=function(e){return function(t){var n;if(!u(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(o){var g=new h,v=g.get,y=g.has,b=g.set;i=function(e,t){return b.call(g,e,t),t},r=function(e){return v.call(g,e)||{}},a=function(e){return y.call(g,e)}}else{var w=d("state");f[w]=!0,i=function(e,t){return c(e,w,t),t},r=function(e){return l(e,w)?e[w]:{}},a=function(e){return l(e,w)}}e.exports={set:i,get:r,has:a,enforce:p,getterFor:m}},"6d5a":function(e,t,n){e.exports={tag:n("d7ba"),Transmuxer:n("847a"),getFlvHeader:n("b046")}},"6eeb":function(e,t,n){var i=n("da84"),r=n("9112"),a=n("5135"),o=n("ce4e"),s=n("8925"),u=n("69f3"),c=u.get,l=u.enforce,d=String(String).split("String");(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||r(n,"name",t),l(n).source=d.join("string"==typeof t?t:"")),e!==i?(u?!f&&e[t]&&(c=!0):delete e[t],c?e[t]=n:r(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7156:function(e,t,n){var i=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var a,o;return r&&"function"==typeof(a=t.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(e,o),e}},7418:function(e,t){t.f=Object.getOwnPropertySymbols},"75a4":function(e,t,n){"use strict";var i={8:"audio",9:"video",18:"metadata"},r=function(e){return"0x"+("00"+e.toString(16)).slice(-2).toUpperCase()},a=function(e){var t,n=[];while(e.byteLength>0)t=0,n.push(r(e[t++])),e=e.subarray(t);return n.join(" ")},o=function(e,t){var n=["AVC Sequence Header","AVC NALU","AVC End-of-Sequence"],i=e[1]&parseInt("01111111",2)<<16|e[2]<<8|e[3];return t=t||{},t.avcPacketType=n[e[0]],t.CompositionTime=e[1]&parseInt("10000000",2)?-i:i,1===e[0]?t.nalUnitTypeRaw=a(e.subarray(4,100)):t.data=a(e.subarray(4)),t},s=function(e,t){var n=["Unknown","Keyframe (for AVC, a seekable frame)","Inter frame (for AVC, a nonseekable frame)","Disposable inter frame (H.263 only)","Generated keyframe (reserved for server use only)","Video info/command frame"],i=e[0]&parseInt("00001111",2);return t=t||{},t.frameType=n[(e[0]&parseInt("11110000",2))>>>4],t.codecID=i,7===i?o(e.subarray(1),t):t},u=function(e,t){var n=["AAC Sequence Header","AAC Raw"];return t=t||{},t.aacPacketType=n[e[0]],t.data=a(e.subarray(1)),t},c=function(e,t){var n=["Linear PCM, platform endian","ADPCM","MP3","Linear PCM, little endian","Nellymoser 16-kHz mono","Nellymoser 8-kHz mono","Nellymoser","G.711 A-law logarithmic PCM","G.711 mu-law logarithmic PCM","reserved","AAC","Speex","MP3 8-Khz","Device-specific sound"],i=["5.5-kHz","11-kHz","22-kHz","44-kHz"],r=(e[0]&parseInt("11110000",2))>>>4;return t=t||{},t.soundFormat=n[r],t.soundRate=i[(e[0]&parseInt("00001100",2))>>>2],t.soundSize=(e[0]&parseInt("00000010",2))>>>1?"16-bit":"8-bit",t.soundType=e[0]&parseInt("00000001",2)?"Stereo":"Mono",10===r?u(e.subarray(1),t):t},l=function(e){return{tagType:i[e[0]],dataSize:e[1]<<16|e[2]<<8|e[3],timestamp:e[7]<<24|e[4]<<16|e[5]<<8|e[6],streamID:e[8]<<16|e[9]<<8|e[10]}},d=function(e){var t=l(e);switch(e[0]){case 8:c(e.subarray(11),t);break;case 9:s(e.subarray(11),t);break;case 18:}return t},f=function(e){var t,n,i=9,r=[];i+=4;while(i<e.byteLength)t=e[i+1]<<16,t|=e[i+2]<<8,t|=e[i+3],t+=11,n=e.subarray(i,i+t),r.push(d(n)),i+=t+4;return r},h=function(e){return JSON.stringify(e,null,2)};e.exports={inspectTag:d,inspect:f,textify:h}},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(e,t,n){var i=n("1d80");e.exports=function(e){return Object(i(e))}},"7c73":function(e,t,n){var i,r=n("825a"),a=n("37e8"),o=n("7839"),s=n("d012"),u=n("1be4"),c=n("cc12"),l=n("f772"),d=">",f="<",h="prototype",p="script",m=l("IE_PROTO"),g=function(){},v=function(e){return f+p+d+e+f+"/"+p+d},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=c("iframe"),n="java"+p+":";return t.style.display="none",u.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}w=i?y(i):b();var e=o.length;while(e--)delete w[h][o[e]];return w()};s[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[h]=r(e),n=new g,g[h]=null,n[m]=e):n=w(),void 0===t?n:a(n,t)}},"7dd0":function(e,t,n){"use strict";var i=n("23e7"),r=n("9ed3"),a=n("e163"),o=n("d2bb"),s=n("d44e"),u=n("9112"),c=n("6eeb"),l=n("b622"),d=n("c430"),f=n("3f8c"),h=n("ae93"),p=h.IteratorPrototype,m=h.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v="keys",y="values",b="entries",w=function(){return this};e.exports=function(e,t,n,l,h,T,S){r(n,t,l);var x,k,E,A=function(e){if(e===h&&P)return P;if(!m&&e in I)return I[e];switch(e){case v:return function(){return new n(this,e)};case y:return function(){return new n(this,e)};case b:return function(){return new n(this,e)}}return function(){return new n(this)}},_=t+" Iterator",C=!1,I=e.prototype,M=I[g]||I["@@iterator"]||h&&I[h],P=!m&&M||A(h),D="Array"==t&&I.entries||M;if(D&&(x=a(D.call(new e)),p!==Object.prototype&&x.next&&(d||a(x)===p||(o?o(x,p):"function"!=typeof x[g]&&u(x,g,w)),s(x,_,!0,!0),d&&(f[_]=w))),h==y&&M&&M.name!==y&&(C=!0,P=function(){return M.call(this)}),d&&!S||I[g]===P||u(I,g,P),f[t]=P,h)if(k={values:A(y),keys:T?P:A(v),entries:A(b)},S)for(E in k)(m||C||!(E in I))&&c(I,E,k[E]);else i({target:t,proto:!0,forced:m||C},k);return k}},"7e10":function(e,t){var n,i=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){var t=[];while(e--)t.push(0);return t},o=function(e){return Object.keys(e).reduce((function(t,n){return t[n]=new Uint8Array(e[n].reduce((function(e,t){return e.concat(t)}),[])),t}),{})};e.exports=function(){if(!n){var e={96e3:[i,[227,64],a(154),[56]],88200:[i,[231],a(170),[56]],64e3:[i,[248,192],a(240),[56]],48e3:[i,[255,192],a(268),[55,148,128],a(54),[112]],44100:[i,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[i,[255,192],a(268),[55,234],a(226),[112]],24e3:[i,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[i,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[r,a(268),[3,121,16],a(47),[7]]};n=o(e)}return n}},"7f9a":function(e,t,n){var i=n("da84"),r=n("8925"),a=i.WeakMap;e.exports="function"===typeof a&&/native code/.test(r(a))},"7fe1":function(e,t){var n=function(e){return e>>>0},i=function(e){return("00"+e.toString(16)).slice(-2)};e.exports={toUnsigned:n,toHexString:i}},"81c0":function(e,t){var n=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8),earliestPresentationTime:n.getUint32(12),firstOffset:n.getUint32(16)},r=n.getUint16(22);for(t=24;r;t+=12,r--)i.references.push({referenceType:(128&e[t])>>>7,referencedSize:2147483647&n.getUint32(t),subsegmentDuration:n.getUint32(t+4),startsWithSap:!!(128&e[t+8]),sapType:(112&e[t+8])>>>4,sapDeltaTime:268435455&n.getUint32(t+8)});return i};e.exports=n},"825a":function(e,t,n){var i=n("861d");e.exports=function(e){if(!i(e))throw TypeError(String(e)+" is not an object");return e}},"83ab":function(e,t,n){var i=n("d039");e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var i=n("c04e"),r=n("9bf2"),a=n("5c6c");e.exports=function(e,t,n){var o=i(t);o in e?r.f(e,o,a(0,n)):e[o]=n}},"841c":function(e,t,n){"use strict";var i=n("d784"),r=n("825a"),a=n("1d80"),o=n("129f"),s=n("14c3");i("search",1,(function(e,t,n){return[function(t){var n=a(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var a=r(e),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=s(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},"847a":function(e,t,n){"use strict";var i,r,a,o,s,u,c=n("4329"),l=n("d7ba"),d=n("0ea2"),f=n("4fcf"),h=n("631a").H264Stream,p=n("1c05"),m=n("ae54");o=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},s=function(e,t){var n=new l(l.METADATA_TAG);return n.dts=t,n.pts=t,n.writeMetaDataDouble("videocodecid",7),n.writeMetaDataDouble("width",e.width),n.writeMetaDataDouble("height",e.height),n},u=function(e,t){var n,i=new l(l.VIDEO_TAG,!0);for(i.dts=t,i.pts=t,i.writeByte(1),i.writeByte(e.profileIdc),i.writeByte(e.profileCompatibility),i.writeByte(e.levelIdc),i.writeByte(255),i.writeByte(225),i.writeShort(e.sps[0].length),i.writeBytes(e.sps[0]),i.writeByte(e.pps.length),n=0;n<e.pps.length;++n)i.writeShort(e.pps[n].length),i.writeBytes(e.pps[n]);return i},a=function(e){var t,n=[],i=[];a.prototype.init.call(this),this.push=function(t){o(e,t),e&&(e.audioobjecttype=t.audioobjecttype,e.channelcount=t.channelcount,e.samplerate=t.samplerate,e.samplingfrequencyindex=t.samplingfrequencyindex,e.samplesize=t.samplesize,e.extraData=e.audioobjecttype<<11|e.samplingfrequencyindex<<7|e.channelcount<<3),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),n.push(t)},this.flush=function(){var r,a,o,s=new m;if(0!==n.length){o=-1/0;while(n.length)r=n.shift(),i.length&&r.pts>=i[0]&&(o=i.shift(),this.writeMetaDataTags(s,o)),(e.extraData!==t||r.pts-o>=1e3)&&(this.writeMetaDataTags(s,r.pts),t=e.extraData,o=r.pts),a=new l(l.AUDIO_TAG),a.pts=r.pts,a.dts=r.dts,a.writeBytes(r.data),s.push(a.finalize());i.length=0,t=null,this.trigger("data",{track:e,tags:s.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(t,n){var i;i=new l(l.METADATA_TAG),i.pts=n,i.dts=n,i.writeMetaDataDouble("audiocodecid",10),i.writeMetaDataBoolean("stereo",2===e.channelcount),i.writeMetaDataDouble("audiosamplerate",e.samplerate),i.writeMetaDataDouble("audiosamplesize",16),t.push(i.finalize()),i=new l(l.AUDIO_TAG,!0),i.pts=n,i.dts=n,i.view.setUint16(i.position,e.extraData),i.position+=2,i.length=Math.max(i.length,i.position),t.push(i.finalize())},this.onVideoKeyFrame=function(e){i.push(e)}},a.prototype=new c,r=function(e){var t,n,i=[];r.prototype.init.call(this),this.finishFrame=function(i,r){if(r){if(t&&e&&e.newMetadata&&(r.keyFrame||0===i.length)){var a=s(t,r.dts).finalize(),o=u(e,r.dts).finalize();a.metaDataTag=o.metaDataTag=!0,i.push(a),i.push(o),e.newMetadata=!1,this.trigger("keyframe",r.dts)}r.endNalUnit(),i.push(r.finalize()),n=null}},this.push=function(t){o(e,t),t.pts=Math.round(t.pts/90),t.dts=Math.round(t.dts/90),i.push(t)},this.flush=function(){var r,a=new m;while(i.length){if("access_unit_delimiter_rbsp"===i[0].nalUnitType)break;i.shift()}if(0!==i.length){while(i.length)r=i.shift(),"seq_parameter_set_rbsp"===r.nalUnitType?(e.newMetadata=!0,t=r.config,e.width=t.width,e.height=t.height,e.sps=[r.data],e.profileIdc=t.profileIdc,e.levelIdc=t.levelIdc,e.profileCompatibility=t.profileCompatibility,n.endNalUnit()):"pic_parameter_set_rbsp"===r.nalUnitType?(e.newMetadata=!0,e.pps=[r.data],n.endNalUnit()):"access_unit_delimiter_rbsp"===r.nalUnitType?(n&&this.finishFrame(a,n),n=new l(l.VIDEO_TAG),n.pts=r.pts,n.dts=r.dts):("slice_layer_without_partitioning_rbsp_idr"===r.nalUnitType&&(n.keyFrame=!0),n.endNalUnit()),n.startNalUnit(),n.writeBytes(r.data);n&&this.finishFrame(a,n),this.trigger("data",{track:e,tags:a.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}},r.prototype=new c,i=function(e){var t,n,o,s,u,c,l,m,g,v,y,b,w=this;i.prototype.init.call(this),e=e||{},this.metadataStream=new d.MetadataStream,e.metadataStream=this.metadataStream,t=new d.TransportPacketStream,n=new d.TransportParseStream,o=new d.ElementaryStream,s=new d.TimestampRolloverStream("video"),u=new d.TimestampRolloverStream("audio"),c=new d.TimestampRolloverStream("timed-metadata"),l=new f,m=new h,b=new p(e),t.pipe(n).pipe(o),o.pipe(s).pipe(m),o.pipe(u).pipe(l),o.pipe(c).pipe(this.metadataStream).pipe(b),y=new d.CaptionStream,m.pipe(y).pipe(b),o.on("data",(function(e){var t,n,i;if("metadata"===e.type){t=e.tracks.length;while(t--)"video"===e.tracks[t].type?n=e.tracks[t]:"audio"===e.tracks[t].type&&(i=e.tracks[t]);n&&!g&&(b.numberOfTracks++,g=new r(n),m.pipe(g).pipe(b)),i&&!v&&(b.numberOfTracks++,v=new a(i),l.pipe(v).pipe(b),g&&g.on("keyframe",v.onVideoKeyFrame))}})),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){y.reset()},b.on("data",(function(e){w.trigger("data",e)})),b.on("done",(function(){w.trigger("done")}))},i.prototype=new c,e.exports=i},"861d":function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},8925:function(e,t,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(e){return r.call(e)}),e.exports=i.inspectSource},"8a2d":function(e,t,n){var i=n("cf23"),r=function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},r=new DataView(e.buffer,e.byteOffset,e.byteLength),a=1&n.flags[2],o=4&n.flags[2],s=1&n.flags[1],u=2&n.flags[1],c=4&n.flags[1],l=8&n.flags[1],d=r.getUint32(4),f=8;a&&(n.dataOffset=r.getInt32(f),f+=4),o&&d&&(t={flags:i(e.subarray(f,f+4))},f+=4,s&&(t.duration=r.getUint32(f),f+=4),u&&(t.size=r.getUint32(f),f+=4),l&&(1===n.version?t.compositionTimeOffset=r.getInt32(f):t.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(t),d--);while(d--)t={},s&&(t.duration=r.getUint32(f),f+=4),u&&(t.size=r.getUint32(f),f+=4),c&&(t.flags=i(e.subarray(f,f+4)),f+=4),l&&(1===n.version?t.compositionTimeOffset=r.getInt32(f):t.compositionTimeOffset=r.getUint32(f),f+=4),n.samples.push(t);return n};e.exports=r},"8aa5":function(e,t,n){"use strict";var i=n("6547").charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},"8eff":function(e,t){var n=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3]),t};e.exports=n},"90e3":function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},9112:function(e,t,n){var i=n("83ab"),r=n("9bf2"),a=n("5c6c");e.exports=i?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},9263:function(e,t,n){"use strict";var i=n("ad6d"),r=n("9f7f"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,u=function(){var e=/a/,t=/b*/g;return a.call(e,"a"),a.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,l=void 0!==/()??/.exec("")[1],d=u||l||c;d&&(s=function(e){var t,n,r,s,d=this,f=c&&d.sticky,h=i.call(d),p=d.source,m=0,g=e;return f&&(h=h.replace("y",""),-1===h.indexOf("g")&&(h+="g"),g=String(e).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==e[d.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),n=new RegExp("^(?:"+p+")",h)),l&&(n=new RegExp("^"+p+"$(?!\\s)",h)),u&&(t=d.lastIndex),r=a.call(f?n:d,g),f?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:u&&r&&(d.lastIndex=d.global?r.index+r[0].length:t),l&&r&&r.length>1&&o.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),e.exports=s},"94ca":function(e,t,n){var i=n("d039"),r=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=u&&("function"==typeof t?i(t):!!t)},o=a.normalize=function(e){return String(e).replace(r,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},"96cf":function(e,t,n){var i=function(e){"use strict";var t,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof g?t:g,a=Object.create(r.prototype),o=new I(i||[]);return a._invoke=E(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,T=w&&w(w(M([])));T&&T!==n&&i.call(T,a)&&(b=T);var S=y.prototype=g.prototype=Object.create(b);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(r,a,o,s){var u=l(e[r],e,a);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var r;function a(e,i){function a(){return new t((function(t,r){n(e,i,t,r)}))}return r=r?r.then(a,a):a()}this._invoke=a}function E(e,t,n){var i=d;return function(r,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return P()}n.method=r,n.arg=a;while(1){var o=n.delegate;if(o){var s=A(o,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===d)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var u=l(e,t,n);if("normal"===u.type){if(i=n.done?p:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=p,n.method="throw",n.arg=u.arg)}}}function A(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator["return"]&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var r=l(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,m;var a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function M(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){while(++r<e.length)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,v.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},x(k.prototype),k.prototype[o]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,i,r,a){void 0===a&&(a=Promise);var o=new k(c(t,n,i,r),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(S),u(S,s,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){while(t.length){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=M,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:M(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},9861:function(e,t,n){"use strict";n("e260");var i=n("23e7"),r=n("d066"),a=n("0d3b"),o=n("6eeb"),s=n("e2cc"),u=n("d44e"),c=n("9ed3"),l=n("69f3"),d=n("19aa"),f=n("5135"),h=n("0366"),p=n("f5df"),m=n("825a"),g=n("861d"),v=n("7c73"),y=n("5c6c"),b=n("9a1f"),w=n("35a1"),T=n("b622"),S=r("fetch"),x=r("Headers"),k=T("iterator"),E="URLSearchParams",A=E+"Iterator",_=l.set,C=l.getterFor(E),I=l.getterFor(A),M=/\+/g,P=Array(4),D=function(e){return P[e-1]||(P[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},O=function(e){try{return decodeURIComponent(e)}catch(t){return e}},R=function(e){var t=e.replace(M," "),n=4;try{return decodeURIComponent(t)}catch(i){while(n)t=t.replace(D(n--),O);return t}},N=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},U=function(e){return L[e]},j=function(e){return encodeURIComponent(e).replace(N,U)},F=function(e,t){if(t){var n,i,r=t.split("&"),a=0;while(a<r.length)n=r[a++],n.length&&(i=n.split("="),e.push({key:R(i.shift()),value:R(i.join("="))}))}},B=function(e){this.entries.length=0,F(this.entries,e)},V=function(e,t){if(e<t)throw TypeError("Not enough arguments")},H=c((function(e,t){_(this,{type:A,iterator:b(C(e).entries),kind:t})}),"Iterator",(function(){var e=I(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),q=function(){d(this,q,E);var e,t,n,i,r,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,h=[];if(_(l,{type:E,entries:h,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(g(c))if(e=w(c),"function"===typeof e){t=e.call(c),n=t.next;while(!(i=n.call(t)).done){if(r=b(m(i.value)),a=r.next,(o=a.call(r)).done||(s=a.call(r)).done||!a.call(r).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}}else for(u in c)f(c,u)&&h.push({key:u,value:c[u]+""});else F(h,"string"===typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=q.prototype;s(z,{append:function(e,t){V(arguments.length,2);var n=C(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){V(arguments.length,1);var t=C(this),n=t.entries,i=e+"",r=0;while(r<n.length)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){V(arguments.length,1);for(var t=C(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){V(arguments.length,1);for(var t=C(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){V(arguments.length,1);var t=C(this).entries,n=e+"",i=0;while(i<t.length)if(t[i++].key===n)return!0;return!1},set:function(e,t){V(arguments.length,1);for(var n,i=C(this),r=i.entries,a=!1,o=e+"",s=t+"",u=0;u<r.length;u++)n=r[u],n.key===o&&(a?r.splice(u--,1):(a=!0,n.value=s));a||r.push({key:o,value:s}),i.updateURL()},sort:function(){var e,t,n,i=C(this),r=i.entries,a=r.slice();for(r.length=0,n=0;n<a.length;n++){for(e=a[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){var t,n=C(this).entries,i=h(e,arguments.length>1?arguments[1]:void 0,3),r=0;while(r<n.length)t=n[r++],i(t.value,t.key,this)},keys:function(){return new H(this,"keys")},values:function(){return new H(this,"values")},entries:function(){return new H(this,"entries")}},{enumerable:!0}),o(z,k,z.entries),o(z,"toString",(function(){var e,t=C(this).entries,n=[],i=0;while(i<t.length)e=t[i++],n.push(j(e.key)+"="+j(e.value));return n.join("&")}),{enumerable:!0}),u(q,E),i({global:!0,forced:!a},{URLSearchParams:q}),a||"function"!=typeof S||"function"!=typeof x||i({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,r=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(n=t.body,p(n)===E&&(i=t.headers?new x(t.headers):new x,i.has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=v(t,{body:y(0,String(n)),headers:y(0,i)}))),r.push(t)),S.apply(this,r)}}),e.exports={URLSearchParams:q,getState:C}},"9a0c":function(e,t,n){var i=n("342f");e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},"9a1f":function(e,t,n){var i=n("825a"),r=n("35a1");e.exports=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return i(t.call(e))}},"9afa":function(e,t,n){"use strict";var i,r,a=function(e){return new Date(1e3*e-20828448e5)},o=n("8eff"),s=n("15f9"),u=function(e){var t,n,i=new DataView(e.buffer,e.byteOffset,e.byteLength),r=[];for(t=0;t+4<e.length;t+=n)if(n=i.getUint32(t),t+=4,n<=0)r.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&e[t]){case 1:r.push("slice_layer_without_partitioning_rbsp");break;case 5:r.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:r.push("sei_rbsp");break;case 7:r.push("seq_parameter_set_rbsp");break;case 8:r.push("pic_parameter_set_rbsp");break;case 9:r.push("access_unit_delimiter_rbsp");break;default:r.push("UNKNOWN NAL - "+e[t]&31);break}return r},c={avc1:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{dataReferenceIndex:t.getUint16(6),width:t.getUint16(24),height:t.getUint16(26),horizresolution:t.getUint16(28)+t.getUint16(30)/16,vertresolution:t.getUint16(32)+t.getUint16(34)/16,frameCount:t.getUint16(40),depth:t.getUint16(74),config:i(e.subarray(78,e.byteLength))}},avcC:function(e){var t,n,i,r,a=new DataView(e.buffer,e.byteOffset,e.byteLength),o={configurationVersion:e[0],avcProfileIndication:e[1],profileCompatibility:e[2],avcLevelIndication:e[3],lengthSizeMinusOne:3&e[4],sps:[],pps:[]},s=31&e[5];for(i=6,r=0;r<s;r++)n=a.getUint16(i),i+=2,o.sps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;for(t=e[i],i++,r=0;r<t;r++)n=a.getUint16(i),i+=2,o.pps.push(new Uint8Array(e.subarray(i,i+n))),i+=n;return o},btrt:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{bufferSizeDB:t.getUint32(0),maxBitrate:t.getUint32(4),avgBitrate:t.getUint32(8)}},esds:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),esId:e[6]<<8|e[7],streamPriority:31&e[8],decoderConfig:{objectProfileIndication:e[11],streamType:e[12]>>>2&63,bufferSize:e[13]<<16|e[14]<<8|e[15],maxBitrate:e[16]<<24|e[17]<<16|e[18]<<8|e[19],avgBitrate:e[20]<<24|e[21]<<16|e[22]<<8|e[23],decoderConfigDescriptor:{tag:e[24],length:e[25],audioObjectType:e[26]>>>3&31,samplingFrequencyIndex:(7&e[26])<<1|e[27]>>>7&1,channelConfiguration:e[27]>>>3&15}}}},ftyp:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={majorBrand:o(e.subarray(0,4)),minorVersion:t.getUint32(4),compatibleBrands:[]},i=8;while(i<e.byteLength)n.compatibleBrands.push(o(e.subarray(i,i+4))),i+=4;return n},dinf:function(e){return{boxes:i(e)}},dref:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),dataReferences:i(e.subarray(8))}},hdlr:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),handlerType:o(e.subarray(8,12)),name:""},i=8;for(i=24;i<e.byteLength;i++){if(0===e[i]){i++;break}n.name+=String.fromCharCode(e[i])}return n.name=decodeURIComponent(escape(n.name)),n},mdat:function(e){return{byteLength:e.byteLength,nals:u(e)}},mdhd:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=4,r={version:n.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),language:""};return 1===r.version?(i+=4,r.creationTime=a(n.getUint32(i)),i+=8,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=8,r.duration=n.getUint32(i)):(r.creationTime=a(n.getUint32(i)),i+=4,r.modificationTime=a(n.getUint32(i)),i+=4,r.timescale=n.getUint32(i),i+=4,r.duration=n.getUint32(i)),i+=4,t=n.getUint16(i),r.language+=String.fromCharCode(96+(t>>10)),r.language+=String.fromCharCode(96+((992&t)>>5)),r.language+=String.fromCharCode(96+(31&t)),r},mdia:function(e){return{boxes:i(e)}},mfhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sequenceNumber:e[4]<<24|e[5]<<16|e[6]<<8|e[7]}},minf:function(e){return{boxes:i(e)}},mp4a:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n={dataReferenceIndex:t.getUint16(6),channelcount:t.getUint16(16),samplesize:t.getUint16(18),samplerate:t.getUint16(24)+t.getUint16(26)/65536};return e.byteLength>28&&(n.streamDescriptor=i(e.subarray(28))[0]),n},moof:function(e){return{boxes:i(e)}},moov:function(e){return{boxes:i(e)}},mvex:function(e){return{boxes:i(e)}},mvhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(t.getUint32(n)),n+=8,i.modificationTime=a(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=8,i.duration=t.getUint32(n)):(i.creationTime=a(t.getUint32(n)),n+=4,i.modificationTime=a(t.getUint32(n)),n+=4,i.timescale=t.getUint32(n),n+=4,i.duration=t.getUint32(n)),n+=4,i.rate=t.getUint16(n)+t.getUint16(n+2)/16,n+=4,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,n+=8,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,n+=24,i.nextTrackId=t.getUint32(n),i},pdin:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4)),rate:t.getUint32(4),initialDelay:t.getUint32(8)}},sdtp:function(e){var t,n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]};for(t=4;t<e.byteLength;t++)n.samples.push({dependsOn:(48&e[t])>>4,isDependedOn:(12&e[t])>>2,hasRedundancy:3&e[t]});return n},sidx:n("81c0"),smhd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),balance:e[4]+e[5]/256}},stbl:function(e){return{boxes:i(e)}},stco:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),chunkOffsets:[]},r=n.getUint32(4);for(t=8;r;t+=4,r--)i.chunkOffsets.push(n.getUint32(t));return i},stsc:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=n.getUint32(4),r={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleToChunks:[]};for(t=8;i;t+=12,i--)r.sampleToChunks.push({firstChunk:n.getUint32(t),samplesPerChunk:n.getUint32(t+4),sampleDescriptionIndex:n.getUint32(t+8)});return r},stsd:function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleDescriptions:i(e.subarray(8))}},stsz:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),sampleSize:n.getUint32(4),entries:[]};for(t=12;t<e.byteLength;t+=4)i.entries.push(n.getUint32(t));return i},stts:function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),timeToSamples:[]},r=n.getUint32(4);for(t=8;r;t+=8,r--)i.timeToSamples.push({sampleCount:n.getUint32(t),sampleDelta:n.getUint32(t+4)});return i},styp:function(e){return c.ftyp(e)},tfdt:n("dbdc"),tfhd:n("caac"),tkhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),n=4,i={version:t.getUint8(0),flags:new Uint8Array(e.subarray(1,4))};return 1===i.version?(n+=4,i.creationTime=a(t.getUint32(n)),n+=8,i.modificationTime=a(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=8,i.duration=t.getUint32(n)):(i.creationTime=a(t.getUint32(n)),n+=4,i.modificationTime=a(t.getUint32(n)),n+=4,i.trackId=t.getUint32(n),n+=4,n+=4,i.duration=t.getUint32(n)),n+=4,n+=8,i.layer=t.getUint16(n),n+=2,i.alternateGroup=t.getUint16(n),n+=2,i.volume=t.getUint8(n)+t.getUint8(n+1)/8,n+=2,n+=2,i.matrix=new Uint32Array(e.subarray(n,n+36)),n+=36,i.width=t.getUint16(n)+t.getUint16(n+2)/65536,n+=4,i.height=t.getUint16(n)+t.getUint16(n+2)/65536,i},traf:function(e){return{boxes:i(e)}},trak:function(e){return{boxes:i(e)}},trex:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:t.getUint32(4),defaultSampleDescriptionIndex:t.getUint32(8),defaultSampleDuration:t.getUint32(12),defaultSampleSize:t.getUint32(16),sampleDependsOn:3&e[20],sampleIsDependedOn:(192&e[21])>>6,sampleHasRedundancy:(48&e[21])>>4,samplePaddingValue:(14&e[21])>>1,sampleIsDifferenceSample:!!(1&e[21]),sampleDegradationPriority:t.getUint16(22)}},trun:n("8a2d"),"url ":function(e){return{version:e[0],flags:new Uint8Array(e.subarray(1,4))}},vmhd:function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);return{version:e[0],flags:new Uint8Array(e.subarray(1,4)),graphicsmode:t.getUint16(4),opcolor:new Uint16Array([t.getUint16(6),t.getUint16(8),t.getUint16(10)])}}};i=function(e){for(var t,n,i,r,a,s=0,u=[],l=new ArrayBuffer(e.length),d=new Uint8Array(l),f=0;f<e.length;++f)d[f]=e[f];t=new DataView(l);while(s<e.byteLength)n=t.getUint32(s),i=o(e.subarray(s+4,s+8)),r=n>1?s+n:e.byteLength,a=(c[i]||function(e){return{data:e}})(e.subarray(s+8,r)),a.size=n,a.type=i,u.push(a),s=r;return u},r=function(e,t){var n;return t=t||0,n=new Array(2*t+1).join(" "),e.map((function(e,i){return n+e.type+"\n"+Object.keys(e).filter((function(e){return"type"!==e&&"boxes"!==e})).map((function(t){var i=n+"  "+t+": ",r=e[t];if(r instanceof Uint8Array||r instanceof Uint32Array){var a=Array.prototype.slice.call(new Uint8Array(r.buffer,r.byteOffset,r.byteLength)).map((function(e){return" "+("00"+e.toString(16)).slice(-2)})).join("").match(/.{1,24}/g);return a?1===a.length?i+"<"+a.join("").slice(1)+">":i+"<\n"+a.map((function(e){return n+"  "+e})).join("\n")+"\n"+n+"  >":i+"<>"}return i+JSON.stringify(r,null,2).split("\n").map((function(e,t){return 0===t?e:n+"  "+e})).join("\n")})).join("\n")+(e.boxes?"\n"+r(e.boxes,t+1):"")})).join("\n")},e.exports={inspect:i,textify:r,parseType:o,findBox:s,parseTraf:c.traf,parseTfdt:c.tfdt,parseHdlr:c.hdlr,parseTfhd:c.tfhd,parseTrun:c.trun,parseSidx:c.sidx}},"9bdd":function(e,t,n){var i=n("825a");e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(o){var a=e["return"];throw void 0!==a&&i(a.call(e)),o}}},"9bf2":function(e,t,n){var i=n("83ab"),r=n("0cfb"),a=n("825a"),o=n("c04e"),s=Object.defineProperty;t.f=i?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),r)try{return s(e,t,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9d56":function(e,t,n){"use strict";var i,r=n("4329"),a=n("fbd0");i=function(){var e=new Uint8Array,t=0;i.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(n){var i,r,o,s,u=0,c=0;e.length?(s=e.length,e=new Uint8Array(n.byteLength+s),e.set(e.subarray(0,s)),e.set(n,s)):e=n;while(e.length-c>=3)if(e[c]!=="I".charCodeAt(0)||e[c+1]!=="D".charCodeAt(0)||e[c+2]!=="3".charCodeAt(0))if(255!==(255&e[c])||240!==(240&e[c+1]))c++;else{if(e.length-c<7)break;if(u=a.parseAdtsSize(e,c),c+u>e.length)break;o={type:"audio",data:e.subarray(c,c+u),pts:t,dts:t},this.trigger("data",o),c+=u}else{if(e.length-c<10)break;if(u=a.parseId3TagSize(e,c),c+u>e.length)break;r={type:"timed-metadata",data:e.subarray(c,c+u)},this.trigger("data",r),c+=u}i=e.length-c,e=i>0?e.subarray(c):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}},i.prototype=new r,e.exports=i},"9ed3":function(e,t,n){"use strict";var i=n("ae93").IteratorPrototype,r=n("7c73"),a=n("5c6c"),o=n("d44e"),s=n("3f8c"),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=r(i,{next:a(1,n)}),o(e,c,!1,!0),s[c]=u,e}},"9f7f":function(e,t,n){"use strict";var i=n("d039");function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},a691:function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},a79d:function(e,t,n){"use strict";var i=n("23e7"),r=n("c430"),a=n("fea9"),o=n("d039"),s=n("d066"),u=n("4840"),c=n("cdf9"),l=n("6eeb"),d=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));i({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),r||"function"!=typeof a||a.prototype["finally"]||l(a.prototype,"finally",s("Promise").prototype["finally"])},a8e0:function(e,t,n){"use strict";var i=n("dc6d").discardEmulationPreventionBytes,r=n("4e69").CaptionStream,a=n("15f9"),o=n("dbdc"),s=n("8a2d"),u=n("caac"),c=function(e,t){for(var n=e,i=0;i<t.length;i++){var r=t[i];if(n<r.size)return r;n-=r.size}return null},l=function(e,t,n){var r,a,o,s,u=new DataView(e.buffer,e.byteOffset,e.byteLength),l=[];for(a=0;a+4<e.length;a+=o)if(o=u.getUint32(a),a+=4,!(o<=0))switch(31&e[a]){case 6:var d=e.subarray(a+1,a+1+o),f=c(a,t);if(r={nalUnitType:"sei_rbsp",size:o,data:d,escapedRBSP:i(d),trackId:n},f)r.pts=f.pts,r.dts=f.dts,s=f;else{if(!s){console.log("We've encountered a nal unit without data. See mux.js#233.");break}r.pts=s.pts,r.dts=s.dts}l.push(r);break;default:break}return l},d=function(e,t,n){var i=t,r=n.defaultSampleDuration||0,a=n.defaultSampleSize||0,o=n.trackId,u=[];return e.forEach((function(e){var t=s(e),n=t.samples;n.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=a),e.trackId=o,e.dts=i,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),e.pts=i+e.compositionTimeOffset,i+=e.duration})),u=u.concat(n)})),u},f=function(e,t){var n=a(e,["moof","traf"]),i=a(e,["mdat"]),r={},s=[];return i.forEach((function(e,t){var i=n[t];s.push({mdat:e,traf:i})})),s.forEach((function(e){var n,i,s=e.mdat,c=e.traf,f=a(c,["tfhd"]),h=u(f[0]),p=h.trackId,m=a(c,["tfdt"]),g=m.length>0?o(m[0]).baseMediaDecodeTime:0,v=a(c,["trun"]);t===p&&v.length>0&&(n=d(v,g,h),i=l(s,n,p),r[p]||(r[p]=[]),r[p]=r[p].concat(i))})),r},h=function(e,t,n){var i;return null===t?null:(i=f(e,t),{seiNals:i[t],timescale:n})},p=function(){var e,t,n,i,a,o,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new r,s=!0,o=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/i,e.endTime=e.endPts/i,a.captions.push(e),a.captionStreams[e.stream]=!0}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"===typeof t&&0===Object.keys(t).length)&&(n!==e[0]||i!==t[n])},this.parse=function(e,r,o){var s;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))n=r[0],i=o[n];else if(null===n||!i)return t.push(e),null;while(t.length>0){var u=t.shift();this.parse(u,r,o)}return s=h(e,n,i),null!==s&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),a):null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){a.captions=[],a.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],n=null,i=null,a?this.clearParsedCaptions():a={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()};e.exports=p},a9e3:function(e,t,n){"use strict";var i=n("83ab"),r=n("da84"),a=n("94ca"),o=n("6eeb"),s=n("5135"),u=n("c6b6"),c=n("7156"),l=n("c04e"),d=n("d039"),f=n("7c73"),h=n("241c").f,p=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,v="Number",y=r[v],b=y.prototype,w=u(f(b))==v,T=function(e){var t,n,i,r,a,o,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(a=c.slice(2),o=a.length,s=0;s<o;s++)if(u=a.charCodeAt(s),u<48||u>r)return NaN;return parseInt(a,i)}return+c};if(a(v,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(w?d((function(){b.valueOf.call(n)})):u(n)!=v)?c(new y(T(t)),n,x):T(t)},k=i?h(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;k.length>E;E++)s(y,S=k[E])&&!s(x,S)&&m(x,S,p(y,S));x.prototype=b,b.constructor=x,o(r,v,x)}},ab13:function(e,t,n){var i=n("b622"),r=i("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(i){}}return!1}},ac1f:function(e,t,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(e,t,n){"use strict";var i=n("825a");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},ae40:function(e,t,n){var i=n("83ab"),r=n("d039"),a=n("5135"),o=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var n=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,l=a(t,0)?t[0]:u,d=a(t,1)?t[1]:void 0;return s[e]=!!n&&!r((function(){if(c&&!i)return!0;var e={length:-1};c?o(e,1,{enumerable:!0,get:u}):e[1]=1,n.call(e,l,d)}))}},ae54:function(e,t,n){"use strict";var i=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})};e.exports=i},ae75:function(e,t,n){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},ae93:function(e,t,n){"use strict";var i,r,a,o=n("e163"),s=n("9112"),u=n("5135"),c=n("b622"),l=n("c430"),d=c("iterator"),f=!1,h=function(){return this};[].keys&&(a=[].keys(),"next"in a?(r=o(o(a)),r!==Object.prototype&&(i=r)):f=!0),void 0==i&&(i={}),l||u(i,d)||s(i,d,h),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},b041:function(e,t,n){"use strict";var i=n("00ee"),r=n("f5df");e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},b046:function(e,t,n){"use strict";var i=n("d7ba"),r=function(e,t,n){var r,a,o,s=new Uint8Array(9),u=new DataView(s.buffer);return e=e||0,t=void 0===t||t,n=void 0===n||n,u.setUint8(0,70),u.setUint8(1,76),u.setUint8(2,86),u.setUint8(3,1),u.setUint8(4,(t?4:0)|(n?1:0)),u.setUint32(5,s.byteLength),e<=0?(a=new Uint8Array(s.byteLength+4),a.set(s),a.set([0,0,0,0],s.byteLength),a):(r=new i(i.METADATA_TAG),r.pts=r.dts=0,r.writeMetaDataDouble("duration",e),o=r.finalize().length,a=new Uint8Array(s.byteLength+o),a.set(s),a.set(u.byteLength,o),a)};e.exports=r},b0c0:function(e,t,n){var i=n("83ab"),r=n("9bf2").f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/,u="name";i&&!(u in a)&&r(a,u,{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},b116:function(e,t,n){e.exports=n("0ea2")},b575:function(e,t,n){var i,r,a,o,s,u,c,l,d=n("da84"),f=n("06cf").f,h=n("c6b6"),p=n("2cf4").set,m=n("1cdc"),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,b="process"==h(v),w=f(d,"queueMicrotask"),T=w&&w.value;T||(i=function(){var e,t;b&&(e=v.domain)&&e.exit();while(r){t=r.fn,r=r.next;try{t()}catch(n){throw r?o():a=void 0,n}}a=void 0,e&&e.enter()},b?o=function(){v.nextTick(i)}:g&&!m?(s=!0,u=document.createTextNode(""),new g(i).observe(u,{characterData:!0}),o=function(){u.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,o=function(){l.call(c,i)}):o=function(){p.call(d,i)}),e.exports=T||function(e){var t={fn:e,next:void 0};a&&(a.next=t),r||(r=t,o()),a=t}},b5de:function(e,t){var n=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];e.exports=n},b622:function(e,t,n){var i=n("da84"),r=n("5692"),a=n("5135"),o=n("90e3"),s=n("4930"),u=n("fdbf"),c=r("wks"),l=i.Symbol,d=u?l:l&&l.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(l,e)?c[e]=l[e]:c[e]=d("Symbol."+e)),c[e]}},b727:function(e,t,n){var i=n("0366"),r=n("44ad"),a=n("7b0b"),o=n("50c4"),s=n("65f0"),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,d=6==e,f=5==e||d;return function(h,p,m,g){for(var v,y,b=a(h),w=r(b),T=i(p,m,3),S=o(w.length),x=0,k=g||s,E=t?k(h,S):n?k(h,0):void 0;S>x;x++)if((f||x in w)&&(v=w[x],y=T(v,x,b),e))if(t)E[x]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return x;case 2:u.call(E,v)}else if(l)return!1;return d?-1:c||l?l:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c04e:function(e,t,n){var i=n("861d");e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},c430:function(e,t){e.exports=!1},c6b6:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},c6cd:function(e,t,n){var i=n("da84"),r=n("ce4e"),a="__core-js_shared__",o=i[a]||r(a,{});e.exports=o},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},ca84:function(e,t,n){var i=n("5135"),r=n("fc6a"),a=n("4d64").indexOf,o=n("d012");e.exports=function(e,t){var n,s=r(e),u=0,c=[];for(n in s)!i(o,n)&&i(s,n)&&c.push(n);while(t.length>u)i(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},caac:function(e,t){var n=function(e){var t,n=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:n.getUint32(4)},r=1&i.flags[2],a=2&i.flags[2],o=8&i.flags[2],s=16&i.flags[2],u=32&i.flags[2],c=65536&i.flags[0],l=131072&i.flags[0];return t=8,r&&(t+=4,i.baseDataOffset=n.getUint32(12),t+=4),a&&(i.sampleDescriptionIndex=n.getUint32(t),t+=4),o&&(i.defaultSampleDuration=n.getUint32(t),t+=4),s&&(i.defaultSampleSize=n.getUint32(t),t+=4),u&&(i.defaultSampleFlags=n.getUint32(t)),c&&(i.durationIsEmpty=!0),!r&&l&&(i.baseDataOffsetIsMoof=!0),i};e.exports=n},cc12:function(e,t,n){var i=n("da84"),r=n("861d"),a=i.document,o=r(a)&&r(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},cca6:function(e,t,n){var i=n("23e7"),r=n("60da");i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cdf9:function(e,t,n){var i=n("825a"),r=n("861d"),a=n("f069");e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e),o=n.resolve;return o(t),n.promise}},ce4e:function(e,t,n){var i=n("da84"),r=n("9112");e.exports=function(e,t){try{r(i,e,t)}catch(n){i[e]=t}return t}},cf23:function(e,t){var n=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}};e.exports=n},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var i=n("428f"),r=n("da84"),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(i[e])||a(r[e]):i[e]&&i[e][t]||r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);t.f=a?function(e){var t=r(this,e);return!!t&&t.enumerable}:i},d2bb:function(e,t,n){var i=n("825a"),r=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(a){}return function(n,a){return i(n),r(a),t?e.call(n,a):n.__proto__=a,n}}():void 0)},d3b7:function(e,t,n){var i=n("00ee"),r=n("6eeb"),a=n("b041");i||r(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(e,t,n){var i=n("9bf2").f,r=n("5135"),a=n("b622"),o=a("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},d784:function(e,t,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),a=n("b622"),o=n("9263"),s=n("9112"),u=a("species"),c=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),f=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),h=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var p=a(e),m=!r((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!r((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!g||"replace"===e&&(!c||!l||f)||"split"===e&&!h){var v=/./[p],y=n(p,""[e],(function(e,t,n,i,r){return t.exec===o?m&&!r?{done:!0,value:v.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=y[0],w=y[1];i(String.prototype,e,b),i(RegExp.prototype,p,2==t?function(e,t){return w.call(e,this,t)}:function(e){return w.call(e,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},d7ba:function(e,t,n){"use strict";var i;i=function(e,t){var n,r=0,a=16384,o=function(e,t){var n,i=e.position+t;i<e.bytes.byteLength||(n=new Uint8Array(2*i),n.set(e.bytes.subarray(0,e.position),0),e.bytes=n,e.view=new DataView(e.bytes.buffer))},s=i.widthBytes||new Uint8Array("width".length),u=i.heightBytes||new Uint8Array("height".length),c=i.videocodecidBytes||new Uint8Array("videocodecid".length);if(!i.widthBytes){for(n=0;n<"width".length;n++)s[n]="width".charCodeAt(n);for(n=0;n<"height".length;n++)u[n]="height".charCodeAt(n);for(n=0;n<"videocodecid".length;n++)c[n]="videocodecid".charCodeAt(n);i.widthBytes=s,i.heightBytes=u,i.videocodecidBytes=c}switch(this.keyFrame=!1,e){case i.VIDEO_TAG:this.length=16,a*=6;break;case i.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case i.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(a),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=t,this.pts=0,this.dts=0,this.writeBytes=function(e,t,n){var i,r=t||0;n=n||e.byteLength,i=r+n,o(this,n),this.bytes.set(e.subarray(r,i),this.position),this.position+=n,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){o(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){o(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===r?0:this.length-(r+4)},this.startNalUnit=function(){if(r>0)throw new Error("Attempted to create new NAL wihout closing the old one");r=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,n;this.length===r+4?this.length-=4:r>0&&(t=r+4,n=this.length-t,this.position=r,this.view.setUint32(this.position,n),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+n))),r=0},this.writeMetaDataDouble=function(e,t){var n;if(o(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(u,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(c,this.position),this.position+=12;else for(n=0;n<e.length;n++)this.bytes[this.position]=e.charCodeAt(n),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++r},this.writeMetaDataBoolean=function(e,t){var n;for(o(this,2),this.view.setUint16(this.position,e.length),this.position+=2,n=0;n<e.length;n++)o(this,1),this.bytes[this.position]=e.charCodeAt(n),this.position++;o(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++r},this.finalize=function(){var e,n;switch(this.bytes[0]){case i.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||t?16:32),this.bytes[12]=t?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case i.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=t?0:1;break;case i.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,r),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position;break}return n=this.length-11,this.bytes[1]=(16711680&n)>>>16,this.bytes[2]=(65280&n)>>>8,this.bytes[3]=(255&n)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,o(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=i.frameTime(this.bytes),this}},i.AUDIO_TAG=8,i.VIDEO_TAG=9,i.METADATA_TAG=18,i.isAudioFrame=function(e){return i.AUDIO_TAG===e[0]},i.isVideoFrame=function(e){return i.VIDEO_TAG===e[0]},i.isMetaData=function(e){return i.METADATA_TAG===e[0]},i.isKeyFrame=function(e){return i.isVideoFrame(e)?23===e[11]:!!i.isAudioFrame(e)||!!i.isMetaData(e)},i.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24,t},e.exports=i},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n("c8ba"))},dbdc:function(e,t,n){var i=n("7fe1").toUnsigned,r=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4)),baseMediaDecodeTime:i(e[4]<<24|e[5]<<16|e[6]<<8|e[7])};return 1===t.version&&(t.baseMediaDecodeTime*=Math.pow(2,32),t.baseMediaDecodeTime+=i(e[8]<<24|e[9]<<16|e[10]<<8|e[11])),t};e.exports=r},dc3e:function(e,t,n){"use strict";var i=n("ae75"),r=n("256f").handleRollover,a={};a.ts=n("423e"),a.aac=n("fbd0");var o=n("36c6").ONE_SECOND_IN_TS,s=188,u=71,c=function(e,t){var n,i,r=0,o=s;while(o<e.byteLength)if(e[r]!==u||e[o]!==u)r++,o++;else{switch(n=e.subarray(r,o),i=a.ts.parseType(n,t.pid),i){case"pat":t.pid||(t.pid=a.ts.parsePat(n));break;case"pmt":t.table||(t.table=a.ts.parsePmt(n));break;default:break}if(t.pid&&t.table)return;r+=s,o+=s}},l=function(e,t,n){var i,r,o,c,l,d=0,f=s,h=!1;while(f<=e.byteLength)if(e[d]!==u||e[f]!==u&&f!==e.byteLength)d++,f++;else{switch(i=e.subarray(d,f),r=a.ts.parseType(i,t.pid),r){case"pes":o=a.ts.parsePesType(i,t.table),c=a.ts.parsePayloadUnitStartIndicator(i),"audio"===o&&c&&(l=a.ts.parsePesTime(i),l&&(l.type="audio",n.audio.push(l),h=!0));break;default:break}if(h)break;d+=s,f+=s}f=e.byteLength,d=f-s,h=!1;while(d>=0)if(e[d]!==u||e[f]!==u&&f!==e.byteLength)d--,f--;else{switch(i=e.subarray(d,f),r=a.ts.parseType(i,t.pid),r){case"pes":o=a.ts.parsePesType(i,t.table),c=a.ts.parsePayloadUnitStartIndicator(i),"audio"===o&&c&&(l=a.ts.parsePesTime(i),l&&(l.type="audio",n.audio.push(l),h=!0));break;default:break}if(h)break;d-=s,f-=s}},d=function(e,t,n){var i,r,o,c,l,d,f,h,p=0,m=s,g=!1,v={data:[],size:0};while(m<e.byteLength)if(e[p]!==u||e[m]!==u)p++,m++;else{switch(i=e.subarray(p,m),r=a.ts.parseType(i,t.pid),r){case"pes":if(o=a.ts.parsePesType(i,t.table),c=a.ts.parsePayloadUnitStartIndicator(i),"video"===o&&(c&&!g&&(l=a.ts.parsePesTime(i),l&&(l.type="video",n.video.push(l),g=!0)),!n.firstKeyFrame)){if(c&&0!==v.size){d=new Uint8Array(v.size),f=0;while(v.data.length)h=v.data.shift(),d.set(h,f),f+=h.byteLength;if(a.ts.videoPacketContainsKeyFrame(d)){var y=a.ts.parsePesTime(d);y?(n.firstKeyFrame=y,n.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}v.size=0}v.data.push(i),v.size+=i.byteLength}break;default:break}if(g&&n.firstKeyFrame)break;p+=s,m+=s}m=e.byteLength,p=m-s,g=!1;while(p>=0)if(e[p]!==u||e[m]!==u)p--,m--;else{switch(i=e.subarray(p,m),r=a.ts.parseType(i,t.pid),r){case"pes":o=a.ts.parsePesType(i,t.table),c=a.ts.parsePayloadUnitStartIndicator(i),"video"===o&&c&&(l=a.ts.parsePesTime(i),l&&(l.type="video",n.video.push(l),g=!0));break;default:break}if(g)break;p-=s,m-=s}},f=function(e,t){if(e.audio&&e.audio.length){var n=t;"undefined"===typeof n&&(n=e.audio[0].dts),e.audio.forEach((function(e){e.dts=r(e.dts,n),e.pts=r(e.pts,n),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o}))}if(e.video&&e.video.length){var i=t;if("undefined"===typeof i&&(i=e.video[0].dts),e.video.forEach((function(e){e.dts=r(e.dts,i),e.pts=r(e.pts,i),e.dtsTime=e.dts/o,e.ptsTime=e.pts/o})),e.firstKeyFrame){var a=e.firstKeyFrame;a.dts=r(a.dts,i),a.pts=r(a.pts,i),a.dtsTime=a.dts/o,a.ptsTime=a.dts/o}}},h=function(e){var t,n=!1,i=0,r=null,s=null,u=0,c=0;while(e.length-c>=3){var l=a.aac.parseType(e,c);switch(l){case"timed-metadata":if(e.length-c<10){n=!0;break}if(u=a.aac.parseId3TagSize(e,c),u>e.length){n=!0;break}null===s&&(t=e.subarray(c,c+u),s=a.aac.parseAacTimestamp(t)),c+=u;break;case"audio":if(e.length-c<7){n=!0;break}if(u=a.aac.parseAdtsSize(e,c),u>e.length){n=!0;break}null===r&&(t=e.subarray(c,c+u),r=a.aac.parseSampleRate(t)),i++,c+=u;break;default:c++;break}if(n)return null}if(null===r||null===s)return null;var d=o/r,f={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+1024*i*d,pts:s+1024*i*d}]};return f},p=function(e){var t={pid:null,table:null},n={};for(var r in c(e,t),t.table)if(t.table.hasOwnProperty(r)){var a=t.table[r];switch(a){case i.H264_STREAM_TYPE:n.video=[],d(e,t,n),0===n.video.length&&delete n.video;break;case i.ADTS_STREAM_TYPE:n.audio=[],l(e,t,n),0===n.audio.length&&delete n.audio;break;default:break}}return n},m=function(e,t){var n,i=a.aac.isLikelyAacData(e);return n=i?h(e):p(e),n&&(n.audio||n.video)?(f(n,t),n):null};e.exports={inspect:m,parseAudioPes_:l}},dc6d:function(e,t,n){"use strict";var i=4,r=128,a=function(e){var t=0,n={payloadType:-1,payloadSize:0},a=0,o=0;while(t<e.byteLength){if(e[t]===r)break;while(255===e[t])a+=255,t++;a+=e[t++];while(255===e[t])o+=255,t++;if(o+=e[t++],!n.payload&&a===i){var s=String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6]);if("GA94"===s){n.payloadType=a,n.payloadSize=o,n.payload=e.subarray(t,t+o);break}n.payload=void 0}t+=o,a=0,o=0}return n},o=function(e){return 181!==e.payload[0]||49!==(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},s=function(e,t){var n,i,r,a,o=[];if(!(64&t[0]))return o;for(i=31&t[0],n=0;n<i;n++)r=3*n,a={type:3&t[r+2],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],o.push(a));return o},u=function(e){var t,n,i=e.byteLength,r=[],a=1;while(a<i-2)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=e[o];return n};e.exports={parseSei:a,parseUserData:o,parseCaptionPackets:s,discardEmulationPreventionBytes:u,USER_DATA_REGISTERED_ITU_T_T35:i}},ddb0:function(e,t,n){var i=n("da84"),r=n("fdbc"),a=n("e260"),o=n("9112"),s=n("b622"),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var d in r){var f=i[d],h=f&&f.prototype;if(h){if(h[u]!==l)try{o(h,u,l)}catch(m){h[u]=l}if(h[c]||o(h,c,d),r[d])for(var p in a)if(h[p]!==a[p])try{o(h,p,a[p])}catch(m){h[p]=a[p]}}}},df75:function(e,t,n){var i=n("ca84"),r=n("7839");e.exports=Object.keys||function(e){return i(e,r)}},e163:function(e,t,n){var i=n("5135"),r=n("7b0b"),a=n("f772"),o=n("e177"),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=r(e),i(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},e177:function(e,t,n){var i=n("d039");e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e260:function(e,t,n){"use strict";var i=n("fc6a"),r=n("44d2"),a=n("3f8c"),o=n("69f3"),s=n("7dd0"),u="Array Iterator",c=o.set,l=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:i(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},e2cc:function(e,t,n){var i=n("6eeb");e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";var i,r,a,o,s=n("23e7"),u=n("c430"),c=n("da84"),l=n("d066"),d=n("fea9"),f=n("6eeb"),h=n("e2cc"),p=n("d44e"),m=n("2626"),g=n("861d"),v=n("1c0b"),y=n("19aa"),b=n("c6b6"),w=n("8925"),T=n("2266"),S=n("1c7e"),x=n("4840"),k=n("2cf4").set,E=n("b575"),A=n("cdf9"),_=n("44de"),C=n("f069"),I=n("e667"),M=n("69f3"),P=n("94ca"),D=n("b622"),O=n("2d00"),R=D("species"),N="Promise",L=M.get,U=M.set,j=M.getterFor(N),F=d,B=c.TypeError,V=c.document,H=c.process,q=l("fetch"),z=C.f,$=z,G="process"==b(H),K=!!(V&&V.createEvent&&c.dispatchEvent),W="unhandledrejection",X="rejectionhandled",Y=0,J=1,Q=2,Z=1,ee=2,te=P(N,(function(){var e=w(F)!==String(F);if(!e){if(66===O)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(u&&!F.prototype["finally"])return!0;if(O>=51&&/native code/.test(F))return!1;var t=F.resolve(1),n=function(e){e((function(){}),(function(){}))},i=t.constructor={};return i[R]=n,!(t.then((function(){}))instanceof n)})),ne=te||!S((function(e){F.all(e)["catch"]((function(){}))})),ie=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},re=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;E((function(){var r=t.value,a=t.state==J,o=0;while(i.length>o){var s,u,c,l=i[o++],d=a?l.ok:l.fail,f=l.resolve,h=l.reject,p=l.domain;try{d?(a||(t.rejection===ee&&ue(e,t),t.rejection=Z),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),c=!0)),s===l.promise?h(B("Promise-chain cycle")):(u=ie(s))?u.call(s,f,h):f(s)):h(r)}catch(m){p&&!c&&p.exit(),h(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&oe(e,t)}))}},ae=function(e,t,n){var i,r;K?(i=V.createEvent("Event"),i.promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},(r=c["on"+e])?r(i):e===W&&_("Unhandled promise rejection",n)},oe=function(e,t){k.call(c,(function(){var n,i=t.value,r=se(t);if(r&&(n=I((function(){G?H.emit("unhandledRejection",i,e):ae(W,e,i)})),t.rejection=G||se(t)?ee:Z,n.error))throw n.value}))},se=function(e){return e.rejection!==Z&&!e.parent},ue=function(e,t){k.call(c,(function(){G?H.emit("rejectionHandled",e):ae(X,e,t.value)}))},ce=function(e,t,n,i){return function(r){e(t,n,r,i)}},le=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=Q,re(e,t,!0))},de=function(e,t,n,i){if(!t.done){t.done=!0,i&&(t=i);try{if(e===n)throw B("Promise can't be resolved itself");var r=ie(n);r?E((function(){var i={done:!1};try{r.call(n,ce(de,e,i,t),ce(le,e,i,t))}catch(a){le(e,i,a,t)}})):(t.value=n,t.state=J,re(e,t,!1))}catch(a){le(e,{done:!1},a,t)}}};te&&(F=function(e){y(this,F,N),v(e),i.call(this);var t=L(this);try{e(ce(de,this,t),ce(le,this,t))}catch(n){le(this,t,n)}},i=function(e){U(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Y,value:void 0})},i.prototype=h(F.prototype,{then:function(e,t){var n=j(this),i=z(x(this,F));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=G?H.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=Y&&re(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),r=function(){var e=new i,t=L(e);this.promise=e,this.resolve=ce(de,e,t),this.reject=ce(le,e,t)},C.f=z=function(e){return e===F||e===a?new r(e):$(e)},u||"function"!=typeof d||(o=d.prototype.then,f(d.prototype,"then",(function(e,t){var n=this;return new F((function(e,t){o.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof q&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return A(F,q.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:te},{Promise:F}),p(F,N,!1,!0),m(N),a=l(N),s({target:N,stat:!0,forced:te},{reject:function(e){var t=z(this);return t.reject.call(void 0,e),t.promise}}),s({target:N,stat:!0,forced:u||te},{resolve:function(e){return A(u&&this===a?F:this,e)}}),s({target:N,stat:!0,forced:ne},{all:function(e){var t=this,n=z(t),i=n.resolve,r=n.reject,a=I((function(){var n=v(t.resolve),a=[],o=0,s=1;T(e,(function(e){var u=o++,c=!1;a.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,a[u]=e,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(e){var t=this,n=z(t),i=n.reject,r=I((function(){var r=v(t.resolve);T(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},e893:function(e,t,n){var i=n("5135"),r=n("56ef"),a=n("06cf"),o=n("9bf2");e.exports=function(e,t){for(var n=r(t),s=o.f,u=a.f,c=0;c<n.length;c++){var l=n[c];i(e,l)||s(e,l,u(t,l))}}},e8b5:function(e,t,n){var i=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==i(e)}},e95a:function(e,t,n){var i=n("b622"),r=n("3f8c"),a=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[a]===e)}},ed93:function(e,t,n){var i=n("36c6").ONE_SECOND_IN_TS,r=function(e,t){"number"===typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"===typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},a=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},o=function(e,t){var n,r,a=e.minSegmentDts;return t||(a-=e.timelineStartInfo.dts),n=e.timelineStartInfo.baseMediaDecodeTime,n+=a,n=Math.max(0,n),"audio"===e.type&&(r=e.samplerate/i,n*=r,n=Math.floor(n)),n};e.exports={clearDtsInfo:a,calculateTrackBaseMediaDecodeTime:o,collectDtsInfo:r}},f069:function(e,t,n){"use strict";var i=n("1c0b"),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},f585:function(e,t,n){"use strict";var i=n("4329"),r=n("194a"),a=n("13a3"),o=n("ed93"),s=n("36c6").ONE_SECOND_IN_TS,u=n("b5de"),c=function(e,t){var n=[],i=0,l=0,d=0,f=1/0,h=null,p=null;t=t||{},c.prototype.init.call(this),this.push=function(t){o.collectDtsInfo(e,t),e&&u.forEach((function(n){e[n]=t[n]})),n.push(t)},this.setEarliestDts=function(e){l=e},this.setVideoBaseMediaDecodeTime=function(e){f=e},this.setAudioAppendStart=function(e){d=e},this.processFrames_=function(){var u,c,m,g,v;0!==n.length&&(u=a.trimAdtsFramesByEarliestDts(n,e,l),0!==u.length&&(e.baseMediaDecodeTime=o.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),a.prefixWithSilence(e,u,d,f),e.samples=a.generateSampleTable(u),m=r.mdat(a.concatenateFrameData(u)),n=[],c=r.moof(i,[e]),i++,e.initSegment=r.initSegment([e]),g=new Uint8Array(c.byteLength+m.byteLength),g.set(c),g.set(m,c.byteLength),o.clearDtsInfo(e),null===h&&(p=h=u[0].pts),p+=u.length*(1024*s/e.samplerate),v={start:h},this.trigger("timingInfo",v),this.trigger("data",{track:e,boxes:g})))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:h,end:p}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){o.clearDtsInfo(e),h=null,p=null},this.reset=function(){this.resetTiming_(),n=[],this.trigger("reset")}};c.prototype=new i,e.exports=c},f5df:function(e,t,n){var i=n("00ee"),r=n("c6b6"),a=n("b622"),o=a("toStringTag"),s="Arguments"==r(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=i?r:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=Object(e),o))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},f772:function(e,t,n){var i=n("5692"),r=n("90e3"),a=i("keys");e.exports=function(e){return a[e]||(a[e]=r(e))}},f911:function(e,t,n){e.exports={Transmuxer:n("4720")}},fbd0:function(e,t,n){"use strict";var i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=function(e,t){var n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],i=e[t+5],r=(16&i)>>4;return n=n>=0?n:0,r?n+20:n+10},a=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=r(e,t),a(e,t))},o=function(e){var t=a(e,0);return e.length>=t+2&&255===(255&e[t])&&240===(240&e[t+1])&&16===(22&e[t+1])},s=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},u=function(e,t,n){var i,r="";for(i=t;i<n;i++)r+="%"+("00"+e[i].toString(16)).slice(-2);return r},c=function(e,t,n){return unescape(u(e,t,n))},l=function(e,t){var n=(224&e[t+5])>>5,i=e[t+4]<<3,r=6144&e[t+3];return r|i|n},d=function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240===(240&e[t+1])?"audio":null},f=function(e){var t=0;while(t+5<e.length){if(255===e[t]&&240===(246&e[t+1]))return i[(60&e[t+2])>>>2];t++}return null},h=function(e){var t,n,i,r;t=10,64&e[5]&&(t+=4,t+=s(e.subarray(10,14)));do{if(n=s(e.subarray(t+4,t+8)),n<1)return null;if(r=String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3]),"PRIV"===r){i=e.subarray(t+10,t+n+10);for(var a=0;a<i.byteLength;a++)if(0===i[a]){var o=c(i,0,a);if("com.apple.streaming.transportStreamTimestamp"===o){var u=i.subarray(a+1),l=(1&u[3])<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;return l*=4,l+=3&u[7],l}break}}t+=10,t+=n}while(t<e.byteLength);return null};e.exports={isLikelyAacData:o,parseId3TagSize:r,parseAdtsSize:l,parseType:d,parseSampleRate:f,parseAacTimestamp:h}},fc6a:function(e,t,n){var i=n("44ad"),r=n("1d80");e.exports=function(e){return i(r(e))}},fda2:function(e,t,n){},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var i=n("4930");e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea5:function(e,t){var n=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];e.exports=n},fea9:function(e,t,n){var i=n("da84");e.exports=i.Promise}}]);
//# sourceMappingURL=chunk-vendors.836a9558.js.map